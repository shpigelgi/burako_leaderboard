var tw=Object.defineProperty;var ew=(r,t,n)=>t in r?tw(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n;var Pv=(r,t,n)=>ew(r,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function nw(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var fm={exports:{}},Ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function iw(){if(Lv)return Ml;Lv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ml.Fragment=t,Ml.jsx=n,Ml.jsxs=n,Ml}var Uv;function rw(){return Uv||(Uv=1,fm.exports=iw()),fm.exports}var I=rw(),dm={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function sw(){if(kv)return Rt;kv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function L(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,H={};function it(x,W,lt){this.props=x,this.context=W,this.refs=H,this.updater=lt||Q}it.prototype.isReactComponent={},it.prototype.setState=function(x,W){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,W,"setState")},it.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function st(){}st.prototype=it.prototype;function rt(x,W,lt){this.props=x,this.context=W,this.refs=H,this.updater=lt||Q}var _t=rt.prototype=new st;_t.constructor=rt,X(_t,it.prototype),_t.isPureReactComponent=!0;var wt=Array.isArray;function bt(){}var b={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(x,W,lt){var q=lt.ref;return{$$typeof:r,type:x,key:W,ref:q!==void 0?q:null,props:lt}}function D(x,W){return C(x.type,W,x.props)}function M(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function P(x){var W={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(lt){return W[lt]})}var N=/\/+/g;function Ot(x,W){return typeof x=="object"&&x!==null&&x.key!=null?P(""+x.key):W.toString(36)}function le(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(bt,bt):(x.status="pending",x.then(function(W){x.status==="pending"&&(x.status="fulfilled",x.value=W)},function(W){x.status==="pending"&&(x.status="rejected",x.reason=W)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Y(x,W,lt,q,tt){var ct=typeof x;(ct==="undefined"||ct==="boolean")&&(x=null);var ht=!1;if(x===null)ht=!0;else switch(ct){case"bigint":case"string":case"number":ht=!0;break;case"object":switch(x.$$typeof){case r:case t:ht=!0;break;case E:return ht=x._init,Y(ht(x._payload),W,lt,q,tt)}}if(ht)return tt=tt(x),ht=q===""?"."+Ot(x,0):q,wt(tt)?(lt="",ht!=null&&(lt=ht.replace(N,"$&/")+"/"),Y(tt,W,lt,"",function($t){return $t})):tt!=null&&(M(tt)&&(tt=D(tt,lt+(tt.key==null||x&&x.key===tt.key?"":(""+tt.key).replace(N,"$&/")+"/")+ht)),W.push(tt)),1;ht=0;var Ct=q===""?".":q+":";if(wt(x))for(var Mt=0;Mt<x.length;Mt++)q=x[Mt],ct=Ct+Ot(q,Mt),ht+=Y(q,W,lt,ct,tt);else if(Mt=L(x),typeof Mt=="function")for(x=Mt.call(x),Mt=0;!(q=x.next()).done;)q=q.value,ct=Ct+Ot(q,Mt++),ht+=Y(q,W,lt,ct,tt);else if(ct==="object"){if(typeof x.then=="function")return Y(le(x),W,lt,q,tt);throw W=String(x),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return ht}function ot(x,W,lt){if(x==null)return x;var q=[],tt=0;return Y(x,q,"","",function(ct){return W.call(lt,ct,tt++)}),q}function gt(x){if(x._status===-1){var W=x._result;W=W(),W.then(function(lt){(x._status===0||x._status===-1)&&(x._status=1,x._result=lt)},function(lt){(x._status===0||x._status===-1)&&(x._status=2,x._result=lt)}),x._status===-1&&(x._status=0,x._result=W)}if(x._status===1)return x._result.default;throw x._result}var Pt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Qt={map:ot,forEach:function(x,W,lt){ot(x,function(){W.apply(this,arguments)},lt)},count:function(x){var W=0;return ot(x,function(){W++}),W},toArray:function(x){return ot(x,function(W){return W})||[]},only:function(x){if(!M(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Rt.Activity=T,Rt.Children=Qt,Rt.Component=it,Rt.Fragment=n,Rt.Profiler=o,Rt.PureComponent=rt,Rt.StrictMode=s,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=b,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return b.H.useMemoCache(x)}},Rt.cache=function(x){return function(){return x.apply(null,arguments)}},Rt.cacheSignal=function(){return null},Rt.cloneElement=function(x,W,lt){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var q=X({},x.props),tt=x.key;if(W!=null)for(ct in W.key!==void 0&&(tt=""+W.key),W)!R.call(W,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&W.ref===void 0||(q[ct]=W[ct]);var ct=arguments.length-2;if(ct===1)q.children=lt;else if(1<ct){for(var ht=Array(ct),Ct=0;Ct<ct;Ct++)ht[Ct]=arguments[Ct+2];q.children=ht}return C(x.type,tt,q)},Rt.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Rt.createElement=function(x,W,lt){var q,tt={},ct=null;if(W!=null)for(q in W.key!==void 0&&(ct=""+W.key),W)R.call(W,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(tt[q]=W[q]);var ht=arguments.length-2;if(ht===1)tt.children=lt;else if(1<ht){for(var Ct=Array(ht),Mt=0;Mt<ht;Mt++)Ct[Mt]=arguments[Mt+2];tt.children=Ct}if(x&&x.defaultProps)for(q in ht=x.defaultProps,ht)tt[q]===void 0&&(tt[q]=ht[q]);return C(x,ct,tt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(x){return{$$typeof:m,render:x}},Rt.isValidElement=M,Rt.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:gt}},Rt.memo=function(x,W){return{$$typeof:g,type:x,compare:W===void 0?null:W}},Rt.startTransition=function(x){var W=b.T,lt={};b.T=lt;try{var q=x(),tt=b.S;tt!==null&&tt(lt,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(bt,Pt)}catch(ct){Pt(ct)}finally{W!==null&&lt.types!==null&&(W.types=lt.types),b.T=W}},Rt.unstable_useCacheRefresh=function(){return b.H.useCacheRefresh()},Rt.use=function(x){return b.H.use(x)},Rt.useActionState=function(x,W,lt){return b.H.useActionState(x,W,lt)},Rt.useCallback=function(x,W){return b.H.useCallback(x,W)},Rt.useContext=function(x){return b.H.useContext(x)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(x,W){return b.H.useDeferredValue(x,W)},Rt.useEffect=function(x,W){return b.H.useEffect(x,W)},Rt.useEffectEvent=function(x){return b.H.useEffectEvent(x)},Rt.useId=function(){return b.H.useId()},Rt.useImperativeHandle=function(x,W,lt){return b.H.useImperativeHandle(x,W,lt)},Rt.useInsertionEffect=function(x,W){return b.H.useInsertionEffect(x,W)},Rt.useLayoutEffect=function(x,W){return b.H.useLayoutEffect(x,W)},Rt.useMemo=function(x,W){return b.H.useMemo(x,W)},Rt.useOptimistic=function(x,W){return b.H.useOptimistic(x,W)},Rt.useReducer=function(x,W,lt){return b.H.useReducer(x,W,lt)},Rt.useRef=function(x){return b.H.useRef(x)},Rt.useState=function(x){return b.H.useState(x)},Rt.useSyncExternalStore=function(x,W,lt){return b.H.useSyncExternalStore(x,W,lt)},Rt.useTransition=function(){return b.H.useTransition()},Rt.version="19.2.0",Rt}var zv;function fp(){return zv||(zv=1,dm.exports=sw()),dm.exports}var G=fp();const Jc=nw(G);var mm={exports:{}},Vl={},pm={exports:{}},gm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function aw(){return jv||(jv=1,(function(r){function t(Y,ot){var gt=Y.length;Y.push(ot);t:for(;0<gt;){var Pt=gt-1>>>1,Qt=Y[Pt];if(0<o(Qt,ot))Y[Pt]=ot,Y[gt]=Qt,gt=Pt;else break t}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var ot=Y[0],gt=Y.pop();if(gt!==ot){Y[0]=gt;t:for(var Pt=0,Qt=Y.length,x=Qt>>>1;Pt<x;){var W=2*(Pt+1)-1,lt=Y[W],q=W+1,tt=Y[q];if(0>o(lt,gt))q<Qt&&0>o(tt,lt)?(Y[Pt]=tt,Y[q]=gt,Pt=q):(Y[Pt]=lt,Y[W]=gt,Pt=W);else if(q<Qt&&0>o(tt,gt))Y[Pt]=tt,Y[q]=gt,Pt=q;else break t}}return ot}function o(Y,ot){var gt=Y.sortIndex-ot.sortIndex;return gt!==0?gt:Y.id-ot.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,T=null,w=3,L=!1,Q=!1,X=!1,H=!1,it=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function _t(Y){for(var ot=n(g);ot!==null;){if(ot.callback===null)s(g);else if(ot.startTime<=Y)s(g),ot.sortIndex=ot.expirationTime,t(p,ot);else break;ot=n(g)}}function wt(Y){if(X=!1,_t(Y),!Q)if(n(p)!==null)Q=!0,bt||(bt=!0,P());else{var ot=n(g);ot!==null&&le(wt,ot.startTime-Y)}}var bt=!1,b=-1,R=5,C=-1;function D(){return H?!0:!(r.unstable_now()-C<R)}function M(){if(H=!1,bt){var Y=r.unstable_now();C=Y;var ot=!0;try{t:{Q=!1,X&&(X=!1,st(b),b=-1),L=!0;var gt=w;try{e:{for(_t(Y),T=n(p);T!==null&&!(T.expirationTime>Y&&D());){var Pt=T.callback;if(typeof Pt=="function"){T.callback=null,w=T.priorityLevel;var Qt=Pt(T.expirationTime<=Y);if(Y=r.unstable_now(),typeof Qt=="function"){T.callback=Qt,_t(Y),ot=!0;break e}T===n(p)&&s(p),_t(Y)}else s(p);T=n(p)}if(T!==null)ot=!0;else{var x=n(g);x!==null&&le(wt,x.startTime-Y),ot=!1}}break t}finally{T=null,w=gt,L=!1}ot=void 0}}finally{ot?P():bt=!1}}}var P;if(typeof rt=="function")P=function(){rt(M)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Ot=N.port2;N.port1.onmessage=M,P=function(){Ot.postMessage(null)}}else P=function(){it(M,0)};function le(Y,ot){b=it(function(){Y(r.unstable_now())},ot)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var ot=3;break;default:ot=w}var gt=w;w=ot;try{return Y()}finally{w=gt}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(Y,ot){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var gt=w;w=Y;try{return ot()}finally{w=gt}},r.unstable_scheduleCallback=function(Y,ot,gt){var Pt=r.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?Pt+gt:Pt):gt=Pt,Y){case 1:var Qt=-1;break;case 2:Qt=250;break;case 5:Qt=1073741823;break;case 4:Qt=1e4;break;default:Qt=5e3}return Qt=gt+Qt,Y={id:E++,callback:ot,priorityLevel:Y,startTime:gt,expirationTime:Qt,sortIndex:-1},gt>Pt?(Y.sortIndex=gt,t(g,Y),n(p)===null&&Y===n(g)&&(X?(st(b),b=-1):X=!0,le(wt,gt-Pt))):(Y.sortIndex=Qt,t(p,Y),Q||L||(Q=!0,bt||(bt=!0,P()))),Y},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(Y){var ot=w;return function(){var gt=w;w=ot;try{return Y.apply(this,arguments)}finally{w=gt}}}})(gm)),gm}var Bv;function ow(){return Bv||(Bv=1,pm.exports=aw()),pm.exports}var ym={exports:{}},Ze={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function lw(){if(qv)return Ze;qv=1;var r=fp();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ze.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,E)},Ze.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Ze.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Ze.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ze.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,L=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:L}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:L,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ze.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Ze.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ze.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Ze.requestFormReset=function(p){s.d.r(p)},Ze.unstable_batchedUpdates=function(p,g){return p(g)},Ze.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Ze.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ze.version="19.2.0",Ze}var Hv;function uw(){if(Hv)return ym.exports;Hv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),ym.exports=lw(),ym.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function cw(){if(Fv)return Vl;Fv=1;var r=ow(),t=fp(),n=uw();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function g(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),e;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),it=Symbol.for("react.profiler"),st=Symbol.for("react.consumer"),rt=Symbol.for("react.context"),_t=Symbol.for("react.forward_ref"),wt=Symbol.for("react.suspense"),bt=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var N=Symbol.for("react.client.reference");function Ot(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===N?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case X:return"Fragment";case it:return"Profiler";case H:return"StrictMode";case wt:return"Suspense";case bt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Q:return"Portal";case rt:return e.displayName||"Context";case st:return(e._context.displayName||"Context")+".Consumer";case _t:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case b:return i=e.displayName||null,i!==null?i:Ot(e.type)||"Memo";case R:i=e._payload,e=e._init;try{return Ot(e(i))}catch{}}return null}var le=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},Pt=[],Qt=-1;function x(e){return{current:e}}function W(e){0>Qt||(e.current=Pt[Qt],Pt[Qt]=null,Qt--)}function lt(e,i){Qt++,Pt[Qt]=e.current,e.current=i}var q=x(null),tt=x(null),ct=x(null),ht=x(null);function Ct(e,i){switch(lt(ct,i),lt(tt,e),lt(q,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?rv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=rv(i),e=sv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(q),lt(q,e)}function Mt(){W(q),W(tt),W(ct)}function $t(e){e.memoizedState!==null&&lt(ht,e);var i=q.current,a=sv(i,e.type);i!==a&&(lt(tt,e),lt(q,a))}function dr(e){tt.current===e&&(W(q),W(tt)),ht.current===e&&(W(ht),Il._currentValue=gt)}var mr,la;function li(e){if(mr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);mr=i&&i[1]||"",la=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mr+e+la}var Io=!1;function Es(e,i){if(!e||Io)return"";Io=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(K){var B=K}Reflect.construct(e,[],et)}else{try{et.call()}catch(K){B=K}e.call(et.prototype)}}else{try{throw Error()}catch(K){B=K}(et=e())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(K){if(K&&B&&typeof K.stack=="string")return[K.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var O=_.split(`
`),j=S.split(`
`);for(h=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===O.length||h===j.length)for(l=O.length-1,h=j.length-1;1<=l&&0<=h&&O[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(O[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||O[l]!==j[h]){var $=`
`+O[l].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=l&&0<=h);break}}}finally{Io=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?li(a):""}function No(e,i){switch(e.tag){case 26:case 27:case 5:return li(e.type);case 16:return li("Lazy");case 13:return e.child!==i&&i!==null?li("Suspense Fallback"):li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return Es(e.type,!1);case 11:return Es(e.type.render,!1);case 1:return Es(e.type,!0);case 31:return li("Activity");default:return""}}function Do(e){try{var i="",a=null;do i+=No(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Te=Object.prototype.hasOwnProperty,Ve=r.unstable_scheduleCallback,pr=r.unstable_cancelCallback,mf=r.unstable_shouldYield,Su=r.unstable_requestPaint,nn=r.unstable_now,Ts=r.unstable_getCurrentPriorityLevel,Oo=r.unstable_ImmediatePriority,Mo=r.unstable_UserBlockingPriority,gr=r.unstable_NormalPriority,pf=r.unstable_LowPriority,Au=r.unstable_IdlePriority,bu=r.log,wu=r.unstable_setDisableYieldValue,Fn=null,qe=null;function Dn(e){if(typeof bu=="function"&&wu(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Fn,e)}catch{}}var ge=Math.clz32?Math.clz32:Cu,Ru=Math.log,ua=Math.LN2;function Cu(e){return e>>>=0,e===0?32:31-(Ru(e)/ua|0)|0}var ui=256,Ss=262144,Se=4194304;function ci(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function hi(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=ci(l):(_&=S,_!==0?h=ci(_):a||(a=S&~e,a!==0&&(h=ci(a))))):(S=l&~d,S!==0?h=ci(S):_!==0?h=ci(_):a||(a=l&~e,a!==0&&(h=ci(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Gn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function gf(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Iu(){var e=Se;return Se<<=1,(Se&62914560)===0&&(Se=4194304),e}function fi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function As(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function yf(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,O=e.expirationTimes,j=e.hiddenUpdates;for(a=_&~a;0<a;){var $=31-ge(a),et=1<<$;S[$]=0,O[$]=-1;var B=j[$];if(B!==null)for(j[$]=null,$=0;$<B.length;$++){var K=B[$];K!==null&&(K.lane&=-536870913)}a&=~et}l!==0&&bs(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function bs(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-ge(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Vo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-ge(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function xo(e,i){var a=i&-i;return a=(a&42)!==0?1:ws(a),(a&(e.suspendedLanes|i))!==0?0:a}function ws(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ki(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Nu(){var e=ot.p;return e!==0?e:(e=window.event,e===void 0?32:Iv(e.type))}function Qn(e,i){var a=ot.p;try{return ot.p=e,i()}finally{ot.p=a}}var Kn=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Kn,Le="__reactProps$"+Kn,di="__reactContainer$"+Kn,ca="__reactEvents$"+Kn,_f="__reactListeners$"+Kn,Du="__reactHandles$"+Kn,Ou="__reactResources$"+Kn,mi="__reactMarker$"+Kn;function ha(e){delete e[Ae],delete e[Le],delete e[ca],delete e[_f],delete e[Du]}function pi(e){var i=e[Ae];if(i)return i;for(var a=e.parentNode;a;){if(i=a[di]||a[Ae]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=fv(e);e!==null;){if(a=e[Ae])return a;e=fv(e)}return i}e=a,a=e.parentNode}return null}function On(e){if(e=e[Ae]||e[di]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function _n(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function gi(e){var i=e[Ou];return i||(i=e[Ou]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function be(e){e[mi]=!0}var Po=new Set,Lo={};function yi(e,i){_i(e,i),_i(e+"Capture",i)}function _i(e,i){for(Lo[e]=i,e=0;e<i.length;e++)Po.add(i[e])}var Uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ko={},zo={};function Mu(e){return Te.call(zo,e)?!0:Te.call(ko,e)?!1:Uo.test(e)?zo[e]=!0:(ko[e]=!0,!1)}function fa(e,i,a){if(Mu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function vn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function we(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function jo(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Xt(e){if(!e._valueTracker){var i=yr(e)?"checked":"value";e._valueTracker=jo(e,i,""+e[i])}}function Rs(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=yr(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function vi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Cs=/[\n"\\]/g;function cn(e){return e.replace(Cs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function da(e,i,a,l,h,d,_,S){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ue(i)):e.value!==""+Ue(i)&&(e.value=""+Ue(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Bo(e,_,Ue(i)):a!=null?Bo(e,_,Ue(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Ue(S):e.removeAttribute("name")}function Vu(e,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Xt(e);return}a=a!=null?""+Ue(a):"",i=i!=null?""+Ue(i):a,S||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Xt(e)}function Bo(e,i,a){i==="number"&&vi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function _r(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ue(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function xu(e,i,a){if(i!=null&&(i=""+Ue(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Ue(a):""}function vr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(le(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ue(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Xt(e)}function hn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Pu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Ho(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&qo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&qo(e,d,i[d])}function ma(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Er=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(e){return Er.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Yn(){}var Fo=null;function Mn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tr=null,Ei=null;function Is(e){var i=On(e);if(i&&(e=i.stateNode)){var a=e[Le]||null;t:switch(e=i.stateNode,i.type){case"input":if(da(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+cn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Le]||null;if(!h)throw Error(s(90));da(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Rs(l)}break t;case"textarea":xu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&_r(e,!!a.multiple,i,!1)}}}var ga=!1;function Sr(e,i,a){if(ga)return e(i,a);ga=!0;try{var l=e(i);return l}finally{if(ga=!1,(Tr!==null||Ei!==null)&&(Nc(),Tr&&(i=Tr,e=Ei,Ei=Tr=null,Is(i),e)))for(i=0;i<e.length;i++)Is(e[i])}}function $n(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Le]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ns=!1;if(Vn)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){Ns=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch{Ns=!1}var Ti=null,Go=null,Ds=null;function Qo(){if(Ds)return Ds;var e,i=Go,a=i.length,l,h="value"in Ti?Ti.value:Ti.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Ds=h.slice(e,1<l?1-l:void 0)}function Os(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function zi(){return!0}function Xn(){return!1}function He(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?zi:Xn,this.isPropagationStopped=Xn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),i}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=He(ji),Ar=T({},ji,{view:0,detail:0}),Ko=He(Ar),br,ya,Ai,_a=T({},Ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ai&&(Ai&&e.type==="mousemove"?(br=e.screenX-Ai.screenX,ya=e.screenY-Ai.screenY):ya=br=0,Ai=e),br)},movementY:function(e){return"movementY"in e?e.movementY:ya}}),Yo=He(_a),Ms=T({},_a,{dataTransfer:0}),Uu=He(Ms),ku=T({},Ar,{relatedTarget:0}),Vs=He(ku),$o=T({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),zu=He($o),va=T({},ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ju=He(va),Bu=T({},ji,{data:0}),bi=He(Bu),qu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Fu[e])?!!i[e]:!1}function wr(){return Gu}var rn=T({},Ar,{key:function(e){if(e.key){var i=qu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Os(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wr,charCode:function(e){return e.type==="keypress"?Os(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Os(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qu=He(rn),Ku=T({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=He(Ku),c=T({},Ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wr}),y=He(c),v=T({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=He(v),k=T({},_a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),F=He(k),at=T({},ji,{newState:0,oldState:0}),It=He(at),ye=[9,13,27,32],Kt=Vn&&"CompositionEvent"in window,ue=null;Vn&&"documentMode"in document&&(ue=document.documentMode);var xn=Vn&&"TextEvent"in window&&!ue,wi=Vn&&(!Kt||ue&&8<ue&&11>=ue),Jn=" ",Zn=!1;function xs(e,i){switch(e){case"keyup":return ye.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ta=!1;function bA(e,i){switch(e){case"compositionend":return Ea(i);case"keypress":return i.which!==32?null:(Zn=!0,Jn);case"textInput":return e=i.data,e===Jn&&Zn?null:e;default:return null}}function wA(e,i){if(Ta)return e==="compositionend"||!Kt&&xs(e,i)?(e=Qo(),Ds=Go=Ti=null,Ta=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return wi&&i.locale!=="ko"?null:i.data;default:return null}}var RA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pg(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!RA[e.type]:i==="textarea"}function gg(e,i,a,l){Tr?Ei?Ei.push(l):Ei=[l]:Tr=l,i=Lc(i,"onChange"),0<i.length&&(a=new Si("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Xo=null,Jo=null;function CA(e){Z_(e,0)}function Yu(e){var i=_n(e);if(Rs(i))return e}function yg(e,i){if(e==="change")return i}var _g=!1;if(Vn){var vf;if(Vn){var Ef="oninput"in document;if(!Ef){var vg=document.createElement("div");vg.setAttribute("oninput","return;"),Ef=typeof vg.oninput=="function"}vf=Ef}else vf=!1;_g=vf&&(!document.documentMode||9<document.documentMode)}function Eg(){Xo&&(Xo.detachEvent("onpropertychange",Tg),Jo=Xo=null)}function Tg(e){if(e.propertyName==="value"&&Yu(Jo)){var i=[];gg(i,Jo,e,Mn(e)),Sr(CA,i)}}function IA(e,i,a){e==="focusin"?(Eg(),Xo=i,Jo=a,Xo.attachEvent("onpropertychange",Tg)):e==="focusout"&&Eg()}function NA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yu(Jo)}function DA(e,i){if(e==="click")return Yu(i)}function OA(e,i){if(e==="input"||e==="change")return Yu(i)}function MA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var En=typeof Object.is=="function"?Object.is:MA;function Zo(e,i){if(En(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Te.call(i,h)||!En(e[h],i[h]))return!1}return!0}function Sg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ag(e,i){var a=Sg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Sg(a)}}function bg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?bg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function wg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=vi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=vi(e.document)}return i}function Tf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var VA=Vn&&"documentMode"in document&&11>=document.documentMode,Sa=null,Sf=null,Wo=null,Af=!1;function Rg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Af||Sa==null||Sa!==vi(l)||(l=Sa,"selectionStart"in l&&Tf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Wo&&Zo(Wo,l)||(Wo=l,l=Lc(Sf,"onSelect"),0<l.length&&(i=new Si("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Sa)))}function Ps(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Aa={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionrun:Ps("Transition","TransitionRun"),transitionstart:Ps("Transition","TransitionStart"),transitioncancel:Ps("Transition","TransitionCancel"),transitionend:Ps("Transition","TransitionEnd")},bf={},Cg={};Vn&&(Cg=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Ls(e){if(bf[e])return bf[e];if(!Aa[e])return e;var i=Aa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Cg)return bf[e]=i[a];return e}var Ig=Ls("animationend"),Ng=Ls("animationiteration"),Dg=Ls("animationstart"),xA=Ls("transitionrun"),PA=Ls("transitionstart"),LA=Ls("transitioncancel"),Og=Ls("transitionend"),Mg=new Map,wf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wf.push("scrollEnd");function Wn(e,i){Mg.set(e,i),yi(i,[e])}var $u=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Pn=[],ba=0,Rf=0;function Xu(){for(var e=ba,i=Rf=ba=0;i<e;){var a=Pn[i];Pn[i++]=null;var l=Pn[i];Pn[i++]=null;var h=Pn[i];Pn[i++]=null;var d=Pn[i];if(Pn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Vg(a,h,d)}}function Ju(e,i,a,l){Pn[ba++]=e,Pn[ba++]=i,Pn[ba++]=a,Pn[ba++]=l,Rf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Cf(e,i,a,l){return Ju(e,i,a,l),Zu(e)}function Us(e,i){return Ju(e,null,null,i),Zu(e)}function Vg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-ge(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Zu(e){if(50<Tl)throw Tl=0,Ld=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var wa={};function UA(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(e,i,a,l){return new UA(e,i,a,l)}function If(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qi(e,i){var a=e.alternate;return a===null?(a=Tn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function xg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Wu(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")If(e)&&(_=1);else if(typeof e=="string")_=qb(e,a,q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=Tn(31,a,i,h),e.elementType=C,e.lanes=d,e;case X:return ks(a.children,h,d,i);case H:_=8,h|=24;break;case it:return e=Tn(12,a,i,h|2),e.elementType=it,e.lanes=d,e;case wt:return e=Tn(13,a,i,h),e.elementType=wt,e.lanes=d,e;case bt:return e=Tn(19,a,i,h),e.elementType=bt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rt:_=10;break t;case st:_=9;break t;case _t:_=11;break t;case b:_=14;break t;case R:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=Tn(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function ks(e,i,a,l){return e=Tn(7,e,l,i),e.lanes=a,e}function Nf(e,i,a){return e=Tn(6,e,null,i),e.lanes=a,e}function Pg(e){var i=Tn(18,null,null,0);return i.stateNode=e,i}function Df(e,i,a){return i=Tn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Lg=new WeakMap;function Ln(e,i){if(typeof e=="object"&&e!==null){var a=Lg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Do(i)},Lg.set(e,i),i)}return{value:e,source:i,stack:Do(i)}}var Ra=[],Ca=0,tc=null,tl=0,Un=[],kn=0,Rr=null,Ri=1,Ci="";function Hi(e,i){Ra[Ca++]=tl,Ra[Ca++]=tc,tc=e,tl=i}function Ug(e,i,a){Un[kn++]=Ri,Un[kn++]=Ci,Un[kn++]=Rr,Rr=e;var l=Ri;e=Ci;var h=32-ge(l)-1;l&=~(1<<h),a+=1;var d=32-ge(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ri=1<<32-ge(i)+h|a<<h|l,Ci=d+e}else Ri=1<<d|a<<h|l,Ci=e}function Of(e){e.return!==null&&(Hi(e,1),Ug(e,1,0))}function Mf(e){for(;e===tc;)tc=Ra[--Ca],Ra[Ca]=null,tl=Ra[--Ca],Ra[Ca]=null;for(;e===Rr;)Rr=Un[--kn],Un[kn]=null,Ci=Un[--kn],Un[kn]=null,Ri=Un[--kn],Un[kn]=null}function kg(e,i){Un[kn++]=Ri,Un[kn++]=Ci,Un[kn++]=Rr,Ri=i.id,Ci=i.overflow,Rr=e}var Fe=null,ae=null,Bt=!1,Cr=null,zn=!1,Vf=Error(s(519));function Ir(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw el(Ln(i,e)),Vf}function zg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Ae]=e,i[Le]=l,a){case"dialog":xt("cancel",i),xt("close",i);break;case"iframe":case"object":case"embed":xt("load",i);break;case"video":case"audio":for(a=0;a<Al.length;a++)xt(Al[a],i);break;case"source":xt("error",i);break;case"img":case"image":case"link":xt("error",i),xt("load",i);break;case"details":xt("toggle",i);break;case"input":xt("invalid",i),Vu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":xt("invalid",i);break;case"textarea":xt("invalid",i),vr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||nv(i.textContent,a)?(l.popover!=null&&(xt("beforetoggle",i),xt("toggle",i)),l.onScroll!=null&&xt("scroll",i),l.onScrollEnd!=null&&xt("scrollend",i),l.onClick!=null&&(i.onclick=Yn),i=!0):i=!1,i||Ir(e,!0)}function jg(e){for(Fe=e.return;Fe;)switch(Fe.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Fe=Fe.return}}function Ia(e){if(e!==Fe)return!1;if(!Bt)return jg(e),Bt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Jd(e.type,e.memoizedProps)),a=!a),a&&ae&&Ir(e),jg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ae=hv(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ae=hv(e)}else i===27?(i=ae,qr(e.type)?(e=nm,nm=null,ae=e):ae=i):ae=Fe?Bn(e.stateNode.nextSibling):null;return!0}function zs(){ae=Fe=null,Bt=!1}function xf(){var e=Cr;return e!==null&&(pn===null?pn=e:pn.push.apply(pn,e),Cr=null),e}function el(e){Cr===null?Cr=[e]:Cr.push(e)}var Pf=x(null),js=null,Fi=null;function Nr(e,i,a){lt(Pf,i._currentValue),i._currentValue=a}function Gi(e){e._currentValue=Pf.current,W(Pf)}function Lf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Uf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var S=d;d=h;for(var O=0;O<i.length;O++)if(S.context===i[O]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Lf(d.return,a,e),l||(_=null);break t}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Lf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Na(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;En(h.pendingProps.value,_.value)||(e!==null?e.push(S):e=[S])}}else if(h===ht.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Il):e=[Il])}h=h.return}e!==null&&Uf(i,e,a,l),i.flags|=262144}function ec(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Bs(e){js=e,Fi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return Bg(js,e)}function nc(e,i){return js===null&&Bs(e),Bg(e,i)}function Bg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Fi===null){if(e===null)throw Error(s(308));Fi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Fi=Fi.next=i;return a}var kA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},zA=r.unstable_scheduleCallback,jA=r.unstable_NormalPriority,Re={$$typeof:rt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kf(){return{controller:new kA,data:new Map,refCount:0}}function nl(e){e.refCount--,e.refCount===0&&zA(jA,function(){e.controller.abort()})}var il=null,zf=0,Da=0,Oa=null;function BA(e,i){if(il===null){var a=il=[];zf=0,Da=qd(),Oa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return zf++,i.then(qg,qg),i}function qg(){if(--zf===0&&il!==null){Oa!==null&&(Oa.status="fulfilled");var e=il;il=null,Da=0,Oa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function qA(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Hg=Y.S;Y.S=function(e,i){R_=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&BA(e,i),Hg!==null&&Hg(e,i)};var qs=x(null);function jf(){var e=qs.current;return e!==null?e:re.pooledCache}function ic(e,i){i===null?lt(qs,qs.current):lt(qs,i.pool)}function Fg(){var e=jf();return e===null?null:{parent:Re._currentValue,pool:e}}var Ma=Error(s(460)),Bf=Error(s(474)),rc=Error(s(542)),sc={then:function(){}};function Gg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Yn,Yn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Yg(e),e;default:if(typeof i.status=="string")i.then(Yn,Yn);else{if(e=re,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Yg(e),e}throw Fs=i,Ma}}function Hs(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Fs=a,Ma):a}}var Fs=null;function Kg(){if(Fs===null)throw Error(s(459));var e=Fs;return Fs=null,e}function Yg(e){if(e===Ma||e===rc)throw Error(s(483))}var Va=null,rl=0;function ac(e){var i=rl;return rl+=1,Va===null&&(Va=[]),Qg(Va,e,i)}function sl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function oc(e,i){throw i.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function $g(e){function i(U,V){if(e){var z=U.deletions;z===null?(U.deletions=[V],U.flags|=16):z.push(V)}}function a(U,V){if(!e)return null;for(;V!==null;)i(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function h(U,V){return U=qi(U,V),U.index=0,U.sibling=null,U}function d(U,V,z){return U.index=z,e?(z=U.alternate,z!==null?(z=z.index,z<V?(U.flags|=67108866,V):z):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function _(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function S(U,V,z,Z){return V===null||V.tag!==6?(V=Nf(z,U.mode,Z),V.return=U,V):(V=h(V,z),V.return=U,V)}function O(U,V,z,Z){var yt=z.type;return yt===X?$(U,V,z.props.children,Z,z.key):V!==null&&(V.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===R&&Hs(yt)===V.type)?(V=h(V,z.props),sl(V,z),V.return=U,V):(V=Wu(z.type,z.key,z.props,null,U.mode,Z),sl(V,z),V.return=U,V)}function j(U,V,z,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=Df(z,U.mode,Z),V.return=U,V):(V=h(V,z.children||[]),V.return=U,V)}function $(U,V,z,Z,yt){return V===null||V.tag!==7?(V=ks(z,U.mode,Z,yt),V.return=U,V):(V=h(V,z),V.return=U,V)}function et(U,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Nf(""+V,U.mode,z),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case L:return z=Wu(V.type,V.key,V.props,null,U.mode,z),sl(z,V),z.return=U,z;case Q:return V=Df(V,U.mode,z),V.return=U,V;case R:return V=Hs(V),et(U,V,z)}if(le(V)||P(V))return V=ks(V,U.mode,z,null),V.return=U,V;if(typeof V.then=="function")return et(U,ac(V),z);if(V.$$typeof===rt)return et(U,nc(U,V),z);oc(U,V)}return null}function B(U,V,z,Z){var yt=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return yt!==null?null:S(U,V,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case L:return z.key===yt?O(U,V,z,Z):null;case Q:return z.key===yt?j(U,V,z,Z):null;case R:return z=Hs(z),B(U,V,z,Z)}if(le(z)||P(z))return yt!==null?null:$(U,V,z,Z,null);if(typeof z.then=="function")return B(U,V,ac(z),Z);if(z.$$typeof===rt)return B(U,V,nc(U,z),Z);oc(U,z)}return null}function K(U,V,z,Z,yt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(z)||null,S(V,U,""+Z,yt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case L:return U=U.get(Z.key===null?z:Z.key)||null,O(V,U,Z,yt);case Q:return U=U.get(Z.key===null?z:Z.key)||null,j(V,U,Z,yt);case R:return Z=Hs(Z),K(U,V,z,Z,yt)}if(le(Z)||P(Z))return U=U.get(z)||null,$(V,U,Z,yt,null);if(typeof Z.then=="function")return K(U,V,z,ac(Z),yt);if(Z.$$typeof===rt)return K(U,V,z,nc(V,Z),yt);oc(V,Z)}return null}function dt(U,V,z,Z){for(var yt=null,Ft=null,mt=V,Dt=V=0,Ut=null;mt!==null&&Dt<z.length;Dt++){mt.index>Dt?(Ut=mt,mt=null):Ut=mt.sibling;var Gt=B(U,mt,z[Dt],Z);if(Gt===null){mt===null&&(mt=Ut);break}e&&mt&&Gt.alternate===null&&i(U,mt),V=d(Gt,V,Dt),Ft===null?yt=Gt:Ft.sibling=Gt,Ft=Gt,mt=Ut}if(Dt===z.length)return a(U,mt),Bt&&Hi(U,Dt),yt;if(mt===null){for(;Dt<z.length;Dt++)mt=et(U,z[Dt],Z),mt!==null&&(V=d(mt,V,Dt),Ft===null?yt=mt:Ft.sibling=mt,Ft=mt);return Bt&&Hi(U,Dt),yt}for(mt=l(mt);Dt<z.length;Dt++)Ut=K(mt,U,Dt,z[Dt],Z),Ut!==null&&(e&&Ut.alternate!==null&&mt.delete(Ut.key===null?Dt:Ut.key),V=d(Ut,V,Dt),Ft===null?yt=Ut:Ft.sibling=Ut,Ft=Ut);return e&&mt.forEach(function(Kr){return i(U,Kr)}),Bt&&Hi(U,Dt),yt}function Et(U,V,z,Z){if(z==null)throw Error(s(151));for(var yt=null,Ft=null,mt=V,Dt=V=0,Ut=null,Gt=z.next();mt!==null&&!Gt.done;Dt++,Gt=z.next()){mt.index>Dt?(Ut=mt,mt=null):Ut=mt.sibling;var Kr=B(U,mt,Gt.value,Z);if(Kr===null){mt===null&&(mt=Ut);break}e&&mt&&Kr.alternate===null&&i(U,mt),V=d(Kr,V,Dt),Ft===null?yt=Kr:Ft.sibling=Kr,Ft=Kr,mt=Ut}if(Gt.done)return a(U,mt),Bt&&Hi(U,Dt),yt;if(mt===null){for(;!Gt.done;Dt++,Gt=z.next())Gt=et(U,Gt.value,Z),Gt!==null&&(V=d(Gt,V,Dt),Ft===null?yt=Gt:Ft.sibling=Gt,Ft=Gt);return Bt&&Hi(U,Dt),yt}for(mt=l(mt);!Gt.done;Dt++,Gt=z.next())Gt=K(mt,U,Dt,Gt.value,Z),Gt!==null&&(e&&Gt.alternate!==null&&mt.delete(Gt.key===null?Dt:Gt.key),V=d(Gt,V,Dt),Ft===null?yt=Gt:Ft.sibling=Gt,Ft=Gt);return e&&mt.forEach(function(Wb){return i(U,Wb)}),Bt&&Hi(U,Dt),yt}function ne(U,V,z,Z){if(typeof z=="object"&&z!==null&&z.type===X&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case L:t:{for(var yt=z.key;V!==null;){if(V.key===yt){if(yt=z.type,yt===X){if(V.tag===7){a(U,V.sibling),Z=h(V,z.props.children),Z.return=U,U=Z;break t}}else if(V.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===R&&Hs(yt)===V.type){a(U,V.sibling),Z=h(V,z.props),sl(Z,z),Z.return=U,U=Z;break t}a(U,V);break}else i(U,V);V=V.sibling}z.type===X?(Z=ks(z.props.children,U.mode,Z,z.key),Z.return=U,U=Z):(Z=Wu(z.type,z.key,z.props,null,U.mode,Z),sl(Z,z),Z.return=U,U=Z)}return _(U);case Q:t:{for(yt=z.key;V!==null;){if(V.key===yt)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){a(U,V.sibling),Z=h(V,z.children||[]),Z.return=U,U=Z;break t}else{a(U,V);break}else i(U,V);V=V.sibling}Z=Df(z,U.mode,Z),Z.return=U,U=Z}return _(U);case R:return z=Hs(z),ne(U,V,z,Z)}if(le(z))return dt(U,V,z,Z);if(P(z)){if(yt=P(z),typeof yt!="function")throw Error(s(150));return z=yt.call(z),Et(U,V,z,Z)}if(typeof z.then=="function")return ne(U,V,ac(z),Z);if(z.$$typeof===rt)return ne(U,V,nc(U,z),Z);oc(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(a(U,V.sibling),Z=h(V,z),Z.return=U,U=Z):(a(U,V),Z=Nf(z,U.mode,Z),Z.return=U,U=Z),_(U)):a(U,V)}return function(U,V,z,Z){try{rl=0;var yt=ne(U,V,z,Z);return Va=null,yt}catch(mt){if(mt===Ma||mt===rc)throw mt;var Ft=Tn(29,mt,null,U.mode);return Ft.lanes=Z,Ft.return=U,Ft}finally{}}}var Gs=$g(!0),Xg=$g(!1),Dr=!1;function qf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Or(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Mr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Yt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Zu(e),Vg(e,null,a),i}return Ju(e,l,i,a),Zu(e)}function al(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Vo(e,a)}}function Ff(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Gf=!1;function ol(){if(Gf){var e=Oa;if(e!==null)throw e}}function ll(e,i,a,l){Gf=!1;var h=e.updateQueue;Dr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var O=S,j=O.next;O.next=null,_===null?d=j:_.next=j,_=O;var $=e.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==_&&(S===null?$.firstBaseUpdate=j:S.next=j,$.lastBaseUpdate=O))}if(d!==null){var et=h.baseState;_=0,$=j=O=null,S=d;do{var B=S.lane&-536870913,K=B!==S.lane;if(K?(Lt&B)===B:(l&B)===B){B!==0&&B===Da&&(Gf=!0),$!==null&&($=$.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var dt=e,Et=S;B=i;var ne=a;switch(Et.tag){case 1:if(dt=Et.payload,typeof dt=="function"){et=dt.call(ne,et,B);break t}et=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=Et.payload,B=typeof dt=="function"?dt.call(ne,et,B):dt,B==null)break t;et=T({},et,B);break t;case 2:Dr=!0}}B=S.callback,B!==null&&(e.flags|=64,K&&(e.flags|=8192),K=h.callbacks,K===null?h.callbacks=[B]:K.push(B))}else K={lane:B,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(j=$=K,O=et):$=$.next=K,_|=B;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;K=S,S=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);$===null&&(O=et),h.baseState=O,h.firstBaseUpdate=j,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),Ur|=_,e.lanes=_,e.memoizedState=et}}function Jg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Zg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Jg(a[e],i)}var xa=x(null),lc=x(0);function Wg(e,i){e=tr,lt(lc,e),lt(xa,i),tr=e|i.baseLanes}function Qf(){lt(lc,tr),lt(xa,xa.current)}function Kf(){tr=lc.current,W(xa),W(lc)}var Sn=x(null),jn=null;function Vr(e){var i=e.alternate;lt(_e,_e.current&1),lt(Sn,e),jn===null&&(i===null||xa.current!==null||i.memoizedState!==null)&&(jn=e)}function Yf(e){lt(_e,_e.current),lt(Sn,e),jn===null&&(jn=e)}function ty(e){e.tag===22?(lt(_e,_e.current),lt(Sn,e),jn===null&&(jn=e)):xr()}function xr(){lt(_e,_e.current),lt(Sn,Sn.current)}function An(e){W(Sn),jn===e&&(jn=null),W(_e)}var _e=x(0);function uc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||tm(a)||em(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qi=0,Nt=null,te=null,Ce=null,cc=!1,Pa=!1,Qs=!1,hc=0,ul=0,La=null,HA=0;function de(){throw Error(s(321))}function $f(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!En(e[a],i[a]))return!1;return!0}function Xf(e,i,a,l,h,d){return Qi=d,Nt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=e===null||e.memoizedState===null?Uy:hd,Qs=!1,d=a(l,h),Qs=!1,Pa&&(d=ny(i,a,l,h)),ey(e),d}function ey(e){Y.H=fl;var i=te!==null&&te.next!==null;if(Qi=0,Ce=te=Nt=null,cc=!1,ul=0,La=null,i)throw Error(s(300));e===null||Ie||(e=e.dependencies,e!==null&&ec(e)&&(Ie=!0))}function ny(e,i,a,l){Nt=e;var h=0;do{if(Pa&&(La=null),ul=0,Pa=!1,25<=h)throw Error(s(301));if(h+=1,Ce=te=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=ky,d=i(a,l)}while(Pa);return d}function FA(){var e=Y.H,i=e.useState()[0];return i=typeof i.then=="function"?cl(i):i,e=e.useState()[0],(te!==null?te.memoizedState:null)!==e&&(Nt.flags|=1024),i}function Jf(){var e=hc!==0;return hc=0,e}function Zf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Wf(e){if(cc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}cc=!1}Qi=0,Ce=te=Nt=null,Pa=!1,ul=hc=0,La=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?Nt.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function ve(){if(te===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=te.next;var i=Ce===null?Nt.memoizedState:Ce.next;if(i!==null)Ce=i,te=e;else{if(e===null)throw Nt.alternate===null?Error(s(467)):Error(s(310));te=e,e={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Ce===null?Nt.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function fc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(e){var i=ul;return ul+=1,La===null&&(La=[]),e=Qg(La,e,i),i=Nt,(Ce===null?i.memoizedState:Ce.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?Uy:hd),e}function dc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return cl(e);if(e.$$typeof===rt)return Ge(e)}throw Error(s(438,String(e)))}function td(e){var i=null,a=Nt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Nt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=fc(),Nt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=D;return i.index++,a}function Ki(e,i){return typeof i=="function"?i(e):i}function mc(e){var i=ve();return ed(i,te,e)}function ed(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var S=_=null,O=null,j=i,$=!1;do{var et=j.lane&-536870913;if(et!==j.lane?(Lt&et)===et:(Qi&et)===et){var B=j.revertLane;if(B===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),et===Da&&($=!0);else if((Qi&B)===B){j=j.next,B===Da&&($=!0);continue}else et={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},O===null?(S=O=et,_=d):O=O.next=et,Nt.lanes|=B,Ur|=B;et=j.action,Qs&&a(d,et),d=j.hasEagerState?j.eagerState:a(d,et)}else B={lane:et,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},O===null?(S=O=B,_=d):O=O.next=B,Nt.lanes|=et,Ur|=et;j=j.next}while(j!==null&&j!==i);if(O===null?_=d:O.next=S,!En(d,e.memoizedState)&&(Ie=!0,$&&(a=Oa,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=O,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function nd(e){var i=ve(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);En(d,i.memoizedState)||(Ie=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function iy(e,i,a){var l=Nt,h=ve(),d=Bt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!En((te||h).memoizedState,a);if(_&&(h.memoizedState=a,Ie=!0),h=h.queue,sd(ay.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||Ce!==null&&Ce.memoizedState.tag&1){if(l.flags|=2048,Ua(9,{destroy:void 0},sy.bind(null,l,h,a,i),null),re===null)throw Error(s(349));d||(Qi&127)!==0||ry(l,i,a)}return a}function ry(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Nt.updateQueue,i===null?(i=fc(),Nt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function sy(e,i,a,l){i.value=a,i.getSnapshot=l,oy(i)&&ly(e)}function ay(e,i,a){return a(function(){oy(i)&&ly(e)})}function oy(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!En(e,a)}catch{return!0}}function ly(e){var i=Us(e,2);i!==null&&gn(i,e,2)}function id(e){var i=sn();if(typeof e=="function"){var a=e;if(e=a(),Qs){Dn(!0);try{a()}finally{Dn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:e},i}function uy(e,i,a,l){return e.baseState=a,ed(e,te,typeof l=="function"?l:Ki)}function GA(e,i,a,l,h){if(yc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,cy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function cy(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=Y.T,_={};Y.T=_;try{var S=a(h,l),O=Y.S;O!==null&&O(_,S),hy(e,i,S)}catch(j){rd(e,i,j)}finally{d!==null&&_.types!==null&&(d.types=_.types),Y.T=d}}else try{d=a(h,l),hy(e,i,d)}catch(j){rd(e,i,j)}}function hy(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){fy(e,i,l)},function(l){return rd(e,i,l)}):fy(e,i,a)}function fy(e,i,a){i.status="fulfilled",i.value=a,dy(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,cy(e,a)))}function rd(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,dy(i),i=i.next;while(i!==l)}e.action=null}function dy(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function my(e,i){return i}function py(e,i){if(Bt){var a=re.formState;if(a!==null){t:{var l=Nt;if(Bt){if(ae){e:{for(var h=ae,d=zn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Bn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ae=Bn(h.nextSibling),l=h.data==="F!";break t}}Ir(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:my,lastRenderedState:i},a.queue=l,a=xy.bind(null,Nt,l),l.dispatch=a,l=id(!1),d=cd.bind(null,Nt,!1,l.queue),l=sn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=GA.bind(null,Nt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function gy(e){var i=ve();return yy(i,te,e)}function yy(e,i,a){if(i=ed(e,i,my)[0],e=mc(Ki)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=cl(i)}catch(_){throw _===Ma?rc:_}else l=i;i=ve();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Nt.flags|=2048,Ua(9,{destroy:void 0},QA.bind(null,h,a),null)),[l,d,e]}function QA(e,i){e.action=i}function _y(e){var i=ve(),a=te;if(a!==null)return yy(i,a,e);ve(),i=i.memoizedState,a=ve();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ua(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Nt.updateQueue,i===null&&(i=fc(),Nt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function vy(){return ve().memoizedState}function pc(e,i,a,l){var h=sn();Nt.flags|=e,h.memoizedState=Ua(1|i,{destroy:void 0},a,l===void 0?null:l)}function gc(e,i,a,l){var h=ve();l=l===void 0?null:l;var d=h.memoizedState.inst;te!==null&&l!==null&&$f(l,te.memoizedState.deps)?h.memoizedState=Ua(i,d,a,l):(Nt.flags|=e,h.memoizedState=Ua(1|i,d,a,l))}function Ey(e,i){pc(8390656,8,e,i)}function sd(e,i){gc(2048,8,e,i)}function KA(e){Nt.flags|=4;var i=Nt.updateQueue;if(i===null)i=fc(),Nt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Ty(e){var i=ve().memoizedState;return KA({ref:i,nextImpl:e}),function(){if((Yt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Sy(e,i){return gc(4,2,e,i)}function Ay(e,i){return gc(4,4,e,i)}function by(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function wy(e,i,a){a=a!=null?a.concat([e]):null,gc(4,4,by.bind(null,i,e),a)}function ad(){}function Ry(e,i){var a=ve();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&$f(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Cy(e,i){var a=ve();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&$f(i,l[1]))return l[0];if(l=e(),Qs){Dn(!0);try{e()}finally{Dn(!1)}}return a.memoizedState=[l,i],l}function od(e,i,a){return a===void 0||(Qi&1073741824)!==0&&(Lt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=I_(),Nt.lanes|=e,Ur|=e,a)}function Iy(e,i,a,l){return En(a,i)?a:xa.current!==null?(e=od(e,a,l),En(e,i)||(Ie=!0),e):(Qi&42)===0||(Qi&1073741824)!==0&&(Lt&261930)===0?(Ie=!0,e.memoizedState=a):(e=I_(),Nt.lanes|=e,Ur|=e,i)}function Ny(e,i,a,l,h){var d=ot.p;ot.p=d!==0&&8>d?d:8;var _=Y.T,S={};Y.T=S,cd(e,!1,i,a);try{var O=h(),j=Y.S;if(j!==null&&j(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var $=qA(O,l);hl(e,i,$,Rn(e))}else hl(e,i,l,Rn(e))}catch(et){hl(e,i,{then:function(){},status:"rejected",reason:et},Rn())}finally{ot.p=d,_!==null&&S.types!==null&&(_.types=S.types),Y.T=_}}function YA(){}function ld(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=Dy(e).queue;Ny(e,h,i,gt,a===null?YA:function(){return Oy(e),a(l)})}function Dy(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:gt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Oy(e){var i=Dy(e);i.next===null&&(i=e.alternate.memoizedState),hl(e,i.next.queue,{},Rn())}function ud(){return Ge(Il)}function My(){return ve().memoizedState}function Vy(){return ve().memoizedState}function $A(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Rn();e=Or(a);var l=Mr(i,e,a);l!==null&&(gn(l,i,a),al(l,i,a)),i={cache:kf()},e.payload=i;return}i=i.return}}function XA(e,i,a){var l=Rn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},yc(e)?Py(i,a):(a=Cf(e,i,a,l),a!==null&&(gn(a,e,l),Ly(a,i,l)))}function xy(e,i,a){var l=Rn();hl(e,i,a,l)}function hl(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(yc(e))Py(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,En(S,_))return Ju(e,i,h,0),re===null&&Xu(),!1}catch{}finally{}if(a=Cf(e,i,h,l),a!==null)return gn(a,e,l),Ly(a,i,l),!0}return!1}function cd(e,i,a,l){if(l={lane:2,revertLane:qd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},yc(e)){if(i)throw Error(s(479))}else i=Cf(e,a,l,2),i!==null&&gn(i,e,2)}function yc(e){var i=e.alternate;return e===Nt||i!==null&&i===Nt}function Py(e,i){Pa=cc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Ly(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Vo(e,a)}}var fl={readContext:Ge,use:dc,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};fl.useEffectEvent=de;var Uy={readContext:Ge,use:dc,useCallback:function(e,i){return sn().memoizedState=[e,i===void 0?null:i],e},useContext:Ge,useEffect:Ey,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,pc(4194308,4,by.bind(null,i,e),a)},useLayoutEffect:function(e,i){return pc(4194308,4,e,i)},useInsertionEffect:function(e,i){pc(4,2,e,i)},useMemo:function(e,i){var a=sn();i=i===void 0?null:i;var l=e();if(Qs){Dn(!0);try{e()}finally{Dn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=sn();if(a!==void 0){var h=a(i);if(Qs){Dn(!0);try{a(i)}finally{Dn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=XA.bind(null,Nt,e),[l.memoizedState,e]},useRef:function(e){var i=sn();return e={current:e},i.memoizedState=e},useState:function(e){e=id(e);var i=e.queue,a=xy.bind(null,Nt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:ad,useDeferredValue:function(e,i){var a=sn();return od(a,e,i)},useTransition:function(){var e=id(!1);return e=Ny.bind(null,Nt,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Nt,h=sn();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),re===null)throw Error(s(349));(Lt&127)!==0||ry(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Ey(ay.bind(null,l,d,e),[e]),l.flags|=2048,Ua(9,{destroy:void 0},sy.bind(null,l,d,a,i),null),a},useId:function(){var e=sn(),i=re.identifierPrefix;if(Bt){var a=Ci,l=Ri;a=(l&~(1<<32-ge(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=hc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=HA++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:ud,useFormState:py,useActionState:py,useOptimistic:function(e){var i=sn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=cd.bind(null,Nt,!0,a),a.dispatch=i,[e,i]},useMemoCache:td,useCacheRefresh:function(){return sn().memoizedState=$A.bind(null,Nt)},useEffectEvent:function(e){var i=sn(),a={impl:e};return i.memoizedState=a,function(){if((Yt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},hd={readContext:Ge,use:dc,useCallback:Ry,useContext:Ge,useEffect:sd,useImperativeHandle:wy,useInsertionEffect:Sy,useLayoutEffect:Ay,useMemo:Cy,useReducer:mc,useRef:vy,useState:function(){return mc(Ki)},useDebugValue:ad,useDeferredValue:function(e,i){var a=ve();return Iy(a,te.memoizedState,e,i)},useTransition:function(){var e=mc(Ki)[0],i=ve().memoizedState;return[typeof e=="boolean"?e:cl(e),i]},useSyncExternalStore:iy,useId:My,useHostTransitionStatus:ud,useFormState:gy,useActionState:gy,useOptimistic:function(e,i){var a=ve();return uy(a,te,e,i)},useMemoCache:td,useCacheRefresh:Vy};hd.useEffectEvent=Ty;var ky={readContext:Ge,use:dc,useCallback:Ry,useContext:Ge,useEffect:sd,useImperativeHandle:wy,useInsertionEffect:Sy,useLayoutEffect:Ay,useMemo:Cy,useReducer:nd,useRef:vy,useState:function(){return nd(Ki)},useDebugValue:ad,useDeferredValue:function(e,i){var a=ve();return te===null?od(a,e,i):Iy(a,te.memoizedState,e,i)},useTransition:function(){var e=nd(Ki)[0],i=ve().memoizedState;return[typeof e=="boolean"?e:cl(e),i]},useSyncExternalStore:iy,useId:My,useHostTransitionStatus:ud,useFormState:_y,useActionState:_y,useOptimistic:function(e,i){var a=ve();return te!==null?uy(a,te,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:td,useCacheRefresh:Vy};ky.useEffectEvent=Ty;function fd(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var dd={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=Rn(),h=Or(l);h.payload=i,a!=null&&(h.callback=a),i=Mr(e,h,l),i!==null&&(gn(i,e,l),al(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=Rn(),h=Or(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Mr(e,h,l),i!==null&&(gn(i,e,l),al(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Rn(),l=Or(a);l.tag=2,i!=null&&(l.callback=i),i=Mr(e,l,a),i!==null&&(gn(i,e,a),al(i,e,a))}};function zy(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Zo(a,l)||!Zo(h,d):!0}function jy(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&dd.enqueueReplaceState(i,i.state,null)}function Ks(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=T({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function By(e){$u(e)}function qy(e){console.error(e)}function Hy(e){$u(e)}function _c(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Fy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function md(e,i,a){return a=Or(a),a.tag=3,a.payload={element:null},a.callback=function(){_c(e,i)},a}function Gy(e){return e=Or(e),e.tag=3,e}function Qy(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Fy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Fy(i,a,l),typeof h!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function JA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Na(i,a,h,!0),a=Sn.current,a!==null){switch(a.tag){case 31:case 13:return jn===null?Dc():a.alternate===null&&me===0&&(me=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===sc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),zd(e,l,h)),!1;case 22:return a.flags|=65536,l===sc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),zd(e,l,h)),!1}throw Error(s(435,a.tag))}return zd(e,l,h),Dc(),!1}if(Bt)return i=Sn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Vf&&(e=Error(s(422),{cause:l}),el(Ln(e,a)))):(l!==Vf&&(i=Error(s(423),{cause:l}),el(Ln(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Ln(l,a),h=md(e.stateNode,l,h),Ff(e,h),me!==4&&(me=2)),!1;var d=Error(s(520),{cause:l});if(d=Ln(d,a),El===null?El=[d]:El.push(d),me!==4&&(me=2),i===null)return!0;l=Ln(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=md(a.stateNode,l,e),Ff(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(kr===null||!kr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Gy(h),Qy(h,e,a,l),Ff(a,h),!1}a=a.return}while(a!==null);return!1}var pd=Error(s(461)),Ie=!1;function Qe(e,i,a,l){i.child=e===null?Xg(i,null,a,l):Gs(i,e.child,a,l)}function Ky(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Bs(i),l=Xf(e,i,a,_,d,h),S=Jf(),e!==null&&!Ie?(Zf(e,i,h),Yi(e,i,h)):(Bt&&S&&Of(i),i.flags|=1,Qe(e,i,l,h),i.child)}function Yy(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!If(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,$y(e,i,d,l,h)):(e=Wu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Ad(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(_,l)&&e.ref===i.ref)return Yi(e,i,h)}return i.flags|=1,e=qi(d,l),e.ref=i.ref,e.return=i,i.child=e}function $y(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Zo(d,l)&&e.ref===i.ref)if(Ie=!1,i.pendingProps=l=d,Ad(e,h))(e.flags&131072)!==0&&(Ie=!0);else return i.lanes=e.lanes,Yi(e,i,h)}return gd(e,i,a,l,h)}function Xy(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Jy(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&ic(i,d!==null?d.cachePool:null),d!==null?Wg(i,d):Qf(),ty(i);else return l=i.lanes=536870912,Jy(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ic(i,d.cachePool),Wg(i,d),xr(),i.memoizedState=null):(e!==null&&ic(i,null),Qf(),xr());return Qe(e,i,h,a),i.child}function dl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Jy(e,i,a,l,h){var d=jf();return d=d===null?null:{parent:Re._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&ic(i,null),Qf(),ty(i),e!==null&&Na(e,i,l,!0),i.childLanes=h,null}function vc(e,i){return i=Tc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Zy(e,i,a){return Gs(i,e.child,null,a),e=vc(i,i.pendingProps),e.flags|=2,An(i),i.memoizedState=null,e}function ZA(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Bt){if(l.mode==="hidden")return e=vc(i,l),i.lanes=536870912,dl(null,e);if(Yf(i),(e=ae)?(e=cv(e,zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Rr!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=Pg(e),a.return=i,i.child=a,Fe=i,ae=null)):e=null,e===null)throw Ir(i);return i.lanes=536870912,null}return vc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Yf(i),h)if(i.flags&256)i.flags&=-257,i=Zy(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ie||Na(e,i,a,!1),h=(a&e.childLanes)!==0,Ie||h){if(l=re,l!==null&&(_=xo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Us(e,_),gn(l,e,_),pd;Dc(),i=Zy(e,i,a)}else e=d.treeContext,ae=Bn(_.nextSibling),Fe=i,Bt=!0,Cr=null,zn=!1,e!==null&&kg(i,e),i=vc(i,l),i.flags|=4096;return i}return e=qi(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Ec(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function gd(e,i,a,l,h){return Bs(i),a=Xf(e,i,a,l,void 0,h),l=Jf(),e!==null&&!Ie?(Zf(e,i,h),Yi(e,i,h)):(Bt&&l&&Of(i),i.flags|=1,Qe(e,i,a,h),i.child)}function Wy(e,i,a,l,h,d){return Bs(i),i.updateQueue=null,a=ny(i,l,a,h),ey(e),l=Jf(),e!==null&&!Ie?(Zf(e,i,d),Yi(e,i,d)):(Bt&&l&&Of(i),i.flags|=1,Qe(e,i,a,d),i.child)}function t_(e,i,a,l,h){if(Bs(i),i.stateNode===null){var d=wa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ge(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=dd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},qf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ge(_):wa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(fd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&dd.enqueueReplaceState(d,d.state,null),ll(i,l,d,h),ol(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var S=i.memoizedProps,O=Ks(a,S);d.props=O;var j=d.context,$=a.contextType;_=wa,typeof $=="object"&&$!==null&&(_=Ge($));var et=a.getDerivedStateFromProps;$=typeof et=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||j!==_)&&jy(i,d,l,_),Dr=!1;var B=i.memoizedState;d.state=B,ll(i,l,d,h),ol(),j=i.memoizedState,S||B!==j||Dr?(typeof et=="function"&&(fd(i,a,et,l),j=i.memoizedState),(O=Dr||zy(i,a,O,l,B,j,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=_,l=O):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Hf(e,i),_=i.memoizedProps,$=Ks(a,_),d.props=$,et=i.pendingProps,B=d.context,j=a.contextType,O=wa,typeof j=="object"&&j!==null&&(O=Ge(j)),S=a.getDerivedStateFromProps,(j=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==et||B!==O)&&jy(i,d,l,O),Dr=!1,B=i.memoizedState,d.state=B,ll(i,l,d,h),ol();var K=i.memoizedState;_!==et||B!==K||Dr||e!==null&&e.dependencies!==null&&ec(e.dependencies)?(typeof S=="function"&&(fd(i,a,S,l),K=i.memoizedState),($=Dr||zy(i,a,$,l,B,K,O)||e!==null&&e.dependencies!==null&&ec(e.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,O)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=O,l=$):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Ec(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Gs(i,e.child,null,h),i.child=Gs(i,null,a,h)):Qe(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Yi(e,i,h),e}function e_(e,i,a,l){return zs(),i.flags|=256,Qe(e,i,a,l),i.child}var yd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _d(e){return{baseLanes:e,cachePool:Fg()}}function vd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=wn),e}function n_(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(_e.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Bt){if(h?Vr(i):xr(),(e=ae)?(e=cv(e,zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Rr!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=Pg(e),a.return=i,i.child=a,Fe=i,ae=null)):e=null,e===null)throw Ir(i);return em(e)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(xr(),h=i.mode,S=Tc({mode:"hidden",children:S},h),l=ks(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=_d(a),l.childLanes=vd(e,_,a),i.memoizedState=yd,dl(null,l)):(Vr(i),Ed(i,S))}var O=e.memoizedState;if(O!==null&&(S=O.dehydrated,S!==null)){if(d)i.flags&256?(Vr(i),i.flags&=-257,i=Td(e,i,a)):i.memoizedState!==null?(xr(),i.child=e.child,i.flags|=128,i=null):(xr(),S=l.fallback,h=i.mode,l=Tc({mode:"visible",children:l.children},h),S=ks(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Gs(i,e.child,null,a),l=i.child,l.memoizedState=_d(a),l.childLanes=vd(e,_,a),i.memoizedState=yd,i=dl(null,l));else if(Vr(i),em(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var j=_.dgst;_=j,l=Error(s(419)),l.stack="",l.digest=_,el({value:l,source:null,stack:null}),i=Td(e,i,a)}else if(Ie||Na(e,i,a,!1),_=(a&e.childLanes)!==0,Ie||_){if(_=re,_!==null&&(l=xo(_,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,Us(e,l),gn(_,e,l),pd;tm(S)||Dc(),i=Td(e,i,a)}else tm(S)?(i.flags|=192,i.child=e.child,i=null):(e=O.treeContext,ae=Bn(S.nextSibling),Fe=i,Bt=!0,Cr=null,zn=!1,e!==null&&kg(i,e),i=Ed(i,l.children),i.flags|=4096);return i}return h?(xr(),S=l.fallback,h=i.mode,O=e.child,j=O.sibling,l=qi(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,j!==null?S=qi(j,S):(S=ks(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,dl(null,l),l=i.child,S=e.child.memoizedState,S===null?S=_d(a):(h=S.cachePool,h!==null?(O=Re._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=Fg(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=vd(e,_,a),i.memoizedState=yd,dl(e.child,l)):(Vr(i),a=e.child,e=a.sibling,a=qi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function Ed(e,i){return i=Tc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Tc(e,i){return e=Tn(22,e,null,i),e.lanes=0,e}function Td(e,i,a){return Gs(i,e.child,null,a),e=Ed(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function i_(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Lf(e.return,i,a)}function Sd(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function r_(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=_e.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,lt(_e,_),Qe(e,i,l,a),l=Bt?tl:0,!S&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&i_(e,a,i);else if(e.tag===19)i_(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&uc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Sd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&uc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Sd(i,!0,a,null,d,l);break;case"together":Sd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Yi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Ur|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Na(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=qi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=qi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Ad(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&ec(e)))}function WA(e,i,a){switch(i.tag){case 3:Ct(i,i.stateNode.containerInfo),Nr(i,Re,e.memoizedState.cache),zs();break;case 27:case 5:$t(i);break;case 4:Ct(i,i.stateNode.containerInfo);break;case 10:Nr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Yf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Vr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?n_(e,i,a):(Vr(i),e=Yi(e,i,a),e!==null?e.sibling:null);Vr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Na(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return r_(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),lt(_e,_e.current),l)break;return null;case 22:return i.lanes=0,Xy(e,i,a,i.pendingProps);case 24:Nr(i,Re,e.memoizedState.cache)}return Yi(e,i,a)}function s_(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ie=!0;else{if(!Ad(e,a)&&(i.flags&128)===0)return Ie=!1,WA(e,i,a);Ie=(e.flags&131072)!==0}else Ie=!1,Bt&&(i.flags&1048576)!==0&&Ug(i,tl,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=Hs(i.elementType),i.type=e,typeof e=="function")If(e)?(l=Ks(e,l),i.tag=1,i=t_(null,i,e,l,a)):(i.tag=0,i=gd(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===_t){i.tag=11,i=Ky(null,i,e,l,a);break t}else if(h===b){i.tag=14,i=Yy(null,i,e,l,a);break t}}throw i=Ot(e)||e,Error(s(306,i,""))}}return i;case 0:return gd(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ks(l,i.pendingProps),t_(e,i,l,h,a);case 3:t:{if(Ct(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Hf(e,i),ll(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Nr(i,Re,l),l!==d.cache&&Uf(i,[Re],a,!0),ol(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=e_(e,i,l,a);break t}else if(l!==h){h=Ln(Error(s(424)),i),el(h),i=e_(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ae=Bn(e.firstChild),Fe=i,Bt=!0,Cr=null,zn=!0,a=Xg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(zs(),l===h){i=Yi(e,i,a);break t}Qe(e,i,l,a)}i=i.child}return i;case 26:return Ec(e,i),e===null?(a=gv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Bt||(a=i.type,e=i.pendingProps,l=Uc(ct.current).createElement(a),l[Ae]=i,l[Le]=e,Ke(l,a,e),be(l),i.stateNode=l):i.memoizedState=gv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return $t(i),e===null&&Bt&&(l=i.stateNode=dv(i.type,i.pendingProps,ct.current),Fe=i,zn=!0,h=ae,qr(i.type)?(nm=h,ae=Bn(l.firstChild)):ae=h),Qe(e,i,i.pendingProps.children,a),Ec(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Bt&&((h=l=ae)&&(l=Nb(l,i.type,i.pendingProps,zn),l!==null?(i.stateNode=l,Fe=i,ae=Bn(l.firstChild),zn=!1,h=!0):h=!1),h||Ir(i)),$t(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,Jd(h,d)?l=null:_!==null&&Jd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Xf(e,i,FA,null,null,a),Il._currentValue=h),Ec(e,i),Qe(e,i,l,a),i.child;case 6:return e===null&&Bt&&((e=a=ae)&&(a=Db(a,i.pendingProps,zn),a!==null?(i.stateNode=a,Fe=i,ae=null,e=!0):e=!1),e||Ir(i)),null;case 13:return n_(e,i,a);case 4:return Ct(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Gs(i,null,l,a):Qe(e,i,l,a),i.child;case 11:return Ky(e,i,i.type,i.pendingProps,a);case 7:return Qe(e,i,i.pendingProps,a),i.child;case 8:return Qe(e,i,i.pendingProps.children,a),i.child;case 12:return Qe(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Nr(i,i.type,l.value),Qe(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Bs(i),h=Ge(h),l=l(h),i.flags|=1,Qe(e,i,l,a),i.child;case 14:return Yy(e,i,i.type,i.pendingProps,a);case 15:return $y(e,i,i.type,i.pendingProps,a);case 19:return r_(e,i,a);case 31:return ZA(e,i,a);case 22:return Xy(e,i,a,i.pendingProps);case 24:return Bs(i),l=Ge(Re),e===null?(h=jf(),h===null&&(h=re,d=kf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},qf(i),Nr(i,Re,h)):((e.lanes&a)!==0&&(Hf(e,i),ll(i,null,null,a),ol()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Nr(i,Re,l)):(l=d.cache,Nr(i,Re,l),l!==h.cache&&Uf(i,[Re],a,!0))),Qe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function $i(e){e.flags|=4}function bd(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(M_())e.flags|=8192;else throw Fs=sc,Bf}else e.flags&=-16777217}function a_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Tv(i))if(M_())e.flags|=8192;else throw Fs=sc,Bf}function Sc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Iu():536870912,e.lanes|=i,Ba|=i)}function ml(e,i){if(!Bt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function oe(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function tb(e,i,a){var l=i.pendingProps;switch(Mf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(i),null;case 1:return oe(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Gi(Re),Mt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ia(i)?$i(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,xf())),oe(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?($i(i),d!==null?(oe(i),a_(i,d)):(oe(i),bd(i,h,null,l,a))):d?d!==e.memoizedState?($i(i),oe(i),a_(i,d)):(oe(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&$i(i),oe(i),bd(i,h,e,l,a)),null;case 27:if(dr(i),a=ct.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&$i(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return oe(i),null}e=q.current,Ia(i)?zg(i):(e=dv(h,l,a),i.stateNode=e,$i(i))}return oe(i),null;case 5:if(dr(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&$i(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return oe(i),null}if(d=q.current,Ia(i))zg(i);else{var _=Uc(ct.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Ae]=i,d[Le]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(Ke(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&$i(i)}}return oe(i),bd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&$i(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=ct.current,Ia(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=Fe,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ae]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||nv(e.nodeValue,a)),e||Ir(i,!0)}else e=Uc(e).createTextNode(l),e[Ae]=i,i.stateNode=e}return oe(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=Ia(i),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ae]=i}else zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;oe(i),e=!1}else a=xf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(An(i),i):(An(i),null);if((i.flags&128)!==0)throw Error(s(558))}return oe(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ia(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ae]=i}else zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;oe(i),h=!1}else h=xf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(An(i),i):(An(i),null)}return An(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),Sc(i,i.updateQueue),oe(i),null);case 4:return Mt(),e===null&&Qd(i.stateNode.containerInfo),oe(i),null;case 10:return Gi(i.type),oe(i),null;case 19:if(W(_e),l=i.memoizedState,l===null)return oe(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)ml(l,!1);else{if(me!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=uc(e),d!==null){for(i.flags|=128,ml(l,!1),e=d.updateQueue,i.updateQueue=e,Sc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)xg(a,e),a=a.sibling;return lt(_e,_e.current&1|2),Bt&&Hi(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&nn()>Cc&&(i.flags|=128,h=!0,ml(l,!1),i.lanes=4194304)}else{if(!h)if(e=uc(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,Sc(i,e),ml(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Bt)return oe(i),null}else 2*nn()-l.renderingStartTime>Cc&&a!==536870912&&(i.flags|=128,h=!0,ml(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=nn(),e.sibling=null,a=_e.current,lt(_e,h?a&1|2:a&1),Bt&&Hi(i,l.treeForkCount),e):(oe(i),null);case 22:case 23:return An(i),Kf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(oe(i),i.subtreeFlags&6&&(i.flags|=8192)):oe(i),a=i.updateQueue,a!==null&&Sc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&W(qs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Gi(Re),oe(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function eb(e,i){switch(Mf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Gi(Re),Mt(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return dr(i),null;case 31:if(i.memoizedState!==null){if(An(i),i.alternate===null)throw Error(s(340));zs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(An(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));zs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return W(_e),null;case 4:return Mt(),null;case 10:return Gi(i.type),null;case 22:case 23:return An(i),Kf(),e!==null&&W(qs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Gi(Re),null;case 25:return null;default:return null}}function o_(e,i){switch(Mf(i),i.tag){case 3:Gi(Re),Mt();break;case 26:case 27:case 5:dr(i);break;case 4:Mt();break;case 31:i.memoizedState!==null&&An(i);break;case 13:An(i);break;case 19:W(_e);break;case 10:Gi(i.type);break;case 22:case 23:An(i),Kf(),e!==null&&W(qs);break;case 24:Gi(Re)}}function pl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){Zt(i,i.return,S)}}function Pr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var O=a,j=S;try{j()}catch($){Zt(h,O,$)}}}l=l.next}while(l!==d)}}catch($){Zt(i,i.return,$)}}function l_(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Zg(i,a)}catch(l){Zt(e,e.return,l)}}}function u_(e,i,a){a.props=Ks(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Zt(e,i,l)}}function gl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Zt(e,i,h)}}function Ii(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Zt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Zt(e,i,h)}else a.current=null}function c_(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Zt(e,e.return,h)}}function wd(e,i,a){try{var l=e.stateNode;Ab(l,e.type,a,i),l[Le]=i}catch(h){Zt(e,e.return,h)}}function h_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qr(e.type)||e.tag===4}function Rd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||h_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Yn));else if(l!==4&&(l===27&&qr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Cd(e,i,a),e=e.sibling;e!==null;)Cd(e,i,a),e=e.sibling}function Ac(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&qr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ac(e,i,a),e=e.sibling;e!==null;)Ac(e,i,a),e=e.sibling}function f_(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ke(i,l,a),i[Ae]=e,i[Le]=a}catch(d){Zt(e,e.return,d)}}var Xi=!1,Ne=!1,Id=!1,d_=typeof WeakSet=="function"?WeakSet:Set,ke=null;function nb(e,i){if(e=e.containerInfo,$d=Fc,e=wg(e),Tf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,S=-1,O=-1,j=0,$=0,et=e,B=null;e:for(;;){for(var K;et!==a||h!==0&&et.nodeType!==3||(S=_+h),et!==d||l!==0&&et.nodeType!==3||(O=_+l),et.nodeType===3&&(_+=et.nodeValue.length),(K=et.firstChild)!==null;)B=et,et=K;for(;;){if(et===e)break e;if(B===a&&++j===h&&(S=_),B===d&&++$===l&&(O=_),(K=et.nextSibling)!==null)break;et=B,B=et.parentNode}et=K}a=S===-1||O===-1?null:{start:S,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xd={focusedElem:e,selectionRange:a},Fc=!1,ke=i;ke!==null;)if(i=ke,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,ke=e;else for(;ke!==null;){switch(i=ke,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var dt=Ks(a.type,h);e=l.getSnapshotBeforeUpdate(dt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Et){Zt(a,a.return,Et)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Wd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,ke=e;break}ke=i.return}}function m_(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Zi(e,a),l&4&&pl(5,a);break;case 1:if(Zi(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Zt(a,a.return,_)}else{var h=Ks(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Zt(a,a.return,_)}}l&64&&l_(a),l&512&&gl(a,a.return);break;case 3:if(Zi(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Zg(e,i)}catch(_){Zt(a,a.return,_)}}break;case 27:i===null&&l&4&&f_(a);case 26:case 5:Zi(e,a),i===null&&l&4&&c_(a),l&512&&gl(a,a.return);break;case 12:Zi(e,a);break;case 31:Zi(e,a),l&4&&y_(e,a);break;case 13:Zi(e,a),l&4&&__(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=hb.bind(null,a),Ob(e,a))));break;case 22:if(l=a.memoizedState!==null||Xi,!l){i=i!==null&&i.memoizedState!==null||Ne,h=Xi;var d=Ne;Xi=l,(Ne=i)&&!d?Wi(e,a,(a.subtreeFlags&8772)!==0):Zi(e,a),Xi=h,Ne=d}break;case 30:break;default:Zi(e,a)}}function p_(e){var i=e.alternate;i!==null&&(e.alternate=null,p_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ha(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ce=null,fn=!1;function Ji(e,i,a){for(a=a.child;a!==null;)g_(e,i,a),a=a.sibling}function g_(e,i,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Fn,a)}catch{}switch(a.tag){case 26:Ne||Ii(a,i),Ji(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ne||Ii(a,i);var l=ce,h=fn;qr(a.type)&&(ce=a.stateNode,fn=!1),Ji(e,i,a),wl(a.stateNode),ce=l,fn=h;break;case 5:Ne||Ii(a,i);case 6:if(l=ce,h=fn,ce=null,Ji(e,i,a),ce=l,fn=h,ce!==null)if(fn)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(a.stateNode)}catch(d){Zt(a,i,d)}else try{ce.removeChild(a.stateNode)}catch(d){Zt(a,i,d)}break;case 18:ce!==null&&(fn?(e=ce,lv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),$a(e)):lv(ce,a.stateNode));break;case 4:l=ce,h=fn,ce=a.stateNode.containerInfo,fn=!0,Ji(e,i,a),ce=l,fn=h;break;case 0:case 11:case 14:case 15:Pr(2,a,i),Ne||Pr(4,a,i),Ji(e,i,a);break;case 1:Ne||(Ii(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&u_(a,i,l)),Ji(e,i,a);break;case 21:Ji(e,i,a);break;case 22:Ne=(l=Ne)||a.memoizedState!==null,Ji(e,i,a),Ne=l;break;default:Ji(e,i,a)}}function y_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{$a(e)}catch(a){Zt(i,i.return,a)}}}function __(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{$a(e)}catch(a){Zt(i,i.return,a)}}function ib(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new d_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new d_),i;default:throw Error(s(435,e.tag))}}function bc(e,i){var a=ib(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=fb.bind(null,e,l);l.then(h,h)}})}function dn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,S=_;t:for(;S!==null;){switch(S.tag){case 27:if(qr(S.type)){ce=S.stateNode,fn=!1;break t}break;case 5:ce=S.stateNode,fn=!1;break t;case 3:case 4:ce=S.stateNode.containerInfo,fn=!0;break t}S=S.return}if(ce===null)throw Error(s(160));g_(d,_,h),ce=null,fn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)v_(i,e),i=i.sibling}var ti=null;function v_(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(i,e),mn(e),l&4&&(Pr(3,e,e.return),pl(3,e),Pr(5,e,e.return));break;case 1:dn(i,e),mn(e),l&512&&(Ne||a===null||Ii(a,a.return)),l&64&&Xi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ti;if(dn(i,e),mn(e),l&512&&(Ne||a===null||Ii(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[mi]||d[Ae]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ke(d,l,a),d[Ae]=e,be(d),l=d;break t;case"link":var _=vv("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break e}}d=h.createElement(l),Ke(d,l,a),h.head.appendChild(d);break;case"meta":if(_=vv("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break e}}d=h.createElement(l),Ke(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ae]=e,be(d),l=d}e.stateNode=l}else Ev(h,e.type,e.stateNode);else e.stateNode=_v(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Ev(h,e.type,e.stateNode):_v(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&wd(e,e.memoizedProps,a.memoizedProps)}break;case 27:dn(i,e),mn(e),l&512&&(Ne||a===null||Ii(a,a.return)),a!==null&&l&4&&wd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(dn(i,e),mn(e),l&512&&(Ne||a===null||Ii(a,a.return)),e.flags&32){h=e.stateNode;try{hn(h,"")}catch(dt){Zt(e,e.return,dt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,wd(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Id=!0);break;case 6:if(dn(i,e),mn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(dt){Zt(e,e.return,dt)}}break;case 3:if(jc=null,h=ti,ti=kc(i.containerInfo),dn(i,e),ti=h,mn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{$a(i.containerInfo)}catch(dt){Zt(e,e.return,dt)}Id&&(Id=!1,E_(e));break;case 4:l=ti,ti=kc(e.stateNode.containerInfo),dn(i,e),mn(e),ti=l;break;case 12:dn(i,e),mn(e);break;case 31:dn(i,e),mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,bc(e,l)));break;case 13:dn(i,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Rc=nn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,bc(e,l)));break;case 22:h=e.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,j=Xi,$=Ne;if(Xi=j||h,Ne=$||O,dn(i,e),Ne=$,Xi=j,mn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||O||Xi||Ne||Ys(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(d=O.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=O.stateNode;var et=O.memoizedProps.style,B=et!=null&&et.hasOwnProperty("display")?et.display:null;S.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(dt){Zt(O,O.return,dt)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(dt){Zt(O,O.return,dt)}}}else if(i.tag===18){if(a===null){O=i;try{var K=O.stateNode;h?uv(K,!0):uv(O.stateNode,!1)}catch(dt){Zt(O,O.return,dt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,bc(e,a))));break;case 19:dn(i,e),mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,bc(e,l)));break;case 30:break;case 21:break;default:dn(i,e),mn(e)}}function mn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(h_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Rd(e);Ac(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(hn(_,""),a.flags&=-33);var S=Rd(e);Ac(e,S,_);break;case 3:case 4:var O=a.stateNode.containerInfo,j=Rd(e);Cd(e,j,O);break;default:throw Error(s(161))}}catch($){Zt(e,e.return,$)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function E_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;E_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Zi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)m_(e,i.alternate,i),i=i.sibling}function Ys(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Pr(4,i,i.return),Ys(i);break;case 1:Ii(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&u_(i,i.return,a),Ys(i);break;case 27:wl(i.stateNode);case 26:case 5:Ii(i,i.return),Ys(i);break;case 22:i.memoizedState===null&&Ys(i);break;case 30:Ys(i);break;default:Ys(i)}e=e.sibling}}function Wi(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Wi(h,d,a),pl(4,d);break;case 1:if(Wi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Zt(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)Jg(O[h],S)}catch(j){Zt(l,l.return,j)}}a&&_&64&&l_(d),gl(d,d.return);break;case 27:f_(d);case 26:case 5:Wi(h,d,a),a&&l===null&&_&4&&c_(d),gl(d,d.return);break;case 12:Wi(h,d,a);break;case 31:Wi(h,d,a),a&&_&4&&y_(h,d);break;case 13:Wi(h,d,a),a&&_&4&&__(h,d);break;case 22:d.memoizedState===null&&Wi(h,d,a),gl(d,d.return);break;case 30:break;default:Wi(h,d,a)}i=i.sibling}}function Nd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&nl(a))}function Dd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&nl(e))}function ei(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)T_(e,i,a,l),i=i.sibling}function T_(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ei(e,i,a,l),h&2048&&pl(9,i);break;case 1:ei(e,i,a,l);break;case 3:ei(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&nl(e)));break;case 12:if(h&2048){ei(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(O){Zt(i,i.return,O)}}else ei(e,i,a,l);break;case 31:ei(e,i,a,l);break;case 13:ei(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ei(e,i,a,l):yl(e,i):d._visibility&2?ei(e,i,a,l):(d._visibility|=2,ka(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Nd(_,i);break;case 24:ei(e,i,a,l),h&2048&&Dd(i.alternate,i);break;default:ei(e,i,a,l)}}function ka(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,S=a,O=l,j=_.flags;switch(_.tag){case 0:case 11:case 15:ka(d,_,S,O,h),pl(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?ka(d,_,S,O,h):yl(d,_):($._visibility|=2,ka(d,_,S,O,h)),h&&j&2048&&Nd(_.alternate,_);break;case 24:ka(d,_,S,O,h),h&&j&2048&&Dd(_.alternate,_);break;default:ka(d,_,S,O,h)}i=i.sibling}}function yl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:yl(a,l),h&2048&&Nd(l.alternate,l);break;case 24:yl(a,l),h&2048&&Dd(l.alternate,l);break;default:yl(a,l)}i=i.sibling}}var _l=8192;function za(e,i,a){if(e.subtreeFlags&_l)for(e=e.child;e!==null;)S_(e,i,a),e=e.sibling}function S_(e,i,a){switch(e.tag){case 26:za(e,i,a),e.flags&_l&&e.memoizedState!==null&&Hb(a,ti,e.memoizedState,e.memoizedProps);break;case 5:za(e,i,a);break;case 3:case 4:var l=ti;ti=kc(e.stateNode.containerInfo),za(e,i,a),ti=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=_l,_l=16777216,za(e,i,a),_l=l):za(e,i,a));break;default:za(e,i,a)}}function A_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function vl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];ke=l,w_(l,e)}A_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)b_(e),e=e.sibling}function b_(e){switch(e.tag){case 0:case 11:case 15:vl(e),e.flags&2048&&Pr(9,e,e.return);break;case 3:vl(e);break;case 12:vl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,wc(e)):vl(e);break;default:vl(e)}}function wc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];ke=l,w_(l,e)}A_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Pr(8,i,i.return),wc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,wc(i));break;default:wc(i)}e=e.sibling}}function w_(e,i){for(;ke!==null;){var a=ke;switch(a.tag){case 0:case 11:case 15:Pr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ke=l;else t:for(a=e;ke!==null;){l=ke;var h=l.sibling,d=l.return;if(p_(l),l===a){ke=null;break t}if(h!==null){h.return=d,ke=h;break t}ke=d}}}var rb={getCacheForType:function(e){var i=Ge(Re),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return Ge(Re).controller.signal}},sb=typeof WeakMap=="function"?WeakMap:Map,Yt=0,re=null,Vt=null,Lt=0,Jt=0,bn=null,Lr=!1,ja=!1,Od=!1,tr=0,me=0,Ur=0,$s=0,Md=0,wn=0,Ba=0,El=null,pn=null,Vd=!1,Rc=0,R_=0,Cc=1/0,Ic=null,kr=null,xe=0,zr=null,qa=null,er=0,xd=0,Pd=null,C_=null,Tl=0,Ld=null;function Rn(){return(Yt&2)!==0&&Lt!==0?Lt&-Lt:Y.T!==null?qd():Nu()}function I_(){if(wn===0)if((Lt&536870912)===0||Bt){var e=Ss;Ss<<=1,(Ss&3932160)===0&&(Ss=262144),wn=e}else wn=536870912;return e=Sn.current,e!==null&&(e.flags|=32),wn}function gn(e,i,a){(e===re&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)&&(Ha(e,0),jr(e,Lt,wn,!1)),As(e,a),((Yt&2)===0||e!==re)&&(e===re&&((Yt&2)===0&&($s|=a),me===4&&jr(e,Lt,wn,!1)),Ni(e))}function N_(e,i,a){if((Yt&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Gn(e,i),h=l?lb(e,i):kd(e,i,!0),d=l;do{if(h===0){ja&&!l&&jr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!ab(a)){h=kd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var S=e;h=El;var O=S.current.memoizedState.isDehydrated;if(O&&(Ha(S,_).flags|=256),_=kd(S,_,!1),_!==2){if(Od&&!O){S.errorRecoveryDisabledLanes|=d,$s|=d,h=4;break t}d=pn,pn=h,d!==null&&(pn===null?pn=d:pn.push.apply(pn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ha(e,0),jr(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:jr(l,i,wn,!Lr);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Rc+300-nn(),10<h)){if(jr(l,i,wn,!Lr),hi(l,0,!0)!==0)break t;er=i,l.timeoutHandle=av(D_.bind(null,l,a,pn,Ic,Vd,i,wn,$s,Ba,Lr,d,"Throttled",-0,0),h);break t}D_(l,a,pn,Ic,Vd,i,wn,$s,Ba,Lr,d,null,-0,0)}}break}while(!0);Ni(e)}function D_(e,i,a,l,h,d,_,S,O,j,$,et,B,K){if(e.timeoutHandle=-1,et=i.subtreeFlags,et&8192||(et&16785408)===16785408){et={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},S_(i,d,et);var dt=(d&62914560)===d?Rc-nn():(d&4194048)===d?R_-nn():0;if(dt=Fb(et,dt),dt!==null){er=d,e.cancelPendingCommit=dt(k_.bind(null,e,i,d,a,l,h,_,S,O,$,et,null,B,K)),jr(e,d,_,!j);return}}k_(e,i,d,a,l,h,_,S,O)}function ab(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!En(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function jr(e,i,a,l){i&=~Md,i&=~$s,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-ge(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&bs(e,a,i)}function Nc(){return(Yt&6)===0?(Sl(0),!1):!0}function Ud(){if(Vt!==null){if(Jt===0)var e=Vt.return;else e=Vt,Fi=js=null,Wf(e),Va=null,rl=0,e=Vt;for(;e!==null;)o_(e.alternate,e),e=e.return;Vt=null}}function Ha(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Rb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),er=0,Ud(),re=e,Vt=a=qi(e.current,null),Lt=i,Jt=0,bn=null,Lr=!1,ja=Gn(e,i),Od=!1,Ba=wn=Md=$s=Ur=me=0,pn=El=null,Vd=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-ge(l),d=1<<h;i|=e[h],l&=~d}return tr=i,Xu(),a}function O_(e,i){Nt=null,Y.H=fl,i===Ma||i===rc?(i=Kg(),Jt=3):i===Bf?(i=Kg(),Jt=4):Jt=i===pd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,Vt===null&&(me=1,_c(e,Ln(i,e.current)))}function M_(){var e=Sn.current;return e===null?!0:(Lt&4194048)===Lt?jn===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?e===jn:!1}function V_(){var e=Y.H;return Y.H=fl,e===null?fl:e}function x_(){var e=Y.A;return Y.A=rb,e}function Dc(){me=4,Lr||(Lt&4194048)!==Lt&&Sn.current!==null||(ja=!0),(Ur&134217727)===0&&($s&134217727)===0||re===null||jr(re,Lt,wn,!1)}function kd(e,i,a){var l=Yt;Yt|=2;var h=V_(),d=x_();(re!==e||Lt!==i)&&(Ic=null,Ha(e,i)),i=!1;var _=me;t:do try{if(Jt!==0&&Vt!==null){var S=Vt,O=bn;switch(Jt){case 8:Ud(),_=6;break t;case 3:case 2:case 9:case 6:Sn.current===null&&(i=!0);var j=Jt;if(Jt=0,bn=null,Fa(e,S,O,j),a&&ja){_=0;break t}break;default:j=Jt,Jt=0,bn=null,Fa(e,S,O,j)}}ob(),_=me;break}catch($){O_(e,$)}while(!0);return i&&e.shellSuspendCounter++,Fi=js=null,Yt=l,Y.H=h,Y.A=d,Vt===null&&(re=null,Lt=0,Xu()),_}function ob(){for(;Vt!==null;)P_(Vt)}function lb(e,i){var a=Yt;Yt|=2;var l=V_(),h=x_();re!==e||Lt!==i?(Ic=null,Cc=nn()+500,Ha(e,i)):ja=Gn(e,i);t:do try{if(Jt!==0&&Vt!==null){i=Vt;var d=bn;e:switch(Jt){case 1:Jt=0,bn=null,Fa(e,i,d,1);break;case 2:case 9:if(Gg(d)){Jt=0,bn=null,L_(i);break}i=function(){Jt!==2&&Jt!==9||re!==e||(Jt=7),Ni(e)},d.then(i,i);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:Gg(d)?(Jt=0,bn=null,L_(i)):(Jt=0,bn=null,Fa(e,i,d,7));break;case 5:var _=null;switch(Vt.tag){case 26:_=Vt.memoizedState;case 5:case 27:var S=Vt;if(_?Tv(_):S.stateNode.complete){Jt=0,bn=null;var O=S.sibling;if(O!==null)Vt=O;else{var j=S.return;j!==null?(Vt=j,Oc(j)):Vt=null}break e}}Jt=0,bn=null,Fa(e,i,d,5);break;case 6:Jt=0,bn=null,Fa(e,i,d,6);break;case 8:Ud(),me=6;break t;default:throw Error(s(462))}}ub();break}catch($){O_(e,$)}while(!0);return Fi=js=null,Y.H=l,Y.A=h,Yt=a,Vt!==null?0:(re=null,Lt=0,Xu(),me)}function ub(){for(;Vt!==null&&!mf();)P_(Vt)}function P_(e){var i=s_(e.alternate,e,tr);e.memoizedProps=e.pendingProps,i===null?Oc(e):Vt=i}function L_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Wy(a,i,i.pendingProps,i.type,void 0,Lt);break;case 11:i=Wy(a,i,i.pendingProps,i.type.render,i.ref,Lt);break;case 5:Wf(i);default:o_(a,i),i=Vt=xg(i,tr),i=s_(a,i,tr)}e.memoizedProps=e.pendingProps,i===null?Oc(e):Vt=i}function Fa(e,i,a,l){Fi=js=null,Wf(i),Va=null,rl=0;var h=i.return;try{if(JA(e,h,i,a,Lt)){me=1,_c(e,Ln(a,e.current)),Vt=null;return}}catch(d){if(h!==null)throw Vt=h,d;me=1,_c(e,Ln(a,e.current)),Vt=null;return}i.flags&32768?(Bt||l===1?e=!0:ja||(Lt&536870912)!==0?e=!1:(Lr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),U_(i,e)):Oc(i)}function Oc(e){var i=e;do{if((i.flags&32768)!==0){U_(i,Lr);return}e=i.return;var a=tb(i.alternate,i,tr);if(a!==null){Vt=a;return}if(i=i.sibling,i!==null){Vt=i;return}Vt=i=e}while(i!==null);me===0&&(me=5)}function U_(e,i){do{var a=eb(e.alternate,e);if(a!==null){a.flags&=32767,Vt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Vt=e;return}Vt=e=a}while(e!==null);me=6,Vt=null}function k_(e,i,a,l,h,d,_,S,O){e.cancelPendingCommit=null;do Mc();while(xe!==0);if((Yt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Rf,yf(e,a,d,_,S,O),e===re&&(Vt=re=null,Lt=0),qa=i,zr=e,er=a,xd=d,Pd=h,C_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,db(gr,function(){return H_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=ot.p,ot.p=2,_=Yt,Yt|=4;try{nb(e,i,a)}finally{Yt=_,ot.p=h,Y.T=l}}xe=1,z_(),j_(),B_()}}function z_(){if(xe===1){xe=0;var e=zr,i=qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=ot.p;ot.p=2;var h=Yt;Yt|=4;try{v_(i,e);var d=Xd,_=wg(e.containerInfo),S=d.focusedElem,O=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&bg(S.ownerDocument.documentElement,S)){if(O!==null&&Tf(S)){var j=O.start,$=O.end;if($===void 0&&($=j),"selectionStart"in S)S.selectionStart=j,S.selectionEnd=Math.min($,S.value.length);else{var et=S.ownerDocument||document,B=et&&et.defaultView||window;if(B.getSelection){var K=B.getSelection(),dt=S.textContent.length,Et=Math.min(O.start,dt),ne=O.end===void 0?Et:Math.min(O.end,dt);!K.extend&&Et>ne&&(_=ne,ne=Et,Et=_);var U=Ag(S,Et),V=Ag(S,ne);if(U&&V&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==V.node||K.focusOffset!==V.offset)){var z=et.createRange();z.setStart(U.node,U.offset),K.removeAllRanges(),Et>ne?(K.addRange(z),K.extend(V.node,V.offset)):(z.setEnd(V.node,V.offset),K.addRange(z))}}}}for(et=[],K=S;K=K.parentNode;)K.nodeType===1&&et.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<et.length;S++){var Z=et[S];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Fc=!!$d,Xd=$d=null}finally{Yt=h,ot.p=l,Y.T=a}}e.current=i,xe=2}}function j_(){if(xe===2){xe=0;var e=zr,i=qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=ot.p;ot.p=2;var h=Yt;Yt|=4;try{m_(e,i.alternate,i)}finally{Yt=h,ot.p=l,Y.T=a}}xe=3}}function B_(){if(xe===4||xe===3){xe=0,Su();var e=zr,i=qa,a=er,l=C_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?xe=5:(xe=0,qa=zr=null,q_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(kr=null),ki(a),i=i.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Fn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=ot.p,ot.p=2,Y.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{Y.T=i,ot.p=h}}(er&3)!==0&&Mc(),Ni(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===Ld?Tl++:(Tl=0,Ld=e):Tl=0,Sl(0)}}function q_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,nl(i)))}function Mc(){return z_(),j_(),B_(),H_()}function H_(){if(xe!==5)return!1;var e=zr,i=xd;xd=0;var a=ki(er),l=Y.T,h=ot.p;try{ot.p=32>a?32:a,Y.T=null,a=Pd,Pd=null;var d=zr,_=er;if(xe=0,qa=zr=null,er=0,(Yt&6)!==0)throw Error(s(331));var S=Yt;if(Yt|=4,b_(d.current),T_(d,d.current,_,a),Yt=S,Sl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Fn,d)}catch{}return!0}finally{ot.p=h,Y.T=l,q_(e,i)}}function F_(e,i,a){i=Ln(a,i),i=md(e.stateNode,i,2),e=Mr(e,i,2),e!==null&&(As(e,2),Ni(e))}function Zt(e,i,a){if(e.tag===3)F_(e,e,a);else for(;i!==null;){if(i.tag===3){F_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(kr===null||!kr.has(l))){e=Ln(a,e),a=Gy(2),l=Mr(i,a,2),l!==null&&(Qy(a,l,i,e),As(l,2),Ni(l));break}}i=i.return}}function zd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new sb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Od=!0,h.add(a),e=cb.bind(null,e,i,a),i.then(e,e))}function cb(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,re===e&&(Lt&a)===a&&(me===4||me===3&&(Lt&62914560)===Lt&&300>nn()-Rc?(Yt&2)===0&&Ha(e,0):Md|=a,Ba===Lt&&(Ba=0)),Ni(e)}function G_(e,i){i===0&&(i=Iu()),e=Us(e,i),e!==null&&(As(e,i),Ni(e))}function hb(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),G_(e,a)}function fb(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),G_(e,a)}function db(e,i){return Ve(e,i)}var Vc=null,Ga=null,jd=!1,xc=!1,Bd=!1,Br=0;function Ni(e){e!==Ga&&e.next===null&&(Ga===null?Vc=Ga=e:Ga=Ga.next=e),xc=!0,jd||(jd=!0,pb())}function Sl(e,i){if(!Bd&&xc){Bd=!0;do for(var a=!1,l=Vc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-ge(42|e)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,$_(l,d))}else d=Lt,d=hi(l,l===re?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Gn(l,d)||(a=!0,$_(l,d));l=l.next}while(a);Bd=!1}}function mb(){Q_()}function Q_(){xc=jd=!1;var e=0;Br!==0&&wb()&&(e=Br);for(var i=nn(),a=null,l=Vc;l!==null;){var h=l.next,d=K_(l,i);d===0?(l.next=null,a===null?Vc=h:a.next=h,h===null&&(Ga=a)):(a=l,(e!==0||(d&3)!==0)&&(xc=!0)),l=h}xe!==0&&xe!==5||Sl(e),Br!==0&&(Br=0)}function K_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-ge(d),S=1<<_,O=h[_];O===-1?((S&a)===0||(S&l)!==0)&&(h[_]=gf(S,i)):O<=i&&(e.expiredLanes|=S),d&=~S}if(i=re,a=Lt,a=hi(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&pr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Gn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&pr(l),ki(a)){case 2:case 8:a=Mo;break;case 32:a=gr;break;case 268435456:a=Au;break;default:a=gr}return l=Y_.bind(null,e),a=Ve(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&pr(l),e.callbackPriority=2,e.callbackNode=null,2}function Y_(e,i){if(xe!==0&&xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Mc()&&e.callbackNode!==a)return null;var l=Lt;return l=hi(e,e===re?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(N_(e,l,i),K_(e,nn()),e.callbackNode!=null&&e.callbackNode===a?Y_.bind(null,e):null)}function $_(e,i){if(Mc())return null;N_(e,i,!0)}function pb(){Cb(function(){(Yt&6)!==0?Ve(Oo,mb):Q_()})}function qd(){if(Br===0){var e=Da;e===0&&(e=ui,ui<<=1,(ui&261888)===0&&(ui=256)),Br=e}return Br}function X_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:pa(""+e)}function J_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function gb(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=X_((h[Le]||null).action),_=l.submitter;_&&(i=(i=_[Le]||null)?X_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new Si("action","action",null,l,h);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Br!==0){var O=_?J_(h,_):new FormData(h);ld(a,{pending:!0,data:O,method:h.method,action:d},null,O)}}else typeof d=="function"&&(S.preventDefault(),O=_?J_(h,_):new FormData(h),ld(a,{pending:!0,data:O,method:h.method,action:d},d,O))},currentTarget:h}]})}}for(var Hd=0;Hd<wf.length;Hd++){var Fd=wf[Hd],yb=Fd.toLowerCase(),_b=Fd[0].toUpperCase()+Fd.slice(1);Wn(yb,"on"+_b)}Wn(Ig,"onAnimationEnd"),Wn(Ng,"onAnimationIteration"),Wn(Dg,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(xA,"onTransitionRun"),Wn(PA,"onTransitionStart"),Wn(LA,"onTransitionCancel"),Wn(Og,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function Z_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],O=S.instance,j=S.currentTarget;if(S=S.listener,O!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=j;try{d(h)}catch($){$u($)}h.currentTarget=null,d=O}else for(_=0;_<l.length;_++){if(S=l[_],O=S.instance,j=S.currentTarget,S=S.listener,O!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=j;try{d(h)}catch($){$u($)}h.currentTarget=null,d=O}}}}function xt(e,i){var a=i[ca];a===void 0&&(a=i[ca]=new Set);var l=e+"__bubble";a.has(l)||(W_(i,e,2,!1),a.add(l))}function Gd(e,i,a){var l=0;i&&(l|=4),W_(a,e,l,i)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function Qd(e){if(!e[Pc]){e[Pc]=!0,Po.forEach(function(a){a!=="selectionchange"&&(vb.has(a)||Gd(a,!1,e),Gd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Pc]||(i[Pc]=!0,Gd("selectionchange",!1,i))}}function W_(e,i,a,l){switch(Iv(i)){case 2:var h=Kb;break;case 8:h=Yb;break;default:h=om}a=h.bind(null,i,a,e),h=void 0,!Ns||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Kd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=pi(S),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){l=d=_;continue t}S=S.parentNode}}l=l.return}Sr(function(){var j=d,$=Mn(a),et=[];t:{var B=Mg.get(e);if(B!==void 0){var K=Si,dt=e;switch(e){case"keypress":if(Os(a)===0)break t;case"keydown":case"keyup":K=Qu;break;case"focusin":dt="focus",K=Vs;break;case"focusout":dt="blur",K=Vs;break;case"beforeblur":case"afterblur":K=Vs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=y;break;case Ig:case Ng:case Dg:K=zu;break;case Og:K=A;break;case"scroll":case"scrollend":K=Ko;break;case"wheel":K=F;break;case"copy":case"cut":case"paste":K=ju;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Bi;break;case"toggle":case"beforetoggle":K=It}var Et=(i&4)!==0,ne=!Et&&(e==="scroll"||e==="scrollend"),U=Et?B!==null?B+"Capture":null:B;Et=[];for(var V=j,z;V!==null;){var Z=V;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||U===null||(Z=$n(V,U),Z!=null&&Et.push(bl(V,Z,z))),ne)break;V=V.return}0<Et.length&&(B=new K(B,dt,null,a,$),et.push({event:B,listeners:Et}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",B&&a!==Fo&&(dt=a.relatedTarget||a.fromElement)&&(pi(dt)||dt[di]))break t;if((K||B)&&(B=$.window===$?$:(B=$.ownerDocument)?B.defaultView||B.parentWindow:window,K?(dt=a.relatedTarget||a.toElement,K=j,dt=dt?pi(dt):null,dt!==null&&(ne=u(dt),Et=dt.tag,dt!==ne||Et!==5&&Et!==27&&Et!==6)&&(dt=null)):(K=null,dt=j),K!==dt)){if(Et=Yo,Z="onMouseLeave",U="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(Et=Bi,Z="onPointerLeave",U="onPointerEnter",V="pointer"),ne=K==null?B:_n(K),z=dt==null?B:_n(dt),B=new Et(Z,V+"leave",K,a,$),B.target=ne,B.relatedTarget=z,Z=null,pi($)===j&&(Et=new Et(U,V+"enter",dt,a,$),Et.target=z,Et.relatedTarget=ne,Z=Et),ne=Z,K&&dt)e:{for(Et=Eb,U=K,V=dt,z=0,Z=U;Z;Z=Et(Z))z++;Z=0;for(var yt=V;yt;yt=Et(yt))Z++;for(;0<z-Z;)U=Et(U),z--;for(;0<Z-z;)V=Et(V),Z--;for(;z--;){if(U===V||V!==null&&U===V.alternate){Et=U;break e}U=Et(U),V=Et(V)}Et=null}else Et=null;K!==null&&tv(et,B,K,Et,!1),dt!==null&&ne!==null&&tv(et,ne,dt,Et,!0)}}t:{if(B=j?_n(j):window,K=B.nodeName&&B.nodeName.toLowerCase(),K==="select"||K==="input"&&B.type==="file")var Ft=yg;else if(pg(B))if(_g)Ft=OA;else{Ft=NA;var mt=IA}else K=B.nodeName,!K||K.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&ma(j.elementType)&&(Ft=yg):Ft=DA;if(Ft&&(Ft=Ft(e,j))){gg(et,Ft,a,$);break t}mt&&mt(e,B,j),e==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&Bo(B,"number",B.value)}switch(mt=j?_n(j):window,e){case"focusin":(pg(mt)||mt.contentEditable==="true")&&(Sa=mt,Sf=j,Wo=null);break;case"focusout":Wo=Sf=Sa=null;break;case"mousedown":Af=!0;break;case"contextmenu":case"mouseup":case"dragend":Af=!1,Rg(et,a,$);break;case"selectionchange":if(VA)break;case"keydown":case"keyup":Rg(et,a,$)}var Dt;if(Kt)t:{switch(e){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else Ta?xs(e,a)&&(Ut="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ut="onCompositionStart");Ut&&(wi&&a.locale!=="ko"&&(Ta||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&Ta&&(Dt=Qo()):(Ti=$,Go="value"in Ti?Ti.value:Ti.textContent,Ta=!0)),mt=Lc(j,Ut),0<mt.length&&(Ut=new bi(Ut,e,null,a,$),et.push({event:Ut,listeners:mt}),Dt?Ut.data=Dt:(Dt=Ea(a),Dt!==null&&(Ut.data=Dt)))),(Dt=xn?bA(e,a):wA(e,a))&&(Ut=Lc(j,"onBeforeInput"),0<Ut.length&&(mt=new bi("onBeforeInput","beforeinput",null,a,$),et.push({event:mt,listeners:Ut}),mt.data=Dt)),gb(et,e,j,a,$)}Z_(et,i)})}function bl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Lc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=$n(e,a),h!=null&&l.unshift(bl(e,h,d)),h=$n(e,i),h!=null&&l.push(bl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function Eb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function tv(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,O=S.alternate,j=S.stateNode;if(S=S.tag,O!==null&&O===l)break;S!==5&&S!==26&&S!==27||j===null||(O=j,h?(j=$n(a,d),j!=null&&_.unshift(bl(a,j,O))):h||(j=$n(a,d),j!=null&&_.push(bl(a,j,O)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var Tb=/\r\n?/g,Sb=/\u0000|\uFFFD/g;function ev(e){return(typeof e=="string"?e:""+e).replace(Tb,`
`).replace(Sb,"")}function nv(e,i){return i=ev(i),ev(e)===i}function ee(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||hn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&hn(e,""+l);break;case"className":vn(e,"class",l);break;case"tabIndex":vn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(e,a,l);break;case"style":Ho(e,l,d);break;case"data":if(i!=="object"){vn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=pa(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&ee(e,i,"name",h.name,h,null),ee(e,i,"formEncType",h.formEncType,h,null),ee(e,i,"formMethod",h.formMethod,h,null),ee(e,i,"formTarget",h.formTarget,h,null)):(ee(e,i,"encType",h.encType,h,null),ee(e,i,"method",h.method,h,null),ee(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=pa(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Yn);break;case"onScroll":l!=null&&xt("scroll",e);break;case"onScrollEnd":l!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=pa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":xt("beforetoggle",e),xt("toggle",e),fa(e,"popover",l);break;case"xlinkActuate":we(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":we(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":we(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":we(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":we(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":we(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":we(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":we(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":we(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fa(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Lu.get(a)||a,fa(e,a,l))}}function Yd(e,i,a,l,h,d){switch(a){case"style":Ho(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?hn(e,l):(typeof l=="number"||typeof l=="bigint")&&hn(e,""+l);break;case"onScroll":l!=null&&xt("scroll",e);break;case"onScrollEnd":l!=null&&xt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Le]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):fa(e,a,l)}}}function Ke(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ee(e,i,d,_,a,null)}}h&&ee(e,i,"srcSet",a.srcSet,a,null),l&&ee(e,i,"src",a.src,a,null);return;case"input":xt("invalid",e);var S=d=_=h=null,O=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":_=$;break;case"checked":O=$;break;case"defaultChecked":j=$;break;case"value":d=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:ee(e,i,l,$,a,null)}}Vu(e,d,S,O,j,_,h,!1);return;case"select":xt("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:ee(e,i,h,S,a,null)}i=d,a=_,e.multiple=!!l,i!=null?_r(e,!!l,i,!1):a!=null&&_r(e,!!l,a,!0);return;case"textarea":xt("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:ee(e,i,_,S,a,null)}vr(e,l,h,d);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ee(e,i,O,l,a,null)}return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(l=0;l<Al.length;l++)xt(Al[l],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ee(e,i,j,l,a,null)}return;default:if(ma(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Yd(e,i,$,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&ee(e,i,S,l,a,null))}function Ab(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,O=null,j=null,$=null;for(K in a){var et=a[K];if(a.hasOwnProperty(K)&&et!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":O=et;default:l.hasOwnProperty(K)||ee(e,i,K,null,l,et)}}for(var B in l){var K=l[B];if(et=a[B],l.hasOwnProperty(B)&&(K!=null||et!=null))switch(B){case"type":d=K;break;case"name":h=K;break;case"checked":j=K;break;case"defaultChecked":$=K;break;case"value":_=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==et&&ee(e,i,B,K,l,et)}}da(e,_,S,O,j,$,d,h);return;case"select":K=_=S=B=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":K=O;default:l.hasOwnProperty(d)||ee(e,i,d,null,l,O)}for(h in l)if(d=l[h],O=a[h],l.hasOwnProperty(h)&&(d!=null||O!=null))switch(h){case"value":B=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==O&&ee(e,i,h,d,l,O)}i=S,a=_,l=K,B!=null?_r(e,!!a,B,!1):!!l!=!!a&&(i!=null?_r(e,!!a,i,!0):_r(e,!!a,a?[]:"",!1));return;case"textarea":K=B=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ee(e,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":B=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&ee(e,i,_,h,l,d)}xu(e,B,K);return;case"option":for(var dt in a)if(B=a[dt],a.hasOwnProperty(dt)&&B!=null&&!l.hasOwnProperty(dt))switch(dt){case"selected":e.selected=!1;break;default:ee(e,i,dt,null,l,B)}for(O in l)if(B=l[O],K=a[O],l.hasOwnProperty(O)&&B!==K&&(B!=null||K!=null))switch(O){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:ee(e,i,O,B,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in a)B=a[Et],a.hasOwnProperty(Et)&&B!=null&&!l.hasOwnProperty(Et)&&ee(e,i,Et,null,l,B);for(j in l)if(B=l[j],K=a[j],l.hasOwnProperty(j)&&B!==K&&(B!=null||K!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:ee(e,i,j,B,l,K)}return;default:if(ma(i)){for(var ne in a)B=a[ne],a.hasOwnProperty(ne)&&B!==void 0&&!l.hasOwnProperty(ne)&&Yd(e,i,ne,void 0,l,B);for($ in l)B=l[$],K=a[$],!l.hasOwnProperty($)||B===K||B===void 0&&K===void 0||Yd(e,i,$,B,l,K);return}}for(var U in a)B=a[U],a.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&ee(e,i,U,null,l,B);for(et in l)B=l[et],K=a[et],!l.hasOwnProperty(et)||B===K||B==null&&K==null||ee(e,i,et,B,l,K)}function iv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&iv(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var O=a[l],j=O.startTime;if(j>S)break;var $=O.transferSize,et=O.initiatorType;$&&iv(et)&&(O=O.responseEnd,_+=$*(O<S?1:(S-j)/(O-j)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var $d=null,Xd=null;function Uc(e){return e.nodeType===9?e:e.ownerDocument}function rv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Jd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Zd=null;function wb(){var e=window.event;return e&&e.type==="popstate"?e===Zd?!1:(Zd=e,!0):(Zd=null,!1)}var av=typeof setTimeout=="function"?setTimeout:void 0,Rb=typeof clearTimeout=="function"?clearTimeout:void 0,ov=typeof Promise=="function"?Promise:void 0,Cb=typeof queueMicrotask=="function"?queueMicrotask:typeof ov<"u"?function(e){return ov.resolve(null).then(e).catch(Ib)}:av;function Ib(e){setTimeout(function(){throw e})}function qr(e){return e==="head"}function lv(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),$a(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")wl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,wl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[mi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&wl(e.ownerDocument.body);a=h}while(a);$a(i)}function uv(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Wd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Wd(a),ha(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Nb(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[mi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Bn(e.nextSibling),e===null)break}return null}function Db(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Bn(e.nextSibling),e===null))return null;return e}function cv(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Bn(e.nextSibling),e===null))return null;return e}function tm(e){return e.data==="$?"||e.data==="$~"}function em(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ob(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Bn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var nm=null;function hv(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Bn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function fv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function dv(e,i,a){switch(i=Uc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function wl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ha(e)}var qn=new Map,mv=new Set;function kc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var nr=ot.d;ot.d={f:Mb,r:Vb,D:xb,C:Pb,L:Lb,m:Ub,X:zb,S:kb,M:jb};function Mb(){var e=nr.f(),i=Nc();return e||i}function Vb(e){var i=On(e);i!==null&&i.tag===5&&i.type==="form"?Oy(i):nr.r(e)}var Qa=typeof document>"u"?null:document;function pv(e,i,a){var l=Qa;if(l&&typeof i=="string"&&i){var h=cn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),mv.has(h)||(mv.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ke(i,"link",e),be(i),l.head.appendChild(i)))}}function xb(e){nr.D(e),pv("dns-prefetch",e,null)}function Pb(e,i){nr.C(e,i),pv("preconnect",e,i)}function Lb(e,i,a){nr.L(e,i,a);var l=Qa;if(l&&e&&i){var h='link[rel="preload"][as="'+cn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+cn(a.imageSizes)+'"]')):h+='[href="'+cn(e)+'"]';var d=h;switch(i){case"style":d=Ka(e);break;case"script":d=Ya(e)}qn.has(d)||(e=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),qn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Rl(d))||i==="script"&&l.querySelector(Cl(d))||(i=l.createElement("link"),Ke(i,"link",e),be(i),l.head.appendChild(i)))}}function Ub(e,i){nr.m(e,i);var a=Qa;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+cn(l)+'"][href="'+cn(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ya(e)}if(!qn.has(d)&&(e=T({rel:"modulepreload",href:e},i),qn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Cl(d)))return}l=a.createElement("link"),Ke(l,"link",e),be(l),a.head.appendChild(l)}}}function kb(e,i,a){nr.S(e,i,a);var l=Qa;if(l&&e){var h=gi(l).hoistableStyles,d=Ka(e);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Rl(d)))S.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},a),(a=qn.get(d))&&im(e,a);var O=_=l.createElement("link");be(O),Ke(O,"link",e),O._p=new Promise(function(j,$){O.onload=j,O.onerror=$}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,zc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function zb(e,i){nr.X(e,i);var a=Qa;if(a&&e){var l=gi(a).hoistableScripts,h=Ya(e),d=l.get(h);d||(d=a.querySelector(Cl(h)),d||(e=T({src:e,async:!0},i),(i=qn.get(h))&&rm(e,i),d=a.createElement("script"),be(d),Ke(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function jb(e,i){nr.M(e,i);var a=Qa;if(a&&e){var l=gi(a).hoistableScripts,h=Ya(e),d=l.get(h);d||(d=a.querySelector(Cl(h)),d||(e=T({src:e,async:!0,type:"module"},i),(i=qn.get(h))&&rm(e,i),d=a.createElement("script"),be(d),Ke(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function gv(e,i,a,l){var h=(h=ct.current)?kc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ka(a.href),a=gi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ka(a.href);var d=gi(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(Rl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),qn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(e,a),d||Bb(h,e,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ya(a),a=gi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ka(e){return'href="'+cn(e)+'"'}function Rl(e){return'link[rel="stylesheet"]['+e+"]"}function yv(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function Bb(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ke(i,"link",a),be(i),e.head.appendChild(i))}function Ya(e){return'[src="'+cn(e)+'"]'}function Cl(e){return"script[async]"+e}function _v(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+cn(a.href)+'"]');if(l)return i.instance=l,be(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),be(l),Ke(l,"style",h),zc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Ka(a.href);var d=e.querySelector(Rl(h));if(d)return i.state.loading|=4,i.instance=d,be(d),d;l=yv(a),(h=qn.get(h))&&im(l,h),d=(e.ownerDocument||e).createElement("link"),be(d);var _=d;return _._p=new Promise(function(S,O){_.onload=S,_.onerror=O}),Ke(d,"link",l),i.state.loading|=4,zc(d,a.precedence,e),i.instance=d;case"script":return d=Ya(a.src),(h=e.querySelector(Cl(d)))?(i.instance=h,be(h),h):(l=a,(h=qn.get(d))&&(l=T({},a),rm(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),be(h),Ke(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,zc(l,a.precedence,e));return i.instance}function zc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function im(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function rm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var jc=null;function vv(e,i,a){if(jc===null){var l=new Map,h=jc=new Map;h.set(a,l)}else h=jc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[mi]||d[Ae]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function Ev(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function qb(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Tv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Hb(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ka(l.href),d=i.querySelector(Rl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Bc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,be(d);return}d=i.ownerDocument||i,l=yv(l),(h=qn.get(h))&&im(l,h),d=d.createElement("link"),be(d);var _=d;_._p=new Promise(function(S,O){_.onload=S,_.onerror=O}),Ke(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Bc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var sm=0;function Fb(e,i){return e.stylesheets&&e.count===0&&Hc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Hc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&sm===0&&(sm=62500*bb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Hc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>sm?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var qc=null;function Hc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,qc=new Map,i.forEach(Gb,e),qc=null,Bc.call(e))}function Gb(e,i){if(!(i.state.loading&4)){var a=qc.get(e);if(a)var l=a.get(null);else{a=new Map,qc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Bc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Il={$$typeof:rt,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function Qb(e,i,a,l,h,d,_,S,O){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Sv(e,i,a,l,h,d,_,S,O,j,$,et){return e=new Qb(e,i,a,_,O,j,$,et,S),i=1,d===!0&&(i|=24),d=Tn(3,null,null,i),e.current=d,d.stateNode=e,i=kf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},qf(d),e}function Av(e){return e?(e=wa,e):wa}function bv(e,i,a,l,h,d){h=Av(h),l.context===null?l.context=h:l.pendingContext=h,l=Or(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Mr(e,l,i),a!==null&&(gn(a,e,i),al(a,e,i))}function wv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function am(e,i){wv(e,i),(e=e.alternate)&&wv(e,i)}function Rv(e){if(e.tag===13||e.tag===31){var i=Us(e,67108864);i!==null&&gn(i,e,67108864),am(e,67108864)}}function Cv(e){if(e.tag===13||e.tag===31){var i=Rn();i=ws(i);var a=Us(e,i);a!==null&&gn(a,e,i),am(e,i)}}var Fc=!0;function Kb(e,i,a,l){var h=Y.T;Y.T=null;var d=ot.p;try{ot.p=2,om(e,i,a,l)}finally{ot.p=d,Y.T=h}}function Yb(e,i,a,l){var h=Y.T;Y.T=null;var d=ot.p;try{ot.p=8,om(e,i,a,l)}finally{ot.p=d,Y.T=h}}function om(e,i,a,l){if(Fc){var h=lm(l);if(h===null)Kd(e,i,l,Gc,a),Nv(e,l);else if(Xb(h,e,i,a,l))l.stopPropagation();else if(Nv(e,l),i&4&&-1<$b.indexOf(e)){for(;h!==null;){var d=On(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ci(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var O=1<<31-ge(_);S.entanglements[1]|=O,_&=~O}Ni(d),(Yt&6)===0&&(Cc=nn()+500,Sl(0))}}break;case 31:case 13:S=Us(d,2),S!==null&&gn(S,d,2),Nc(),am(d,2)}if(d=lm(l),d===null&&Kd(e,i,l,Gc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Kd(e,i,l,null,a)}}function lm(e){return e=Mn(e),um(e)}var Gc=null;function um(e){if(Gc=null,e=pi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Gc=e,null}function Iv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ts()){case Oo:return 2;case Mo:return 8;case gr:case pf:return 32;case Au:return 268435456;default:return 32}default:return 32}}var cm=!1,Hr=null,Fr=null,Gr=null,Nl=new Map,Dl=new Map,Qr=[],$b="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Nv(e,i){switch(e){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":Nl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(i.pointerId)}}function Ol(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=On(i),i!==null&&Rv(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function Xb(e,i,a,l,h){switch(i){case"focusin":return Hr=Ol(Hr,e,i,a,l,h),!0;case"dragenter":return Fr=Ol(Fr,e,i,a,l,h),!0;case"mouseover":return Gr=Ol(Gr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Nl.set(d,Ol(Nl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Dl.set(d,Ol(Dl.get(d)||null,e,i,a,l,h)),!0}return!1}function Dv(e){var i=pi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Qn(e.priority,function(){Cv(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,Qn(e.priority,function(){Cv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=lm(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Fo=l,a.target.dispatchEvent(l),Fo=null}else return i=On(a),i!==null&&Rv(i),e.blockedOn=a,!1;i.shift()}return!0}function Ov(e,i,a){Qc(e)&&a.delete(i)}function Jb(){cm=!1,Hr!==null&&Qc(Hr)&&(Hr=null),Fr!==null&&Qc(Fr)&&(Fr=null),Gr!==null&&Qc(Gr)&&(Gr=null),Nl.forEach(Ov),Dl.forEach(Ov)}function Kc(e,i){e.blockedOn===i&&(e.blockedOn=null,cm||(cm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Jb)))}var Yc=null;function Mv(e){Yc!==e&&(Yc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Yc===e&&(Yc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(um(l||a)===null)continue;break}var d=On(a);d!==null&&(e.splice(i,3),i-=3,ld(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function $a(e){function i(O){return Kc(O,e)}Hr!==null&&Kc(Hr,e),Fr!==null&&Kc(Fr,e),Gr!==null&&Kc(Gr,e),Nl.forEach(i),Dl.forEach(i);for(var a=0;a<Qr.length;a++){var l=Qr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Qr.length&&(a=Qr[0],a.blockedOn===null);)Dv(a),a.blockedOn===null&&Qr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Le]||null;if(typeof d=="function")_||Mv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Le]||null)S=_.formAction;else if(um(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Mv(a)}}}function Vv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function hm(e){this._internalRoot=e}$c.prototype.render=hm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Rn();bv(a,l,e,i,null,null)},$c.prototype.unmount=hm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;bv(e.current,2,null,e,null,null),Nc(),i[di]=null}};function $c(e){this._internalRoot=e}$c.prototype.unstable_scheduleHydration=function(e){if(e){var i=Nu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Qr.length&&i!==0&&i<Qr[a].priority;a++);Qr.splice(a,0,e),a===0&&Dv(e)}};var xv=t.version;if(xv!=="19.2.0")throw Error(s(527,xv,"19.2.0"));ot.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var Zb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{Fn=Xc.inject(Zb),qe=Xc}catch{}}return Vl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=By,d=qy,_=Hy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Sv(e,1,!1,null,null,a,l,null,h,d,_,Vv),e[di]=i.current,Qd(e),new hm(i)},Vl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=By,_=qy,S=Hy,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),i=Sv(e,1,!0,i,a??null,l,h,O,d,_,S,Vv),i.context=Av(null),a=i.current,l=Rn(),l=ws(l),h=Or(l),h.callback=null,Mr(a,h,l),a=l,i.current.lanes=a,As(i,a),Ni(i),e[di]=i.current,Qd(e),new $c(i)},Vl.version="19.2.0",Vl}var Gv;function hw(){if(Gv)return mm.exports;Gv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),mm.exports=cw(),mm.exports}var fw=hw();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Qv="popstate";function dw(r={}){function t(s,o){let{pathname:u,search:f,hash:m}=s.location;return zm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Xl(o)}return pw(t,n,null,r)}function he(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function ri(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function mw(){return Math.random().toString(36).substring(2,10)}function Kv(r,t){return{usr:r.state,key:r.key,idx:t}}function zm(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?_o(t):t,state:n,key:t&&t.key||s||mw()}}function Xl({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function _o(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function pw(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let H=E(),it=H==null?null:H-g;g=H,p&&p({action:m,location:X.location,delta:it})}function w(H,it){m="PUSH";let st=zm(X.location,H,it);g=E()+1;let rt=Kv(st,g),_t=X.createHref(st);try{f.pushState(rt,"",_t)}catch(wt){if(wt instanceof DOMException&&wt.name==="DataCloneError")throw wt;o.location.assign(_t)}u&&p&&p({action:m,location:X.location,delta:1})}function L(H,it){m="REPLACE";let st=zm(X.location,H,it);g=E();let rt=Kv(st,g),_t=X.createHref(st);f.replaceState(rt,"",_t),u&&p&&p({action:m,location:X.location,delta:0})}function Q(H){return gw(H)}let X={get action(){return m},get location(){return r(o,f)},listen(H){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Qv,T),p=H,()=>{o.removeEventListener(Qv,T),p=null}},createHref(H){return t(o,H)},createURL:Q,encodeLocation(H){let it=Q(H);return{pathname:it.pathname,search:it.search,hash:it.hash}},push:w,replace:L,go(H){return f.go(H)}};return X}function gw(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),he(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Xl(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function MT(r,t,n="/"){return yw(r,t,n,!1)}function yw(r,t,n,s){let o=typeof t=="string"?_o(t):t,u=ar(o.pathname||"/",n);if(u==null)return null;let f=VT(r);_w(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=Nw(u);m=Cw(f[p],g,s)}return m}function VT(r,t=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;he(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=sr([s,E.relativePath]),w=n.concat(E);f.children&&f.children.length>0&&(he(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),VT(f.children,t,w,T,p)),!(f.path==null&&!f.index)&&t.push({path:T,score:ww(T,f.index),routesMeta:w})};return r.forEach((f,m)=>{var p;if(f.path===""||!((p=f.path)!=null&&p.includes("?")))u(f,m);else for(let g of xT(f.path))u(f,m,!0,g)}),t}function xT(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=xT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function _w(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:Rw(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var vw=/^:[\w-]+$/,Ew=3,Tw=2,Sw=1,Aw=10,bw=-2,Yv=r=>r==="*";function ww(r,t){let n=r.split("/"),s=n.length;return n.some(Yv)&&(s+=bw),t&&(s+=Tw),n.filter(o=>!Yv(o)).reduce((o,u)=>o+(vw.test(u)?Ew:u===""?Sw:Aw),s)}function Rw(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function Cw(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",T=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),w=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:sr([u,T.pathname]),pathnameBase:Vw(sr([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=sr([u,T.pathnameBase]))}return f}function vh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Iw(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},w)=>{if(E==="*"){let Q=m[w]||"";f=u.slice(0,u.length-Q.length).replace(/(.)\/+$/,"$1")}const L=m[w];return T&&!L?g[E]=void 0:g[E]=(L||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function Iw(r,t=!1,n=!0){ri(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function Nw(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ri(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function ar(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function Dw(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?_o(r):r;return{pathname:n?n.startsWith("/")?n:Ow(n,t):t,search:xw(s),hash:Pw(o)}}function Ow(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function _m(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Mw(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function dp(r){let t=Mw(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function mp(r,t,n,s=!1){let o;typeof r=="string"?o=_o(r):(o={...r},he(!o.pathname||!o.pathname.includes("?"),_m("?","pathname","search",o)),he(!o.pathname||!o.pathname.includes("#"),_m("#","pathname","hash",o)),he(!o.search||!o.search.includes("#"),_m("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=t.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}m=T>=0?t[T]:"/"}let p=Dw(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var sr=r=>r.join("/").replace(/\/\/+/g,"/"),Vw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),xw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Pw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Lw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var PT=["POST","PUT","PATCH","DELETE"];new Set(PT);var Uw=["GET",...PT];new Set(Uw);var vo=G.createContext(null);vo.displayName="DataRouter";var Hh=G.createContext(null);Hh.displayName="DataRouterState";G.createContext(!1);var LT=G.createContext({isTransitioning:!1});LT.displayName="ViewTransition";var kw=G.createContext(new Map);kw.displayName="Fetchers";var zw=G.createContext(null);zw.displayName="Await";var ai=G.createContext(null);ai.displayName="Navigation";var au=G.createContext(null);au.displayName="Location";var oi=G.createContext({outlet:null,matches:[],isDataRoute:!1});oi.displayName="Route";var pp=G.createContext(null);pp.displayName="RouteError";function jw(r,{relative:t}={}){he(Eo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(ai),{hash:o,pathname:u,search:f}=ou(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:sr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Eo(){return G.useContext(au)!=null}function ys(){return he(Eo(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(au).location}var UT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kT(r){G.useContext(ai).static||G.useLayoutEffect(r)}function zT(){let{isDataRoute:r}=G.useContext(oi);return r?e1():Bw()}function Bw(){he(Eo(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(vo),{basename:t,navigator:n}=G.useContext(ai),{matches:s}=G.useContext(oi),{pathname:o}=ys(),u=JSON.stringify(dp(s)),f=G.useRef(!1);return kT(()=>{f.current=!0}),G.useCallback((p,g={})=>{if(ri(f.current,UT),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=mp(p,JSON.parse(u),o,g.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:sr([t,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[t,n,u,o,r])}var qw=G.createContext(null);function Hw(r){let t=G.useContext(oi).outlet;return G.useMemo(()=>t&&G.createElement(qw.Provider,{value:r},t),[t,r])}function ou(r,{relative:t}={}){let{matches:n}=G.useContext(oi),{pathname:s}=ys(),o=JSON.stringify(dp(n));return G.useMemo(()=>mp(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function Fw(r,t){return jT(r,t)}function jT(r,t,n,s,o){var st;he(Eo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=G.useContext(ai),{matches:f}=G.useContext(oi),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let rt=T&&T.path||"";BT(g,!T||rt.endsWith("*")||rt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${rt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${rt}"> to <Route path="${rt==="/"?"*":`${rt}/*`}">.`)}let w=ys(),L;if(t){let rt=typeof t=="string"?_o(t):t;he(E==="/"||((st=rt.pathname)==null?void 0:st.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${rt.pathname}" was given in the \`location\` prop.`),L=rt}else L=w;let Q=L.pathname||"/",X=Q;if(E!=="/"){let rt=E.replace(/^\//,"").split("/");X="/"+Q.replace(/^\//,"").split("/").slice(rt.length).join("/")}let H=MT(r,{pathname:X});ri(T||H!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),ri(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let it=$w(H&&H.map(rt=>Object.assign({},rt,{params:Object.assign({},p,rt.params),pathname:sr([E,u.encodeLocation?u.encodeLocation(rt.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:rt.pathname]),pathnameBase:rt.pathnameBase==="/"?E:sr([E,u.encodeLocation?u.encodeLocation(rt.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:rt.pathnameBase])})),f,n,s,o);return t&&it?G.createElement(au.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},it):it}function Gw(){let r=t1(),t=Lw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},t),n?G.createElement("pre",{style:o},n):null,f)}var Qw=G.createElement(Gw,null),Kw=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.unstable_onError?this.props.unstable_onError(r,t):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?G.createElement(oi.Provider,{value:this.props.routeContext},G.createElement(pp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Yw({routeContext:r,match:t,children:n}){let s=G.useContext(vo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),G.createElement(oi.Provider,{value:r},n)}function $w(r,t=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n==null?void 0:n.errors;if(f!=null){let g=u.findIndex(E=>E.route.id&&(f==null?void 0:f[E.route.id])!==void 0);he(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let E=u[g];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=g),E.route.id){let{loaderData:T,errors:w}=n,L=E.route.loader&&!T.hasOwnProperty(E.route.id)&&(!w||w[E.route.id]===void 0);if(E.route.lazy||L){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,E,T)=>{let w,L=!1,Q=null,X=null;n&&(w=f&&E.route.id?f[E.route.id]:void 0,Q=E.route.errorElement||Qw,m&&(p<0&&T===0?(BT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,X=null):p===T&&(L=!0,X=E.route.hydrateFallbackElement||null)));let H=t.concat(u.slice(0,T+1)),it=()=>{let st;return w?st=Q:L?st=X:E.route.Component?st=G.createElement(E.route.Component,null):E.route.element?st=E.route.element:st=g,G.createElement(Yw,{match:E,routeContext:{outlet:g,matches:H,isDataRoute:n!=null},children:st})};return n&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?G.createElement(Kw,{location:n.location,revalidation:n.revalidation,component:Q,error:w,children:it(),routeContext:{outlet:null,matches:H,isDataRoute:!0},unstable_onError:s}):it()},null)}function gp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xw(r){let t=G.useContext(vo);return he(t,gp(r)),t}function Jw(r){let t=G.useContext(Hh);return he(t,gp(r)),t}function Zw(r){let t=G.useContext(oi);return he(t,gp(r)),t}function yp(r){let t=Zw(r),n=t.matches[t.matches.length-1];return he(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Ww(){return yp("useRouteId")}function t1(){var s;let r=G.useContext(pp),t=Jw("useRouteError"),n=yp("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[n]}function e1(){let{router:r}=Xw("useNavigate"),t=yp("useNavigate"),n=G.useRef(!1);return kT(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{ri(n.current,UT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var $v={};function BT(r,t,n){!t&&!$v[r]&&($v[r]=!0,ri(!1,n))}G.memo(n1);function n1({routes:r,future:t,state:n,unstable_onError:s}){return jT(r,void 0,n,s,t)}function Xv({to:r,replace:t,state:n,relative:s}){he(Eo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=G.useContext(ai);ri(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=G.useContext(oi),{pathname:f}=ys(),m=zT(),p=mp(r,dp(u),f,s==="path"),g=JSON.stringify(p);return G.useEffect(()=>{m(JSON.parse(g),{replace:t,state:n,relative:s})},[m,g,s,t,n]),null}function i1(r){return Hw(r.context)}function Xr(r){he(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function r1({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){he(!Eo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=_o(n));let{pathname:p="/",search:g="",hash:E="",state:T=null,key:w="default"}=n,L=G.useMemo(()=>{let Q=ar(p,f);return Q==null?null:{location:{pathname:Q,search:g,hash:E,state:T,key:w},navigationType:s}},[f,p,g,E,T,w,s]);return ri(L!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:G.createElement(ai.Provider,{value:m},G.createElement(au.Provider,{children:t,value:L}))}function s1({children:r,location:t}){return Fw(jm(r),t)}function jm(r,t=[]){let n=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let u=[...t,o];if(s.type===G.Fragment){n.push.apply(n,jm(s.props.children,u));return}he(s.type===Xr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),he(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=jm(s.props.children,u)),n.push(f)}),n}var ah="get",oh="application/x-www-form-urlencoded";function Fh(r){return r!=null&&typeof r.tagName=="string"}function a1(r){return Fh(r)&&r.tagName.toLowerCase()==="button"}function o1(r){return Fh(r)&&r.tagName.toLowerCase()==="form"}function l1(r){return Fh(r)&&r.tagName.toLowerCase()==="input"}function u1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function c1(r,t){return r.button===0&&(!t||t==="_self")&&!u1(r)}var Zc=null;function h1(){if(Zc===null)try{new FormData(document.createElement("form"),0),Zc=!1}catch{Zc=!0}return Zc}var f1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vm(r){return r!=null&&!f1.has(r)?(ri(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oh}"`),null):r}function d1(r,t){let n,s,o,u,f;if(o1(r)){let m=r.getAttribute("action");s=m?ar(m,t):null,n=r.getAttribute("method")||ah,o=vm(r.getAttribute("enctype"))||oh,u=new FormData(r)}else if(a1(r)||l1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?ar(p,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||ah,o=vm(r.getAttribute("formenctype"))||vm(m.getAttribute("enctype"))||oh,u=new FormData(m,r),!h1()){let{name:g,type:E,value:T}=r;if(E==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,T)}}else{if(Fh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ah,s=null,o=oh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _p(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function m1(r,t,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&ar(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function p1(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function g1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function y1(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await p1(u,n);return f.links?f.links():[]}return[]}));return T1(s.flat(1).filter(g1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Jv(r,t,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{var T;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function _1(r,t,{includeHydrateFallback:n}={}){return v1(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function v1(r){return[...new Set(r)]}function E1(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function T1(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(E1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function qT(){let r=G.useContext(vo);return _p(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function S1(){let r=G.useContext(Hh);return _p(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var vp=G.createContext(void 0);vp.displayName="FrameworkContext";function HT(){let r=G.useContext(vp);return _p(r,"You must render this element inside a <HydratedRouter> element"),r}function A1(r,t){let n=G.useContext(vp),[s,o]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=t,w=G.useRef(null);G.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let X=it=>{it.forEach(st=>{f(st.isIntersecting)})},H=new IntersectionObserver(X,{threshold:.5});return w.current&&H.observe(w.current),()=>{H.disconnect()}}},[r]),G.useEffect(()=>{if(s){let X=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(X)}}},[s]);let L=()=>{o(!0)},Q=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:xl(m,L),onBlur:xl(p,Q),onMouseEnter:xl(g,L),onMouseLeave:xl(E,Q),onTouchStart:xl(T,L)}]:[!1,w,{}]}function xl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function b1({page:r,...t}){let{router:n}=qT(),s=G.useMemo(()=>MT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?G.createElement(R1,{page:r,matches:s,...t}):null}function w1(r){let{manifest:t,routeModules:n}=HT(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return y1(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function R1({page:r,matches:t,...n}){let s=ys(),{manifest:o,routeModules:u}=HT(),{basename:f}=qT(),{loaderData:m,matches:p}=S1(),g=G.useMemo(()=>Jv(r,t,p,o,s,"data"),[r,t,p,o,s]),E=G.useMemo(()=>Jv(r,t,p,o,s,"assets"),[r,t,p,o,s]),T=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let Q=new Set,X=!1;if(t.forEach(it=>{var rt;let st=o.routes[it.route.id];!st||!st.hasLoader||(!g.some(_t=>_t.route.id===it.route.id)&&it.route.id in m&&((rt=u[it.route.id])!=null&&rt.shouldRevalidate)||st.hasClientLoader?X=!0:Q.add(it.route.id))}),Q.size===0)return[];let H=m1(r,f,"data");return X&&Q.size>0&&H.searchParams.set("_routes",t.filter(it=>Q.has(it.route.id)).map(it=>it.route.id).join(",")),[H.pathname+H.search]},[f,m,s,o,g,t,r,u]),w=G.useMemo(()=>_1(E,o),[E,o]),L=w1(E);return G.createElement(G.Fragment,null,T.map(Q=>G.createElement("link",{key:Q,rel:"prefetch",as:"fetch",href:Q,...n})),w.map(Q=>G.createElement("link",{key:Q,rel:"modulepreload",href:Q,...n})),L.map(({key:Q,link:X})=>G.createElement("link",{key:Q,nonce:n.nonce,...X})))}function C1(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var FT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{FT&&(window.__reactRouterVersion="7.9.4")}catch{}function I1({basename:r,children:t,window:n}){let s=G.useRef();s.current==null&&(s.current=dw({window:n,v5Compat:!0}));let o=s.current,[u,f]=G.useState({action:o.action,location:o.location}),m=G.useCallback(p=>{G.startTransition(()=>f(p))},[f]);return G.useLayoutEffect(()=>o.listen(m),[o,m]),G.createElement(r1,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var GT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QT=G.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,...w},L){let{basename:Q}=G.useContext(ai),X=typeof g=="string"&&GT.test(g),H,it=!1;if(typeof g=="string"&&X&&(H=g,FT))try{let C=new URL(window.location.href),D=g.startsWith("//")?new URL(C.protocol+g):new URL(g),M=ar(D.pathname,Q);D.origin===C.origin&&M!=null?g=M+D.search+D.hash:it=!0}catch{ri(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let st=jw(g,{relative:o}),[rt,_t,wt]=A1(s,w),bt=O1(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T});function b(C){t&&t(C),C.defaultPrevented||bt(C)}let R=G.createElement("a",{...w,...wt,href:H||st,onClick:it||u?t:b,ref:C1(L,_t),target:p,"data-discover":!X&&n==="render"?"true":void 0});return rt&&!X?G.createElement(G.Fragment,null,R,G.createElement(b1,{page:st})):R});QT.displayName="Link";var Ul=G.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let T=ou(f,{relative:g.relative}),w=ys(),L=G.useContext(Hh),{navigator:Q,basename:X}=G.useContext(ai),H=L!=null&&L1(T)&&m===!0,it=Q.encodeLocation?Q.encodeLocation(T).pathname:T.pathname,st=w.pathname,rt=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(st=st.toLowerCase(),rt=rt?rt.toLowerCase():null,it=it.toLowerCase()),rt&&X&&(rt=ar(rt,X)||rt);const _t=it!=="/"&&it.endsWith("/")?it.length-1:it.length;let wt=st===it||!o&&st.startsWith(it)&&st.charAt(_t)==="/",bt=rt!=null&&(rt===it||!o&&rt.startsWith(it)&&rt.charAt(it.length)==="/"),b={isActive:wt,isPending:bt,isTransitioning:H},R=wt?t:void 0,C;typeof s=="function"?C=s(b):C=[s,wt?"active":null,bt?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(b):u;return G.createElement(QT,{...g,"aria-current":R,className:C,ref:E,style:D,to:f,viewTransition:m},typeof p=="function"?p(b):p)});Ul.displayName="NavLink";var N1=G.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=ah,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...w},L)=>{let Q=x1(),X=P1(m,{relative:g}),H=f.toLowerCase()==="get"?"get":"post",it=typeof m=="string"&&GT.test(m),st=rt=>{if(p&&p(rt),rt.defaultPrevented)return;rt.preventDefault();let _t=rt.nativeEvent.submitter,wt=(_t==null?void 0:_t.getAttribute("formmethod"))||f;Q(_t||rt.currentTarget,{fetcherKey:t,method:wt,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T})};return G.createElement("form",{ref:L,method:H,action:X,onSubmit:s?p:st,...w,"data-discover":!it&&r==="render"?"true":void 0})});N1.displayName="Form";function D1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KT(r){let t=G.useContext(vo);return he(t,D1(r)),t}function O1(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=zT(),p=ys(),g=ou(r,{relative:u});return G.useCallback(E=>{if(c1(E,t)){E.preventDefault();let T=n!==void 0?n:Xl(p)===Xl(g);m(r,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,t,r,o,u,f])}var M1=0,V1=()=>`__${String(++M1)}__`;function x1(){let{router:r}=KT("useSubmit"),{basename:t}=G.useContext(ai),n=Ww();return G.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=d1(s,t);if(o.navigate===!1){let E=o.fetcherKey||V1();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,n])}function P1(r,{relative:t}={}){let{basename:n}=G.useContext(ai),s=G.useContext(oi);he(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...ou(r||".",{relative:t})},f=ys();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:sr([n,u.pathname])),Xl(u)}function L1(r,{relative:t}={}){let n=G.useContext(LT);he(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=KT("useViewTransitionState"),o=ou(r,{relative:t});if(!n.isTransitioning)return!1;let u=ar(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ar(n.nextLocation.pathname,s)||n.nextLocation.pathname;return vh(o.pathname,f)!=null||vh(o.pathname,u)!=null}const Zv=r=>{let t;const n=new Set,s=(g,E)=>{const T=typeof g=="function"?g(t):g;if(!Object.is(T,t)){const w=t;t=E??(typeof T!="object"||T===null)?T:Object.assign({},t,T),n.forEach(L=>L(t,w))}},o=()=>t,m={setState:s,getState:o,getInitialState:()=>p,subscribe:g=>(n.add(g),()=>n.delete(g))},p=t=r(s,o,m);return m},U1=(r=>r?Zv(r):Zv),k1=r=>r;function z1(r,t=k1){const n=Jc.useSyncExternalStore(r.subscribe,Jc.useCallback(()=>t(r.getState()),[r,t]),Jc.useCallback(()=>t(r.getInitialState()),[r,t]));return Jc.useDebugValue(n),n}const Wv=r=>{const t=U1(r),n=s=>z1(t,s);return Object.assign(n,t),n},j1=(r=>r?Wv(r):Wv),B1=[{id:"player-1",name:"Maayan"},{id:"player-2",name:"Nevo"},{id:"player-3",name:"Assaf"},{id:"player-4",name:"Gilad"}],q1=[{id:"pair-1",players:["player-1","player-2"]},{id:"pair-2",players:["player-1","player-3"]},{id:"pair-3",players:["player-1","player-4"]},{id:"pair-4",players:["player-2","player-3"]},{id:"pair-5",players:["player-2","player-4"]},{id:"pair-6",players:["player-3","player-4"]}],Em=r=>{if(typeof crypto<"u"&&"randomUUID"in crypto)return`${r}-${crypto.randomUUID()}`;const t=Math.random().toString(36).slice(2,11);return`${r}-${t}`},H1=()=>{};var tE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},F1=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},$T={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,L=g&63;p||(L=64,f||(w=64)),s.push(n[E],n[T],n[w],n[L])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(YT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):F1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new G1;const w=u<<2|m>>4;if(s.push(w),g!==64){const L=m<<4&240|g>>2;if(s.push(L),T!==64){const Q=g<<6&192|T;s.push(Q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class G1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Q1=function(r){const t=YT(r);return $T.encodeByteArray(t,!0)},Eh=function(r){return Q1(r).replace(/\./g,"")},XT=function(r){try{return $T.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=()=>K1().__FIREBASE_DEFAULTS__,$1=()=>{if(typeof process>"u"||typeof tE>"u")return;const r=tE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},X1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&XT(r[1]);return t&&JSON.parse(t)},Gh=()=>{try{return H1()||Y1()||$1()||X1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},JT=r=>{var t,n;return(n=(t=Gh())==null?void 0:t.emulatorHosts)==null?void 0:n[r]},J1=r=>{const t=JT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},ZT=()=>{var r;return(r=Gh())==null?void 0:r.config},WT=r=>{var t;return(t=Gh())==null?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function t0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Eh(JSON.stringify(n)),Eh(JSON.stringify(f)),""].join(".")}const Hl={};function tR(){const r={prod:[],emulator:[]};for(const t of Object.keys(Hl))Hl[t]?r.emulator.push(t):r.prod.push(t);return r}function eR(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let eE=!1;function e0(r,t){if(typeof window>"u"||typeof document>"u"||!To(window.location.host)||Hl[r]===t||Hl[r]||eE)return;Hl[r]=t;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=tR().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,L){w.setAttribute("width","24"),w.setAttribute("id",L),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{eE=!0,f()},w}function E(w,L){w.setAttribute("id",L),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=eR(s),L=n("text"),Q=document.getElementById(L)||document.createElement("span"),X=n("learnmore"),H=document.getElementById(X)||document.createElement("a"),it=n("preprendIcon"),st=document.getElementById(it)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const rt=w.element;m(rt),E(H,X);const _t=g();p(st,it),rt.append(st,Q,H,_t),document.body.appendChild(rt)}u?(Q.innerText="Preview backend disconnected.",st.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(st.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function iR(){var t;const r=(t=Gh())==null?void 0:t.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function aR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oR(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function lR(){return!iR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uR(){try{return typeof indexedDB=="object"}catch{return!1}}function cR(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)==null?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="FirebaseError";class fr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=hR,Object.setPrototypeOf(this,fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lu.prototype.create)}}class lu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?fR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new fr(o,m,s)}}function fR(r,t){return r.replace(dR,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const dR=/\{\$([^}]+)}/g;function mR(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function ta(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(nE(u)&&nE(f)){if(!ta(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function nE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function pR(r,t){const n=new gR(r,t);return n.subscribe.bind(n)}class gR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");yR(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Tm),o.error===void 0&&(o.error=Tm),o.complete===void 0&&(o.complete=Tm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yR(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Tm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(r){return r&&r._delegate?r._delegate:r}class ea{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Z1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ER(t))try{this.getOrInitializeService({instanceIdentifier:Js})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Js){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Js){return this.instances.has(t)}getOptions(t=Js){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:vR(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Js){return this.component?this.component.multipleInstances?t:Js:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vR(r){return r===Js?void 0:r}function ER(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new _R(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(kt||(kt={}));const SR={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},AR=kt.INFO,bR={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},wR=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=bR[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ep{constructor(t){this.name=t,this._logLevel=AR,this._logHandler=wR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?SR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const RR=(r,t)=>t.some(n=>r instanceof n);let iE,rE;function CR(){return iE||(iE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IR(){return rE||(rE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const n0=new WeakMap,Bm=new WeakMap,i0=new WeakMap,Sm=new WeakMap,Tp=new WeakMap;function NR(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ns(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&n0.set(n,r)}).catch(()=>{}),Tp.set(t,r),t}function DR(r){if(Bm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Bm.set(r,t)}let qm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Bm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||i0.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ns(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function OR(r){qm=r(qm)}function MR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Am(this),t,...n);return i0.set(s,t.sort?t.sort():[t]),ns(s)}:IR().includes(r)?function(...t){return r.apply(Am(this),t),ns(n0.get(this))}:function(...t){return ns(r.apply(Am(this),t))}}function VR(r){return typeof r=="function"?MR(r):(r instanceof IDBTransaction&&DR(r),RR(r,CR())?new Proxy(r,qm):r)}function ns(r){if(r instanceof IDBRequest)return NR(r);if(Sm.has(r))return Sm.get(r);const t=VR(r);return t!==r&&(Sm.set(r,t),Tp.set(t,r)),t}const Am=r=>Tp.get(r);function xR(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=ns(f);return s&&f.addEventListener("upgradeneeded",p=>{s(ns(f.result),p.oldVersion,p.newVersion,ns(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const PR=["get","getKey","getAll","getAllKeys","count"],LR=["put","add","delete","clear"],bm=new Map;function sE(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(bm.get(t))return bm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=LR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||PR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return bm.set(t,u),u}OR(r=>({...r,get:(t,n,s)=>sE(t,n)||r.get(t,n,s),has:(t,n)=>!!sE(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function kR(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Hm="@firebase/app",aE="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new Ep("@firebase/app"),zR="@firebase/app-compat",jR="@firebase/analytics-compat",BR="@firebase/analytics",qR="@firebase/app-check-compat",HR="@firebase/app-check",FR="@firebase/auth",GR="@firebase/auth-compat",QR="@firebase/database",KR="@firebase/data-connect",YR="@firebase/database-compat",$R="@firebase/functions",XR="@firebase/functions-compat",JR="@firebase/installations",ZR="@firebase/installations-compat",WR="@firebase/messaging",tC="@firebase/messaging-compat",eC="@firebase/performance",nC="@firebase/performance-compat",iC="@firebase/remote-config",rC="@firebase/remote-config-compat",sC="@firebase/storage",aC="@firebase/storage-compat",oC="@firebase/firestore",lC="@firebase/ai",uC="@firebase/firestore-compat",cC="firebase",hC="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="[DEFAULT]",fC={[Hm]:"fire-core",[zR]:"fire-core-compat",[BR]:"fire-analytics",[jR]:"fire-analytics-compat",[HR]:"fire-app-check",[qR]:"fire-app-check-compat",[FR]:"fire-auth",[GR]:"fire-auth-compat",[QR]:"fire-rtdb",[KR]:"fire-data-connect",[YR]:"fire-rtdb-compat",[$R]:"fire-fn",[XR]:"fire-fn-compat",[JR]:"fire-iid",[ZR]:"fire-iid-compat",[WR]:"fire-fcm",[tC]:"fire-fcm-compat",[eC]:"fire-perf",[nC]:"fire-perf-compat",[iC]:"fire-rc",[rC]:"fire-rc-compat",[sC]:"fire-gcs",[aC]:"fire-gcs-compat",[oC]:"fire-fst",[uC]:"fire-fst-compat",[lC]:"fire-vertex","fire-js":"fire-js",[cC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new Map,dC=new Map,Gm=new Map;function oE(r,t){try{r.container.addComponent(t)}catch(n){or.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function co(r){const t=r.name;if(Gm.has(t))return or.debug(`There were multiple attempts to register component ${t}.`),!1;Gm.set(t,r);for(const n of Th.values())oE(n,r);for(const n of dC.values())oE(n,r);return!0}function Sp(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function ni(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},is=new lu("app","Firebase",mC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=hC;function r0(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:Fm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw is.create("bad-app-name",{appName:String(o)});if(n||(n=ZT()),!n)throw is.create("no-options");const u=Th.get(o);if(u){if(ta(n,u.options)&&ta(s,u.config))return u;throw is.create("duplicate-app",{appName:o})}const f=new TR(o);for(const p of Gm.values())f.addComponent(p);const m=new pC(n,s,f);return Th.set(o,m),m}function s0(r=Fm){const t=Th.get(r);if(!t&&r===Fm&&ZT())return r0();if(!t)throw is.create("no-app",{appName:r});return t}function rs(r,t,n){let s=fC[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),or.warn(f.join(" "));return}co(new ea(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC="firebase-heartbeat-database",yC=1,Jl="firebase-heartbeat-store";let wm=null;function a0(){return wm||(wm=xR(gC,yC,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Jl)}catch(n){console.warn(n)}}}}).catch(r=>{throw is.create("idb-open",{originalErrorMessage:r.message})})),wm}async function _C(r){try{const n=(await a0()).transaction(Jl),s=await n.objectStore(Jl).get(o0(r));return await n.done,s}catch(t){if(t instanceof fr)or.warn(t.message);else{const n=is.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});or.warn(n.message)}}}async function lE(r,t){try{const s=(await a0()).transaction(Jl,"readwrite");await s.objectStore(Jl).put(t,o0(r)),await s.done}catch(n){if(n instanceof fr)or.warn(n.message);else{const s=is.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});or.warn(s.message)}}}function o0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=1024,EC=30;class TC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=uE();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>EC){const f=bC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){or.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=uE(),{heartbeatsToSend:s,unsentEntries:o}=SC(this._heartbeatsCache.heartbeats),u=Eh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return or.warn(n),""}}}function uE(){return new Date().toISOString().substring(0,10)}function SC(r,t=vC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),cE(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),cE(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class AC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uR()?cR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _C(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return lE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return lE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function cE(r){return Eh(JSON.stringify({version:2,heartbeats:r})).length}function bC(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(r){co(new ea("platform-logger",t=>new UR(t),"PRIVATE")),co(new ea("heartbeat",t=>new TC(t),"PRIVATE")),rs(Hm,aE,r),rs(Hm,aE,"esm2020"),rs("fire-js","")}wC("");var hE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ss,l0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(b,R){function C(){}C.prototype=R.prototype,b.F=R.prototype,b.prototype=new C,b.prototype.constructor=b,b.D=function(D,M,P){for(var N=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)N[Ot-2]=arguments[Ot];return R.prototype[M].apply(D,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(b,R,C){C||(C=0);const D=Array(16);if(typeof R=="string")for(var M=0;M<16;++M)D[M]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(M=0;M<16;++M)D[M]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=b.g[0],C=b.g[1],M=b.g[2];let P=b.g[3],N;N=R+(P^C&(M^P))+D[0]+3614090360&4294967295,R=C+(N<<7&4294967295|N>>>25),N=P+(M^R&(C^M))+D[1]+3905402710&4294967295,P=R+(N<<12&4294967295|N>>>20),N=M+(C^P&(R^C))+D[2]+606105819&4294967295,M=P+(N<<17&4294967295|N>>>15),N=C+(R^M&(P^R))+D[3]+3250441966&4294967295,C=M+(N<<22&4294967295|N>>>10),N=R+(P^C&(M^P))+D[4]+4118548399&4294967295,R=C+(N<<7&4294967295|N>>>25),N=P+(M^R&(C^M))+D[5]+1200080426&4294967295,P=R+(N<<12&4294967295|N>>>20),N=M+(C^P&(R^C))+D[6]+2821735955&4294967295,M=P+(N<<17&4294967295|N>>>15),N=C+(R^M&(P^R))+D[7]+4249261313&4294967295,C=M+(N<<22&4294967295|N>>>10),N=R+(P^C&(M^P))+D[8]+1770035416&4294967295,R=C+(N<<7&4294967295|N>>>25),N=P+(M^R&(C^M))+D[9]+2336552879&4294967295,P=R+(N<<12&4294967295|N>>>20),N=M+(C^P&(R^C))+D[10]+4294925233&4294967295,M=P+(N<<17&4294967295|N>>>15),N=C+(R^M&(P^R))+D[11]+2304563134&4294967295,C=M+(N<<22&4294967295|N>>>10),N=R+(P^C&(M^P))+D[12]+1804603682&4294967295,R=C+(N<<7&4294967295|N>>>25),N=P+(M^R&(C^M))+D[13]+4254626195&4294967295,P=R+(N<<12&4294967295|N>>>20),N=M+(C^P&(R^C))+D[14]+2792965006&4294967295,M=P+(N<<17&4294967295|N>>>15),N=C+(R^M&(P^R))+D[15]+1236535329&4294967295,C=M+(N<<22&4294967295|N>>>10),N=R+(M^P&(C^M))+D[1]+4129170786&4294967295,R=C+(N<<5&4294967295|N>>>27),N=P+(C^M&(R^C))+D[6]+3225465664&4294967295,P=R+(N<<9&4294967295|N>>>23),N=M+(R^C&(P^R))+D[11]+643717713&4294967295,M=P+(N<<14&4294967295|N>>>18),N=C+(P^R&(M^P))+D[0]+3921069994&4294967295,C=M+(N<<20&4294967295|N>>>12),N=R+(M^P&(C^M))+D[5]+3593408605&4294967295,R=C+(N<<5&4294967295|N>>>27),N=P+(C^M&(R^C))+D[10]+38016083&4294967295,P=R+(N<<9&4294967295|N>>>23),N=M+(R^C&(P^R))+D[15]+3634488961&4294967295,M=P+(N<<14&4294967295|N>>>18),N=C+(P^R&(M^P))+D[4]+3889429448&4294967295,C=M+(N<<20&4294967295|N>>>12),N=R+(M^P&(C^M))+D[9]+568446438&4294967295,R=C+(N<<5&4294967295|N>>>27),N=P+(C^M&(R^C))+D[14]+3275163606&4294967295,P=R+(N<<9&4294967295|N>>>23),N=M+(R^C&(P^R))+D[3]+4107603335&4294967295,M=P+(N<<14&4294967295|N>>>18),N=C+(P^R&(M^P))+D[8]+1163531501&4294967295,C=M+(N<<20&4294967295|N>>>12),N=R+(M^P&(C^M))+D[13]+2850285829&4294967295,R=C+(N<<5&4294967295|N>>>27),N=P+(C^M&(R^C))+D[2]+4243563512&4294967295,P=R+(N<<9&4294967295|N>>>23),N=M+(R^C&(P^R))+D[7]+1735328473&4294967295,M=P+(N<<14&4294967295|N>>>18),N=C+(P^R&(M^P))+D[12]+2368359562&4294967295,C=M+(N<<20&4294967295|N>>>12),N=R+(C^M^P)+D[5]+4294588738&4294967295,R=C+(N<<4&4294967295|N>>>28),N=P+(R^C^M)+D[8]+2272392833&4294967295,P=R+(N<<11&4294967295|N>>>21),N=M+(P^R^C)+D[11]+1839030562&4294967295,M=P+(N<<16&4294967295|N>>>16),N=C+(M^P^R)+D[14]+4259657740&4294967295,C=M+(N<<23&4294967295|N>>>9),N=R+(C^M^P)+D[1]+2763975236&4294967295,R=C+(N<<4&4294967295|N>>>28),N=P+(R^C^M)+D[4]+1272893353&4294967295,P=R+(N<<11&4294967295|N>>>21),N=M+(P^R^C)+D[7]+4139469664&4294967295,M=P+(N<<16&4294967295|N>>>16),N=C+(M^P^R)+D[10]+3200236656&4294967295,C=M+(N<<23&4294967295|N>>>9),N=R+(C^M^P)+D[13]+681279174&4294967295,R=C+(N<<4&4294967295|N>>>28),N=P+(R^C^M)+D[0]+3936430074&4294967295,P=R+(N<<11&4294967295|N>>>21),N=M+(P^R^C)+D[3]+3572445317&4294967295,M=P+(N<<16&4294967295|N>>>16),N=C+(M^P^R)+D[6]+76029189&4294967295,C=M+(N<<23&4294967295|N>>>9),N=R+(C^M^P)+D[9]+3654602809&4294967295,R=C+(N<<4&4294967295|N>>>28),N=P+(R^C^M)+D[12]+3873151461&4294967295,P=R+(N<<11&4294967295|N>>>21),N=M+(P^R^C)+D[15]+530742520&4294967295,M=P+(N<<16&4294967295|N>>>16),N=C+(M^P^R)+D[2]+3299628645&4294967295,C=M+(N<<23&4294967295|N>>>9),N=R+(M^(C|~P))+D[0]+4096336452&4294967295,R=C+(N<<6&4294967295|N>>>26),N=P+(C^(R|~M))+D[7]+1126891415&4294967295,P=R+(N<<10&4294967295|N>>>22),N=M+(R^(P|~C))+D[14]+2878612391&4294967295,M=P+(N<<15&4294967295|N>>>17),N=C+(P^(M|~R))+D[5]+4237533241&4294967295,C=M+(N<<21&4294967295|N>>>11),N=R+(M^(C|~P))+D[12]+1700485571&4294967295,R=C+(N<<6&4294967295|N>>>26),N=P+(C^(R|~M))+D[3]+2399980690&4294967295,P=R+(N<<10&4294967295|N>>>22),N=M+(R^(P|~C))+D[10]+4293915773&4294967295,M=P+(N<<15&4294967295|N>>>17),N=C+(P^(M|~R))+D[1]+2240044497&4294967295,C=M+(N<<21&4294967295|N>>>11),N=R+(M^(C|~P))+D[8]+1873313359&4294967295,R=C+(N<<6&4294967295|N>>>26),N=P+(C^(R|~M))+D[15]+4264355552&4294967295,P=R+(N<<10&4294967295|N>>>22),N=M+(R^(P|~C))+D[6]+2734768916&4294967295,M=P+(N<<15&4294967295|N>>>17),N=C+(P^(M|~R))+D[13]+1309151649&4294967295,C=M+(N<<21&4294967295|N>>>11),N=R+(M^(C|~P))+D[4]+4149444226&4294967295,R=C+(N<<6&4294967295|N>>>26),N=P+(C^(R|~M))+D[11]+3174756917&4294967295,P=R+(N<<10&4294967295|N>>>22),N=M+(R^(P|~C))+D[2]+718787259&4294967295,M=P+(N<<15&4294967295|N>>>17),N=C+(P^(M|~R))+D[9]+3951481745&4294967295,b.g[0]=b.g[0]+R&4294967295,b.g[1]=b.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,b.g[2]=b.g[2]+M&4294967295,b.g[3]=b.g[3]+P&4294967295}s.prototype.v=function(b,R){R===void 0&&(R=b.length);const C=R-this.blockSize,D=this.C;let M=this.h,P=0;for(;P<R;){if(M==0)for(;P<=C;)o(this,b,P),P+=this.blockSize;if(typeof b=="string"){for(;P<R;)if(D[M++]=b.charCodeAt(P++),M==this.blockSize){o(this,D),M=0;break}}else for(;P<R;)if(D[M++]=b[P++],M==this.blockSize){o(this,D),M=0;break}}this.h=M,this.o+=R},s.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var R=1;R<b.length-8;++R)b[R]=0;R=this.o*8;for(var C=b.length-8;C<b.length;++C)b[C]=R&255,R/=256;for(this.v(b),b=Array(16),R=0,C=0;C<4;++C)for(let D=0;D<32;D+=8)b[R++]=this.g[C]>>>D&255;return b};function u(b,R){var C=m;return Object.prototype.hasOwnProperty.call(C,b)?C[b]:C[b]=R(b)}function f(b,R){this.h=R;const C=[];let D=!0;for(let M=b.length-1;M>=0;M--){const P=b[M]|0;D&&P==R||(C[M]=P,D=!1)}this.g=C}var m={};function p(b){return-128<=b&&b<128?u(b,function(R){return new f([R|0],R<0?-1:0)}):new f([b|0],b<0?-1:0)}function g(b){if(isNaN(b)||!isFinite(b))return T;if(b<0)return H(g(-b));const R=[];let C=1;for(let D=0;b>=C;D++)R[D]=b/C|0,C*=4294967296;return new f(R,0)}function E(b,R){if(b.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(b.charAt(0)=="-")return H(E(b.substring(1),R));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(R,8));let D=T;for(let P=0;P<b.length;P+=8){var M=Math.min(8,b.length-P);const N=parseInt(b.substring(P,P+M),R);M<8?(M=g(Math.pow(R,M)),D=D.j(M).add(g(N))):(D=D.j(C),D=D.add(g(N)))}return D}var T=p(0),w=p(1),L=p(16777216);r=f.prototype,r.m=function(){if(X(this))return-H(this).m();let b=0,R=1;for(let C=0;C<this.g.length;C++){const D=this.i(C);b+=(D>=0?D:4294967296+D)*R,R*=4294967296}return b},r.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(Q(this))return"0";if(X(this))return"-"+H(this).toString(b);const R=g(Math.pow(b,6));var C=this;let D="";for(;;){const M=_t(C,R).g;C=it(C,M.j(R));let P=((C.g.length>0?C.g[0]:C.h)>>>0).toString(b);if(C=M,Q(C))return P+D;for(;P.length<6;)P="0"+P;D=P+D}},r.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function Q(b){if(b.h!=0)return!1;for(let R=0;R<b.g.length;R++)if(b.g[R]!=0)return!1;return!0}function X(b){return b.h==-1}r.l=function(b){return b=it(this,b),X(b)?-1:Q(b)?0:1};function H(b){const R=b.g.length,C=[];for(let D=0;D<R;D++)C[D]=~b.g[D];return new f(C,~b.h).add(w)}r.abs=function(){return X(this)?H(this):this},r.add=function(b){const R=Math.max(this.g.length,b.g.length),C=[];let D=0;for(let M=0;M<=R;M++){let P=D+(this.i(M)&65535)+(b.i(M)&65535),N=(P>>>16)+(this.i(M)>>>16)+(b.i(M)>>>16);D=N>>>16,P&=65535,N&=65535,C[M]=N<<16|P}return new f(C,C[C.length-1]&-2147483648?-1:0)};function it(b,R){return b.add(H(R))}r.j=function(b){if(Q(this)||Q(b))return T;if(X(this))return X(b)?H(this).j(H(b)):H(H(this).j(b));if(X(b))return H(this.j(H(b)));if(this.l(L)<0&&b.l(L)<0)return g(this.m()*b.m());const R=this.g.length+b.g.length,C=[];for(var D=0;D<2*R;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(let M=0;M<b.g.length;M++){const P=this.i(D)>>>16,N=this.i(D)&65535,Ot=b.i(M)>>>16,le=b.i(M)&65535;C[2*D+2*M]+=N*le,st(C,2*D+2*M),C[2*D+2*M+1]+=P*le,st(C,2*D+2*M+1),C[2*D+2*M+1]+=N*Ot,st(C,2*D+2*M+1),C[2*D+2*M+2]+=P*Ot,st(C,2*D+2*M+2)}for(b=0;b<R;b++)C[b]=C[2*b+1]<<16|C[2*b];for(b=R;b<2*R;b++)C[b]=0;return new f(C,0)};function st(b,R){for(;(b[R]&65535)!=b[R];)b[R+1]+=b[R]>>>16,b[R]&=65535,R++}function rt(b,R){this.g=b,this.h=R}function _t(b,R){if(Q(R))throw Error("division by zero");if(Q(b))return new rt(T,T);if(X(b))return R=_t(H(b),R),new rt(H(R.g),H(R.h));if(X(R))return R=_t(b,H(R)),new rt(H(R.g),R.h);if(b.g.length>30){if(X(b)||X(R))throw Error("slowDivide_ only works with positive integers.");for(var C=w,D=R;D.l(b)<=0;)C=wt(C),D=wt(D);var M=bt(C,1),P=bt(D,1);for(D=bt(D,2),C=bt(C,2);!Q(D);){var N=P.add(D);N.l(b)<=0&&(M=M.add(C),P=N),D=bt(D,1),C=bt(C,1)}return R=it(b,M.j(R)),new rt(M,R)}for(M=T;b.l(R)>=0;){for(C=Math.max(1,Math.floor(b.m()/R.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),P=g(C),N=P.j(R);X(N)||N.l(b)>0;)C-=D,P=g(C),N=P.j(R);Q(P)&&(P=w),M=M.add(P),b=it(b,N)}return new rt(M,b)}r.B=function(b){return _t(this,b).h},r.and=function(b){const R=Math.max(this.g.length,b.g.length),C=[];for(let D=0;D<R;D++)C[D]=this.i(D)&b.i(D);return new f(C,this.h&b.h)},r.or=function(b){const R=Math.max(this.g.length,b.g.length),C=[];for(let D=0;D<R;D++)C[D]=this.i(D)|b.i(D);return new f(C,this.h|b.h)},r.xor=function(b){const R=Math.max(this.g.length,b.g.length),C=[];for(let D=0;D<R;D++)C[D]=this.i(D)^b.i(D);return new f(C,this.h^b.h)};function wt(b){const R=b.g.length+1,C=[];for(let D=0;D<R;D++)C[D]=b.i(D)<<1|b.i(D-1)>>>31;return new f(C,b.h)}function bt(b,R){const C=R>>5;R%=32;const D=b.g.length-C,M=[];for(let P=0;P<D;P++)M[P]=R>0?b.i(P+C)>>>R|b.i(P+C+1)<<32-R:b.i(P+C);return new f(M,b.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,l0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,ss=f}).apply(typeof hE<"u"?hE:typeof self<"u"?self:typeof window<"u"?window:{});var Wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var u0,kl,c0,lh,Qm,h0,f0,d0;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wc=="object"&&Wc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)t:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var k=c[A];if(!(k in v))break t;v=v[k]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&t(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&v.push([A,y[A]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,k,F){for(var at=Array(arguments.length-2),It=2;It<arguments.length;It++)at[It-2]=arguments[It];return y.prototype[k].apply(A,at)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function L(c){const y=c.length;if(y>0){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function Q(c,y){for(let A=1;A<arguments.length;A++){const k=arguments[A];var v=typeof k;if(v=v!="object"?v:k?Array.isArray(k)?"array":v:"null",v=="array"||v=="object"&&typeof k.length=="number"){v=c.length||0;const F=k.length||0;c.length=v+F;for(let at=0;at<F;at++)c[v+at]=k[at]}else c.push(k)}}class X{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function H(c){f.setTimeout(()=>{throw c},0)}function it(){var c=b;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class st{constructor(){this.h=this.g=null}add(y,v){const A=rt.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var rt=new X(()=>new _t,c=>c.reset());class _t{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let wt,bt=!1,b=new st,R=()=>{const c=Promise.resolve(void 0);wt=()=>{c.then(C)}};function C(){for(var c;c=it();){try{c.h.call(c.g)}catch(v){H(v)}var y=rt;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}bt=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,y),f.removeEventListener("test",v,y)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function Ot(c,y){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(Ot,M),Ot.prototype.init=function(c,y){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ot.Z.h.call(this)},Ot.prototype.h=function(){Ot.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var le="closure_listenable_"+(Math.random()*1e6|0),Y=0;function ot(c,y,v,A,k){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=k,this.key=++Y,this.da=this.fa=!1}function gt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pt(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function Qt(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function x(c){const y={};for(const v in c)y[v]=c[v];return y}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(c,y){let v,A;for(let k=1;k<arguments.length;k++){A=arguments[k];for(v in A)c[v]=A[v];for(let F=0;F<W.length;F++)v=W[F],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function q(c){this.src=c,this.g={},this.h=0}q.prototype.add=function(c,y,v,A,k){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const at=ct(c,y,A,k);return at>-1?(y=c[at],v||(y.fa=!1)):(y=new ot(y,this.src,F,!!A,k),y.fa=v,c.push(y)),y};function tt(c,y){const v=y.type;if(v in c.g){var A=c.g[v],k=Array.prototype.indexOf.call(A,y,void 0),F;(F=k>=0)&&Array.prototype.splice.call(A,k,1),F&&(gt(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ct(c,y,v,A){for(let k=0;k<c.length;++k){const F=c[k];if(!F.da&&F.listener==y&&F.capture==!!v&&F.ha==A)return k}return-1}var ht="closure_lm_"+(Math.random()*1e6|0),Ct={};function Mt(c,y,v,A,k){if(Array.isArray(y)){for(let F=0;F<y.length;F++)Mt(c,y[F],v,A,k);return null}return v=Do(v),c&&c[le]?c.J(y,v,m(A)?!!A.capture:!1,k):$t(c,y,v,!1,A,k)}function $t(c,y,v,A,k,F){if(!y)throw Error("Invalid event type");const at=m(k)?!!k.capture:!!k;let It=Es(c);if(It||(c[ht]=It=new q(c)),v=It.add(y,v,A,at,F),v.proxy)return v;if(A=dr(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)P||(k=at),k===void 0&&(k=!1),c.addEventListener(y.toString(),A,k);else if(c.attachEvent)c.attachEvent(li(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function dr(){function c(v){return y.call(c.src,c.listener,v)}const y=Io;return c}function mr(c,y,v,A,k){if(Array.isArray(y))for(var F=0;F<y.length;F++)mr(c,y[F],v,A,k);else A=m(A)?!!A.capture:!!A,v=Do(v),c&&c[le]?(c=c.i,F=String(y).toString(),F in c.g&&(y=c.g[F],v=ct(y,v,A,k),v>-1&&(gt(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[F],c.h--)))):c&&(c=Es(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ct(y,v,A,k)),(v=c>-1?y[c]:null)&&la(v))}function la(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[le])tt(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(li(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=Es(y))?(tt(v,c),v.h==0&&(v.src=null,y[ht]=null)):gt(c)}}}function li(c){return c in Ct?Ct[c]:Ct[c]="on"+c}function Io(c,y){if(c.da)c=!0;else{y=new Ot(y,this);const v=c.listener,A=c.ha||c.src;c.fa&&la(c),c=v.call(A,y)}return c}function Es(c){return c=c[ht],c instanceof q?c:null}var No="__closure_events_fn_"+(Math.random()*1e9>>>0);function Do(c){return typeof c=="function"?c:(c[No]||(c[No]=function(y){return c.handleEvent(y)}),c[No])}function Te(){D.call(this),this.i=new q(this),this.M=this,this.G=null}T(Te,D),Te.prototype[le]=!0,Te.prototype.removeEventListener=function(c,y,v,A){mr(this,c,y,v,A)};function Ve(c,y){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new M(y,c);else if(y instanceof M)y.target=y.target||c;else{var k=y;y=new M(A,c),lt(y,k)}k=!0;let F,at;if(v)for(at=v.length-1;at>=0;at--)F=y.g=v[at],k=pr(F,A,!0,y)&&k;if(F=y.g=c,k=pr(F,A,!0,y)&&k,k=pr(F,A,!1,y)&&k,v)for(at=0;at<v.length;at++)F=y.g=v[at],k=pr(F,A,!1,y)&&k}Te.prototype.N=function(){if(Te.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let A=0;A<v.length;A++)gt(v[A]);delete c.g[y],c.h--}}this.G=null},Te.prototype.J=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},Te.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function pr(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let k=!0;for(let F=0;F<y.length;++F){const at=y[F];if(at&&!at.da&&at.capture==v){const It=at.listener,ye=at.ha||at.src;at.fa&&tt(c.i,at),k=It.call(ye,A)!==!1&&k}}return k&&!A.defaultPrevented}function mf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function Su(c){c.g=mf(()=>{c.g=null,c.i&&(c.i=!1,Su(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class nn extends D{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Su(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ts(c){D.call(this),this.h=c,this.g={}}T(Ts,D);var Oo=[];function Mo(c){Pt(c.g,function(y,v){this.g.hasOwnProperty(v)&&la(y)},c),c.g={}}Ts.prototype.N=function(){Ts.Z.N.call(this),Mo(this)},Ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gr=f.JSON.stringify,pf=f.JSON.parse,Au=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function bu(){}function wu(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){M.call(this,"d")}T(qe,M);function Dn(){M.call(this,"c")}T(Dn,M);var ge={},Ru=null;function ua(){return Ru=Ru||new Te}ge.Ia="serverreachability";function Cu(c){M.call(this,ge.Ia,c)}T(Cu,M);function ui(c){const y=ua();Ve(y,new Cu(y))}ge.STAT_EVENT="statevent";function Ss(c,y){M.call(this,ge.STAT_EVENT,c),this.stat=y}T(Ss,M);function Se(c){const y=ua();Ve(y,new Ss(y,c))}ge.Ja="timingevent";function ci(c,y){M.call(this,ge.Ja,c),this.size=y}T(ci,M);function hi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function gf(c,y,v,A,k,F){c.info(function(){if(c.g)if(F){var at="",It=F.split("&");for(let Kt=0;Kt<It.length;Kt++){var ye=It[Kt].split("=");if(ye.length>1){const ue=ye[0];ye=ye[1];const xn=ue.split("_");at=xn.length>=2&&xn[1]=="type"?at+(ue+"="+ye+"&"):at+(ue+"=redacted&")}}}else at=null;else at=F;return"XMLHTTP REQ ("+A+") [attempt "+k+"]: "+y+`
`+v+`
`+at})}function Iu(c,y,v,A,k,F,at){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+k+"]: "+y+`
`+v+`
`+F+" "+at})}function fi(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+yf(c,v)+(A?" "+A:"")})}function As(c,y){c.info(function(){return"TIMEOUT: "+y})}Gn.prototype.info=function(){};function yf(c,y){if(!c.g)return y;if(!y)return null;try{const F=JSON.parse(y);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var v=F[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var k=A[0];if(k!="noop"&&k!="stop"&&k!="close")for(let at=1;at<A.length;at++)A[at]=""}}}}return gr(F)}catch{return y}}var bs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xo;function ws(){}T(ws,bu),ws.prototype.g=function(){return new XMLHttpRequest},xo=new ws;function ki(c){return encodeURIComponent(String(c))}function Nu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Qn(c,y,v,A){this.j=c,this.i=y,this.l=v,this.S=A||1,this.V=new Ts(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var Ae={},Le={};function di(c,y,v){c.M=1,c.A=Rs(we(y)),c.u=v,c.R=!0,ca(c,null)}function ca(c,y){c.F=Date.now(),mi(c),c.B=we(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ma(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Kn,c.g=Fu(c.j,v?y:null,!c.u),c.P>0&&(c.O=new nn(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,A=c.ba;var k="readystatechange";Array.isArray(k)||(k&&(Oo[0]=k.toString()),k=Oo);for(let F=0;F<k.length;F++){const at=Mt(v,k[F],A||y.handleEvent,!1,y.h||y);if(!at)break;y.g[at.key]=at}y=c.J?x(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ui(),gf(c.i,c.v,c.B,c.l,c.S,c.u)}Qn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Xn(c)==3?y.j():this.Y(c)},Qn.prototype.Y=function(c){try{if(c==this.g)t:{const It=Xn(this.g),ye=this.g.ya(),Kt=this.g.ca();if(!(It<3)&&(It!=3||this.g&&(this.h.h||this.g.la()||He(this.g)))){this.K||It!=4||ye==7||(ye==8||Kt<=0?ui(3):ui(2)),pi(this);var y=this.g.ca();this.X=y;var v=_f(this);if(this.o=y==200,Iu(this.i,this.v,this.B,this.l,this.S,It,y),this.o){if(this.U&&!this.L){e:{if(this.g){var A,k=this.g;if((A=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var F=A;break e}}F=null}if(c=F)fi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,c);else{this.o=!1,this.m=3,Se(12),_n(this),On(this);break t}}if(this.R){c=!0;let ue;for(;!this.K&&this.C<v.length;)if(ue=Ou(this,v),ue==Le){It==4&&(this.m=4,Se(14),c=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(ue==Ae){this.m=4,Se(15),fi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else fi(this.i,this.l,ue,null),gi(this,ue);if(Du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||v.length!=0||this.h.h||(this.m=1,Se(16),c=!1),this.o=this.o&&c,!c)fi(this.i,this.l,v,"[Invalid Chunked Response]"),_n(this),On(this);else if(v.length>0&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.aa&&!at.P&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),$o(at),at.P=!0,Se(11))}}else fi(this.i,this.l,v,null),gi(this,v);It==4&&_n(this),this.o&&!this.K&&(It==4?ju(this.j,this):(this.o=!1,mi(this)))}else ji(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,Se(12)):(this.m=0,Se(13)),_n(this),On(this)}}}catch{}finally{}};function _f(c){if(!Du(c))return c.g.la();const y=He(c.g);if(y==="")return"";let v="";const A=y.length,k=Xn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return _n(c),On(c),"";c.h.i=new f.TextDecoder}for(let F=0;F<A;F++)c.h.h=!0,v+=c.h.i.decode(y[F],{stream:!(k&&F==A-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Du(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Ou(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?Le:(v=Number(y.substring(v,A)),isNaN(v)?Ae:(A+=1,A+v>y.length?Le:(y=y.slice(A,A+v),c.C=A+v,y)))}Qn.prototype.cancel=function(){this.K=!0,_n(this)};function mi(c){c.T=Date.now()+c.H,ha(c,c.H)}function ha(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=hi(g(c.aa,c),y)}function pi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(As(this.i,this.B),this.M!=2&&(ui(),Se(17)),_n(this),this.m=2,On(this)):ha(this,this.T-c)};function On(c){c.j.I==0||c.K||ju(c.j,c)}function _n(c){pi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Mo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function gi(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||_i(v.h,c))){if(!c.L&&_i(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var k=A;if(k[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)va(v),br(v);else break t;Vs(v),Se(18)}}else v.xa=k[1],0<v.xa-v.K&&k[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=hi(g(v.Va,v),6e3));yi(v.h)<=1&&v.ta&&(v.ta=void 0)}else bi(v,11)}else if((c.L||v.g==c)&&va(v),!N(y))for(k=v.Ba.g.parse(y),y=0;y<k.length;y++){let Kt=k[y];const ue=Kt[0];if(!(ue<=v.K))if(v.K=ue,Kt=Kt[1],v.I==2)if(Kt[0]=="c"){v.M=Kt[1],v.ba=Kt[2];const xn=Kt[3];xn!=null&&(v.ka=xn,v.j.info("VER="+v.ka));const wi=Kt[4];wi!=null&&(v.za=wi,v.j.info("SVER="+v.za));const Jn=Kt[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(A=1.5*Jn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Zn=c.g;if(Zn){const xs=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xs){var F=A.h;F.g||xs.indexOf("spdy")==-1&&xs.indexOf("quic")==-1&&xs.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Uo(F,F.h),F.h=null))}if(A.G){const Ea=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(A.wa=Ea,Xt(A.J,A.G,Ea))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var at=c;if(A.na=Hu(A,A.L?A.ba:null,A.W),at.L){ko(A.h,at);var It=at,ye=A.O;ye&&(It.H=ye),It.D&&(pi(It),mi(It)),A.g=at}else ku(A);v.i.length>0&&Ai(v)}else Kt[0]!="stop"&&Kt[0]!="close"||bi(v,7);else v.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?bi(v,7):Ko(v):Kt[0]!="noop"&&v.l&&v.l.qa(Kt),v.A=0)}}ui(4)}catch{}}var be=class{constructor(c,y){this.g=c,this.map=y}};function Po(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Lo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function yi(c){return c.h?1:c.g?c.g.size:0}function _i(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Uo(c,y){c.g?c.g.add(y):c.h=y}function ko(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Po.prototype.cancel=function(){if(this.i=zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function zo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return L(c.i)}var Mu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let k,F=null;A>=0?(k=c[v].substring(0,A),F=c[v].substring(A+1)):k=c[v],y(k,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function vn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof vn?(this.l=c.l,Ue(this,c.j),this.o=c.o,this.g=c.g,yr(this,c.u),this.h=c.h,jo(this,Lu(c.i)),this.m=c.m):c&&(y=String(c).match(Mu))?(this.l=!1,Ue(this,y[1]||"",!0),this.o=vi(y[2]||""),this.g=vi(y[3]||"",!0),yr(this,y[4]),this.h=vi(y[5]||"",!0),jo(this,y[6]||"",!0),this.m=vi(y[7]||"")):(this.l=!1,this.i=new vr(null,this.l))}vn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Cs(y,da,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Cs(y,da,!0),"@"),c.push(ki(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Cs(v,v.charAt(0)=="/"?Bo:Vu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Cs(v,xu)),c.join("")},vn.prototype.resolve=function(c){const y=we(this);let v=!!c.j;v?Ue(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var A=c.h;if(v)yr(y,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var k=y.h.lastIndexOf("/");k!=-1&&(A=y.h.slice(0,k+1)+A)}if(k=A,k==".."||k==".")A="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){A=k.lastIndexOf("/",0)==0,k=k.split("/");const F=[];for(let at=0;at<k.length;){const It=k[at++];It=="."?A&&at==k.length&&F.push(""):It==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),A&&at==k.length&&F.push("")):(F.push(It),A=!0)}A=F.join("/")}else A=k}return v?y.h=A:v=c.i.toString()!=="",v?jo(y,Lu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function we(c){return new vn(c)}function Ue(c,y,v){c.j=v?vi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function yr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function jo(c,y,v){y instanceof vr?(c.i=y,pa(c.i,c.l)):(v||(y=Cs(y,_r)),c.i=new vr(y,c.l))}function Xt(c,y,v){c.i.set(y,v)}function Rs(c){return Xt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function vi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Cs(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,cn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function cn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var da=/[#\/\?@]/g,Vu=/[#\?:]/g,Bo=/[#\?]/g,_r=/[#\?@]/g,xu=/#/g;function vr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function hn(c){c.g||(c.g=new Map,c.h=0,c.i&&fa(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=vr.prototype,r.add=function(c,y){hn(this),this.i=null,c=Er(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Pu(c,y){hn(c),y=Er(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function qo(c,y){return hn(c),y=Er(c,y),c.g.has(y)}r.forEach=function(c,y){hn(this),this.g.forEach(function(v,A){v.forEach(function(k){c.call(y,k,A,this)},this)},this)};function Ho(c,y){hn(c);let v=[];if(typeof y=="string")qo(c,y)&&(v=v.concat(c.g.get(Er(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return hn(this),this.i=null,c=Er(this,c),qo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Ho(this,c),c.length>0?String(c[0]):y):y};function ma(c,y,v){Pu(c,y),v.length>0&&(c.i=null,c.g.set(Er(c,y),L(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var v=y[A];const k=ki(v);v=Ho(this,v);for(let F=0;F<v.length;F++){let at=k;v[F]!==""&&(at+="="+ki(v[F])),c.push(at)}}return this.i=c.join("&")};function Lu(c){const y=new vr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Er(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function pa(c,y){y&&!c.j&&(hn(c),c.i=null,c.g.forEach(function(v,A){const k=A.toLowerCase();A!=k&&(Pu(this,A),ma(this,k,v))},c)),c.j=y}function Yn(c,y){const v=new Gn;if(f.Image){const A=new Image;A.onload=E(Mn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=E(Mn,v,"TestLoadImage: error",!1,y,A),A.onabort=E(Mn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=E(Mn,v,"TestLoadImage: timeout",!1,y,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Fo(c,y){const v=new Gn,A=new AbortController,k=setTimeout(()=>{A.abort(),Mn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(F=>{clearTimeout(k),F.ok?Mn(v,"TestPingServer: ok",!0,y):Mn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(k),Mn(v,"TestPingServer: error",!1,y)})}function Mn(c,y,v,A,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),A(v)}catch{}}function Tr(){this.g=new Au}function Ei(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Ei,bu),Ei.prototype.g=function(){return new Is(this.i,this.h)};function Is(c,y){Te.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Is,Te),r=Is.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,$n(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Sr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ga(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ga(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Sr(this):$n(this),this.readyState==3&&ga(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Sr(this))},r.Na=function(c){this.g&&(this.response=c,Sr(this))},r.ga=function(){this.g&&Sr(this)};function Sr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,$n(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function $n(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Is.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Vn(c){let y="";return Pt(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Ns(c,y,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Vn(v),typeof c=="string"?v!=null&&ki(v):Xt(c,y,v))}function Wt(c){Te.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Wt,Te);var Ti=/^https?$/i,Go=["POST","PUT"];r=Wt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xo.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(F){Ds(this,F);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var k in A)v.set(k,A[k]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())v.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),k=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Go,y,void 0)>=0)||A||k||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,at]of v)this.g.setRequestHeader(F,at);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){Ds(this,F)}};function Ds(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Qo(c),zi(c)}function Qo(c){c.A||(c.A=!0,Ve(c,"complete"),Ve(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ve(this,"complete"),Ve(this,"abort"),zi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),Wt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Os(this):this.Xa())},r.Xa=function(){Os(this)};function Os(c){if(c.h&&typeof u<"u"){if(c.v&&Xn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ve(c,"readystatechange"),Xn(c)==4){c.h=!1;try{const F=c.ca();t:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var v;if(!(v=y)){var A;if(A=F===0){let at=String(c.D).match(Mu)[1]||null;!at&&f.self&&f.self.location&&(at=f.self.location.protocol.slice(0,-1)),A=!Ti.test(at?at.toLowerCase():"")}v=A}if(v)Ve(c,"complete"),Ve(c,"success");else{c.o=6;try{var k=Xn(c)>2?c.g.statusText:""}catch{k=""}c.l=k+" ["+c.ca()+"]",Qo(c)}}finally{zi(c)}}}}function zi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Ve(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Xn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),pf(y)}};function He(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(c){const y={};c=(c.g&&Xn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(N(c[A]))continue;var v=Nu(c[A]);const k=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=y[k]||[];y[k]=F,F.push(v)}Qt(y,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ar(c){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,c),this.Za=Si("retryDelaySeedMs",1e4,c),this.Ta=Si("forwardChannelMaxRetries",2,c),this.va=Si("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Po(c&&c.concurrentRequestLimit),this.Ba=new Tr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ar.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,A){Se(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Hu(this,null,this.W),Ai(this)};function Ko(c){if(ya(c),c.I==3){var y=c.V++,v=we(c.J);if(Xt(v,"SID",c.M),Xt(v,"RID",y),Xt(v,"TYPE","terminate"),Ms(c,v),y=new Qn(c,c.j,y),y.M=2,y.A=Rs(we(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=y.A,v=!0),v||(y.g=Fu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),mi(y)}qu(c)}function br(c){c.g&&($o(c),c.g.cancel(),c.g=null)}function ya(c){br(c),c.v&&(f.clearTimeout(c.v),c.v=null),va(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ai(c){if(!Lo(c.h)&&!c.m){c.m=!0;var y=c.Ea;wt||R(),bt||(wt(),bt=!0),b.add(y,c),c.D=0}}function _a(c,y){return yi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=hi(g(c.Ea,c,y),Bu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const k=new Qn(this,this.j,c);let F=this.o;if(this.U&&(F?(F=x(F),lt(F,this.U)):F=this.U),this.u!==null||this.R||(k.J=F,F=null),this.S)t:{for(var y=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=v;break t}if(y===4096||v===this.i.length-1){y=v+1;break t}}y=1e3}else y=1e3;y=Uu(this,k,y),v=we(this.J),Xt(v,"RID",c),Xt(v,"CVER",22),this.G&&Xt(v,"X-HTTP-Session-Id",this.G),Ms(this,v),F&&(this.R?y="headers="+ki(Vn(F))+"&"+y:this.u&&Ns(v,this.u,F)),Uo(this.h,k),this.Ra&&Xt(v,"TYPE","init"),this.S?(Xt(v,"$req",y),Xt(v,"SID","null"),k.U=!0,di(k,v,null)):di(k,v,y),this.I=2}}else this.I==3&&(c?Yo(this,c):this.i.length==0||Lo(this.h)||Yo(this))};function Yo(c,y){var v;y?v=y.l:v=c.V++;const A=we(c.J);Xt(A,"SID",c.M),Xt(A,"RID",v),Xt(A,"AID",c.K),Ms(c,A),c.u&&c.o&&Ns(A,c.u,c.o),v=new Qn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Uu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Uo(c.h,v),di(v,A,y)}function Ms(c,y){c.H&&Pt(c.H,function(v,A){Xt(y,A,v)}),c.l&&Pt({},function(v,A){Xt(y,A,v)})}function Uu(c,y,v){v=Math.min(c.i.length,v);const A=c.l?g(c.l.Ka,c.l,c):null;t:{var k=c.i;let It=-1;for(;;){const ye=["count="+v];It==-1?v>0?(It=k[0].g,ye.push("ofs="+It)):It=0:ye.push("ofs="+It);let Kt=!0;for(let ue=0;ue<v;ue++){var F=k[ue].g;const xn=k[ue].map;if(F-=It,F<0)It=Math.max(0,k[ue].g-100),Kt=!1;else try{F="req"+F+"_"||"";try{var at=xn instanceof Map?xn:Object.entries(xn);for(const[wi,Jn]of at){let Zn=Jn;m(Jn)&&(Zn=gr(Jn)),ye.push(F+wi+"="+encodeURIComponent(Zn))}}catch(wi){throw ye.push(F+"type="+encodeURIComponent("_badmap")),wi}}catch{A&&A(xn)}}if(Kt){at=ye.join("&");break t}}at=void 0}return c=c.i.splice(0,v),y.G=c,at}function ku(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;wt||R(),bt||(wt(),bt=!0),b.add(y,c),c.A=0}}function Vs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=hi(g(c.Da,c),Bu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,zu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=hi(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Se(10),br(this),zu(this))};function $o(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function zu(c){c.g=new Qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=we(c.na);Xt(y,"RID","rpc"),Xt(y,"SID",c.M),Xt(y,"AID",c.K),Xt(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Xt(y,"TO",c.ia),Xt(y,"TYPE","xmlhttp"),Ms(c,y),c.u&&c.o&&Ns(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Rs(we(y)),v.u=null,v.R=!0,ca(v,c)}r.Va=function(){this.C!=null&&(this.C=null,br(this),Vs(this),Se(19))};function va(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function ju(c,y){var v=null;if(c.g==y){va(c),$o(c),c.g=null;var A=2}else if(_i(c.h,y))v=y.G,ko(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var k=c.D;A=ua(),Ve(A,new ci(A,v)),Ai(c)}else ku(c);else if(k=y.m,k==3||k==0&&y.X>0||!(A==1&&_a(c,y)||A==2&&Vs(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),k){case 1:bi(c,5);break;case 4:bi(c,10);break;case 3:bi(c,6);break;default:bi(c,2)}}}function Bu(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function bi(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),A=c.Ua;const k=!A;A=new vn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ue(A,"https"),Rs(A),k?Yn(A.toString(),v):Fo(A.toString(),v)}else Se(2);c.I=0,c.l&&c.l.pa(y),qu(c),ya(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))};function qu(c){if(c.I=0,c.ja=[],c.l){const y=zo(c.h);(y.length!=0||c.i.length!=0)&&(Q(c.ja,y),Q(c.ja,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.oa()}}function Hu(c,y,v){var A=v instanceof vn?we(v):new vn(v);if(A.g!="")y&&(A.g=y+"."+A.g),yr(A,A.u);else{var k=f.location;A=k.protocol,y=y?y+"."+k.hostname:k.hostname,k=+k.port;const F=new vn(null);A&&Ue(F,A),y&&(F.g=y),k&&yr(F,k),v&&(F.h=v),A=F}return v=c.G,y=c.wa,v&&y&&Xt(A,v,y),Xt(A,"VER",c.ka),Ms(c,A),A}function Fu(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Wt(new Ei({ab:v})):new Wt(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gu(){}r=Gu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function wr(){}wr.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){Te.call(this),this.g=new Ar(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!N(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Bi(this)}T(rn,Te),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Ko(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=gr(c),c=v);y.i.push(new be(y.Ya++,c)),y.I==3&&Ai(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,rn.Z.N.call(this)};function Qu(c){qe.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const v in y){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(Qu,qe);function Ku(){Dn.call(this),this.status=1}T(Ku,Dn);function Bi(c){this.g=c}T(Bi,Gu),Bi.prototype.ra=function(){Ve(this.g,"a")},Bi.prototype.qa=function(c){Ve(this.g,new Qu(c))},Bi.prototype.pa=function(c){Ve(this.g,new Ku)},Bi.prototype.oa=function(){Ve(this.g,"b")},wr.prototype.createWebChannel=wr.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,d0=function(){return new wr},f0=function(){return ua()},h0=ge,Qm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},bs.NO_ERROR=0,bs.TIMEOUT=8,bs.HTTP_ERROR=6,lh=bs,Vo.COMPLETE="complete",c0=Vo,wu.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",Te.prototype.listen=Te.prototype.J,kl=wu,Wt.prototype.listenOnce=Wt.prototype.K,Wt.prototype.getLastError=Wt.prototype.Ha,Wt.prototype.getLastErrorCode=Wt.prototype.ya,Wt.prototype.getStatus=Wt.prototype.ca,Wt.prototype.getResponseJson=Wt.prototype.La,Wt.prototype.getResponseText=Wt.prototype.la,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Fa,u0=Wt}).apply(typeof Wc<"u"?Wc:typeof self<"u"?self:typeof window<"u"?window:{});const fE="@firebase/firestore",dE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ao="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new Ep("@firebase/firestore");function Za(){return na.logLevel}function ft(r,...t){if(na.logLevel<=kt.DEBUG){const n=t.map(Ap);na.debug(`Firestore (${Ao}): ${r}`,...n)}}function lr(r,...t){if(na.logLevel<=kt.ERROR){const n=t.map(Ap);na.error(`Firestore (${Ao}): ${r}`,...n)}}function ho(r,...t){if(na.logLevel<=kt.WARN){const n=t.map(Ap);na.warn(`Firestore (${Ao}): ${r}`,...n)}}function Ap(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,m0(r,s,n)}function m0(r,t,n){let s=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw lr(s),new Error(s)}function Ht(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||m0(t,o,s)}function At(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends fr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class RC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class CC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class IC{constructor(t){this.t=t,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ht(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Oi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Oi,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Oi)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new p0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new tn(t)}}class NC{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class DC{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new NC(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class mE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OC{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ni(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ht(this.o===void 0,3512);const s=u=>{u.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ft("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new mE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new mE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=MC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function zt(r,t){return r<t?-1:r>t?1:0}function Km(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return Rm(o)===Rm(u)?zt(o,u):Rm(o)?1:-1}return zt(r.length,t.length)}const VC=55296,xC=57343;function Rm(r){const t=r.charCodeAt(0);return t>=VC&&t<=xC}function fo(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="__name__";class Di{constructor(t,n,s){n===void 0?n=0:n>t.length&&vt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&vt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Di.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Di?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Di.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return zt(t.length,n.length)}static compareSegments(t,n){const s=Di.isNumericId(t),o=Di.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Di.extractNumericId(t).compare(Di.extractNumericId(n)):Km(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ss.fromString(t.substring(4,t.length-2))}}class ie extends Di{construct(t,n,s){return new ie(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ut(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ie(n)}static emptyPath(){return new ie([])}}const PC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends Di{construct(t,n,s){return new $e(t,n,s)}static isValidIdentifier(t){return PC.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pE}static keyField(){return new $e([pE])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ut(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ut(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ut(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ut(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $e(n)}static emptyPath(){return new $e([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.path=t}static fromPath(t){return new pt(ie.fromString(t))}static fromName(t){return new pt(ie.fromString(t).popFirst(5))}static empty(){return new pt(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ie.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new ie(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(r,t,n){if(!n)throw new ut(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function LC(r,t,n,s){if(t===!0&&s===!0)throw new ut(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function gE(r){if(!pt.isDocumentKey(r))throw new ut(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function yE(r){if(pt.isDocumentKey(r))throw new ut(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function y0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Qh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function Hn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ut(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qh(r);throw new ut(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(r,t){const n={typeString:r};return t&&(n.value=t),n}function cu(r,t){if(!y0(r))throw new ut(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ut(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=-62135596800,vE=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*vE);return new se(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<_E)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vE}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(cu(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-_E;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Me("string",se._jsonSchemaVersion),seconds:Me("number"),nanoseconds:Me("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new se(0,0))}static max(){return new Tt(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=-1;function UC(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(s===1e9?new se(n+1,0):new se(n,s));return new us(o,pt.empty(),t)}function kC(r){return new us(r.readTime,r.key,Zl)}class us{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new us(Tt.min(),pt.empty(),Zl)}static max(){return new us(Tt.max(),pt.empty(),Zl)}}function zC(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=pt.comparator(r.documentKey,t.documentKey),n!==0?n:zt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==jC)throw r;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new nt(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof nt?n:nt.resolve(n)}catch(n){return nt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):nt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):nt.reject(n)}static resolve(t){return new nt(((n,s)=>{n(t)}))}static reject(t){return new nt(((n,s)=>{s(t)}))}static waitFor(t){return new nt(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(t){let n=nt.resolve(!1);for(const s of t)n=n.next((o=>o?nt.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new nt(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next((E=>{f[g]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new nt(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function qC(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Kh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp=-1;function hu(r){return r==null}function Sh(r){return r===0&&1/r==-1/0}function HC(r){return typeof r=="number"&&Number.isInteger(r)&&!Sh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="";function FC(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=EE(t)),t=GC(r.get(n),t);return EE(t)}function GC(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case _0:n+="";break;default:n+=u}}return n}function EE(r){return r+_0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function _s(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function v0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t,n){this.comparator=t,this.root=n||Ye.EMPTY}insert(t,n){return new fe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new th(this.root,t,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new th(this.root,t,this.comparator,!0)}}class th{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ye{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Ye.RED,this.left=o??Ye.EMPTY,this.right=u??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Ye(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ye.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Ye(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new SE(this.data.getIterator())}getIteratorFrom(t){return new SE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Pe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Pe(this.comparator);return n.data=t,n}}class SE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(t){this.fields=t,t.sort($e.comparator)}static empty(){return new In([])}unionWith(t){let n=new Pe($e.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new In(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return fo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new E0("Invalid base64 string: "+u):u}})(t);return new Je(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Je(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const QC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(r){if(Ht(!!r,39018),typeof r=="string"){let t=0;const n=QC.exec(r);if(Ht(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ee(r.seconds),nanos:Ee(r.nanos)}}function Ee(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function hs(r){return typeof r=="string"?Je.fromBase64String(r):Je.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="server_timestamp",S0="__type__",A0="__previous_value__",b0="__local_write_time__";function Rp(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[S0])==null?void 0:s.stringValue)===T0}function Yh(r){const t=r.mapValue.fields[A0];return Rp(t)?Yh(t):t}function Wl(r){const t=cs(r.mapValue.fields[b0].timestampValue);return new se(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(t,n,s,o,u,f,m,p,g,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Ah="(default)";class tu{constructor(t,n){this.projectId=t,this.database=n||Ah}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===Ah}isEqual(t){return t instanceof tu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="__type__",YC="__max__",eh={mapValue:{}},R0="__vector__",bh="value";function fs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Rp(r)?4:XC(r)?9007199254740991:$C(r)?10:11:vt(28295,{value:r})}function Ui(r,t){if(r===t)return!0;const n=fs(r);if(n!==fs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Wl(r).isEqual(Wl(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=cs(o.timestampValue),m=cs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return hs(o.bytesValue).isEqual(hs(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return Ee(o.geoPointValue.latitude)===Ee(u.geoPointValue.latitude)&&Ee(o.geoPointValue.longitude)===Ee(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ee(o.integerValue)===Ee(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ee(o.doubleValue),m=Ee(u.doubleValue);return f===m?Sh(f)===Sh(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return fo(r.arrayValue.values||[],t.arrayValue.values||[],Ui);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(TE(f)!==TE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ui(f[p],m[p])))return!1;return!0})(r,t);default:return vt(52216,{left:r})}}function eu(r,t){return(r.values||[]).find((n=>Ui(n,t)))!==void 0}function mo(r,t){if(r===t)return 0;const n=fs(r),s=fs(t);if(n!==s)return zt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return zt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=Ee(u.integerValue||u.doubleValue),p=Ee(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,t);case 3:return AE(r.timestampValue,t.timestampValue);case 4:return AE(Wl(r),Wl(t));case 5:return Km(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=hs(u),p=hs(f);return m.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=zt(m[g],p[g]);if(E!==0)return E}return zt(m.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=zt(Ee(u.latitude),Ee(f.latitude));return m!==0?m:zt(Ee(u.longitude),Ee(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return bE(r.arrayValue,t.arrayValue);case 10:return(function(u,f){var w,L,Q,X;const m=u.fields||{},p=f.fields||{},g=(w=m[bh])==null?void 0:w.arrayValue,E=(L=p[bh])==null?void 0:L.arrayValue,T=zt(((Q=g==null?void 0:g.values)==null?void 0:Q.length)||0,((X=E==null?void 0:E.values)==null?void 0:X.length)||0);return T!==0?T:bE(g,E)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===eh.mapValue&&f===eh.mapValue)return 0;if(u===eh.mapValue)return 1;if(f===eh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const w=Km(p[T],E[T]);if(w!==0)return w;const L=mo(m[p[T]],g[E[T]]);if(L!==0)return L}return zt(p.length,E.length)})(r.mapValue,t.mapValue);default:throw vt(23264,{he:n})}}function AE(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return zt(r,t);const n=cs(r),s=cs(t),o=zt(n.seconds,s.seconds);return o!==0?o:zt(n.nanos,s.nanos)}function bE(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=mo(n[o],s[o]);if(u)return u}return zt(n.length,s.length)}function po(r){return Ym(r)}function Ym(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=cs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return hs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return pt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Ym(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Ym(n.fields[f])}`;return o+"}"})(r.mapValue):vt(61005,{value:r})}function uh(r){switch(fs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Yh(r);return t?16+uh(t):16;case 5:return 2*r.stringValue.length;case 6:return hs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+uh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return _s(s.fields,((u,f)=>{o+=u.length+uh(f)})),o})(r.mapValue);default:throw vt(13486,{value:r})}}function wE(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function $m(r){return!!r&&"integerValue"in r}function Cp(r){return!!r&&"arrayValue"in r}function RE(r){return!!r&&"nullValue"in r}function CE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ch(r){return!!r&&"mapValue"in r}function $C(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[w0])==null?void 0:s.stringValue)===R0}function Fl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return _s(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Fl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Fl(r.arrayValue.values[n]);return t}return{...r}}function XC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===YC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.value=t}static empty(){return new on({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!ch(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Fl(n)}setAll(t){let n=$e.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Fl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ui(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];ch(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){_s(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new on(Fl(this.value))}}function C0(r){const t=[];return _s(r.fields,((n,s)=>{const o=new $e([n]);if(ch(s)){const u=C0(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new In(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Be(t,0,Tt.min(),Tt.min(),Tt.min(),on.empty(),0)}static newFoundDocument(t,n,s,o){return new Be(t,1,n,Tt.min(),s,o,0)}static newNoDocument(t,n){return new Be(t,2,n,Tt.min(),Tt.min(),on.empty(),0)}static newUnknownDocument(t,n){return new Be(t,3,n,Tt.min(),Tt.min(),on.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Be&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Be(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(t,n){this.position=t,this.inclusive=n}}function IE(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=pt.comparator(pt.fromName(f.referenceValue),n.key):s=mo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function NE(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ui(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t,n="asc"){this.field=t,this.dir=n}}function JC(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{}class Oe extends I0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new WC(t,n,s):n==="array-contains"?new nI(t,s):n==="in"?new iI(t,s):n==="not-in"?new rI(t,s):n==="array-contains-any"?new sI(t,s):new Oe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new tI(t,s):new eI(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(mo(n,this.value)):n!==null&&fs(this.value)===fs(n)&&this.matchesComparison(mo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends I0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new si(t,n)}matches(t){return N0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function N0(r){return r.op==="and"}function D0(r){return ZC(r)&&N0(r)}function ZC(r){for(const t of r.filters)if(t instanceof si)return!1;return!0}function Xm(r){if(r instanceof Oe)return r.field.canonicalString()+r.op.toString()+po(r.value);if(D0(r))return r.filters.map((t=>Xm(t))).join(",");{const t=r.filters.map((n=>Xm(n))).join(",");return`${r.op}(${t})`}}function O0(r,t){return r instanceof Oe?(function(s,o){return o instanceof Oe&&s.op===o.op&&s.field.isEqual(o.field)&&Ui(s.value,o.value)})(r,t):r instanceof si?(function(s,o){return o instanceof si&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&O0(f,o.filters[m])),!0):!1})(r,t):void vt(19439)}function M0(r){return r instanceof Oe?(function(n){return`${n.field.canonicalString()} ${n.op} ${po(n.value)}`})(r):r instanceof si?(function(n){return n.op.toString()+" {"+n.getFilters().map(M0).join(" ,")+"}"})(r):"Filter"}class WC extends Oe{constructor(t,n,s){super(t,n,s),this.key=pt.fromName(s.referenceValue)}matches(t){const n=pt.comparator(t.key,this.key);return this.matchesComparison(n)}}class tI extends Oe{constructor(t,n){super(t,"in",n),this.keys=V0("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class eI extends Oe{constructor(t,n){super(t,"not-in",n),this.keys=V0("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function V0(r,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map((s=>pt.fromName(s.referenceValue)))}class nI extends Oe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Cp(n)&&eu(n.arrayValue,this.value)}}class iI extends Oe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&eu(this.value.arrayValue,n)}}class rI extends Oe{constructor(t,n){super(t,"not-in",n)}matches(t){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!eu(this.value.arrayValue,n)}}class sI extends Oe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Cp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>eu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function DE(r,t=null,n=[],s=[],o=null,u=null,f=null){return new aI(r,t,n,s,o,u,f)}function Ip(r){const t=At(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Xm(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),hu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>po(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>po(s))).join(",")),t.Te=n}return t.Te}function Np(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!JC(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!O0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!NE(r.startAt,t.startAt)&&NE(r.endAt,t.endAt)}function Jm(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function oI(r,t,n,s,o,u,f,m){return new fu(r,t,n,s,o,u,f,m)}function $h(r){return new fu(r)}function OE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function x0(r){return r.collectionGroup!==null}function Gl(r){const t=At(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Pe($e.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Rh(u,s))})),n.has($e.keyField().canonicalString())||t.Ie.push(new Rh($e.keyField(),s))}return t.Ie}function Mi(r){const t=At(r);return t.Ee||(t.Ee=lI(t,Gl(r))),t.Ee}function lI(r,t){if(r.limitType==="F")return DE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Rh(o.field,u)}));const n=r.endAt?new wh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new wh(r.startAt.position,r.startAt.inclusive):null;return DE(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Zm(r,t){const n=r.filters.concat([t]);return new fu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Wm(r,t,n){return new fu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Xh(r,t){return Np(Mi(r),Mi(t))&&r.limitType===t.limitType}function P0(r){return`${Ip(Mi(r))}|lt:${r.limitType}`}function Wa(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>M0(o))).join(", ")}]`),hu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>po(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>po(o))).join(",")),`Target(${s})`})(Mi(r))}; limitType=${r.limitType})`}function Jh(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of Gl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=IE(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,Gl(s),o)||s.endAt&&!(function(f,m,p){const g=IE(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,Gl(s),o))})(r,t)}function uI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function L0(r){return(t,n)=>{let s=!1;for(const o of Gl(r)){const u=cI(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function cI(r,t,n){const s=r.field.isKeyField()?pt.comparator(t.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?mo(p,g):vt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return vt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){_s(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return v0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=new fe(pt.comparator);function ur(){return hI}const U0=new fe(pt.comparator);function zl(...r){let t=U0;for(const n of r)t=t.insert(n.key,n);return t}function k0(r){let t=U0;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Zs(){return Ql()}function z0(){return Ql()}function Ql(){return new sa((r=>r.toString()),((r,t)=>r.isEqual(t)))}const fI=new fe(pt.comparator),dI=new Pe(pt.comparator);function jt(...r){let t=dI;for(const n of r)t=t.add(n);return t}const mI=new Pe(zt);function pI(){return mI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sh(t)?"-0":t}}function j0(r){return{integerValue:""+r}}function gI(r,t){return HC(t)?j0(t):Dp(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(){this._=void 0}}function yI(r,t,n){return r instanceof Ch?(function(o,u){const f={fields:{[S0]:{stringValue:T0},[b0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Rp(u)&&(u=Yh(u)),u&&(f.fields[A0]=u),{mapValue:f}})(n,t):r instanceof nu?q0(r,t):r instanceof iu?H0(r,t):(function(o,u){const f=B0(o,u),m=ME(f)+ME(o.Ae);return $m(f)&&$m(o.Ae)?j0(m):Dp(o.serializer,m)})(r,t)}function _I(r,t,n){return r instanceof nu?q0(r,t):r instanceof iu?H0(r,t):n}function B0(r,t){return r instanceof Ih?(function(s){return $m(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class Ch extends Zh{}class nu extends Zh{constructor(t){super(),this.elements=t}}function q0(r,t){const n=F0(t);for(const s of r.elements)n.some((o=>Ui(o,s)))||n.push(s);return{arrayValue:{values:n}}}class iu extends Zh{constructor(t){super(),this.elements=t}}function H0(r,t){let n=F0(t);for(const s of r.elements)n=n.filter((o=>!Ui(o,s)));return{arrayValue:{values:n}}}class Ih extends Zh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function ME(r){return Ee(r.integerValue||r.doubleValue)}function F0(r){return Cp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function vI(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof nu&&o instanceof nu||s instanceof iu&&o instanceof iu?fo(s.elements,o.elements,Ui):s instanceof Ih&&o instanceof Ih?Ui(s.Ae,o.Ae):s instanceof Ch&&o instanceof Ch})(r.transform,t.transform)}class EI{constructor(t,n){this.version=t,this.transformResults=n}}class ln{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ln}static exists(t){return new ln(void 0,t)}static updateTime(t){return new ln(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function hh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Wh{}function G0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new tf(r.key,ln.none()):new du(r.key,r.data,ln.none());{const n=r.data,s=on.empty();let o=new Pe($e.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new vs(r.key,s,new In(o.toArray()),ln.none())}}function TI(r,t,n){r instanceof du?(function(o,u,f){const m=o.value.clone(),p=xE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,n):r instanceof vs?(function(o,u,f){if(!hh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=xE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(Q0(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Kl(r,t,n,s){return r instanceof du?(function(u,f,m,p){if(!hh(u.precondition,f))return m;const g=u.value.clone(),E=PE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,t,n,s):r instanceof vs?(function(u,f,m,p){if(!hh(u.precondition,f))return m;const g=PE(u.fieldTransforms,p,f),E=f.data;return E.setAll(Q0(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,t,n,s):(function(u,f,m){return hh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,n)}function SI(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=B0(s.transform,o||null);u!=null&&(n===null&&(n=on.empty()),n.set(s.field,u))}return n||null}function VE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&fo(s,o,((u,f)=>vI(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class du extends Wh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class vs extends Wh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Q0(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function xE(r,t,n){const s=new Map;Ht(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,_I(f,m,n[o]))}return s}function PE(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,yI(u,f,t))}return s}class tf extends Wh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class K0 extends Wh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&TI(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Kl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Kl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=z0();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=G0(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Tt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),jt())}isEqual(t){return this.batchId===t.batchId&&fo(this.mutations,t.mutations,((n,s)=>VE(n,s)))&&fo(this.baseMutations,t.baseMutations,((n,s)=>VE(n,s)))}}class Op{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ht(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return fI})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Op(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De,qt;function Y0(r){switch(r){case J.OK:return vt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function $0(r){if(r===void 0)return lr("GRPC error has no .code"),J.UNKNOWN;switch(r){case De.OK:return J.OK;case De.CANCELLED:return J.CANCELLED;case De.UNKNOWN:return J.UNKNOWN;case De.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case De.INTERNAL:return J.INTERNAL;case De.UNAVAILABLE:return J.UNAVAILABLE;case De.UNAUTHENTICATED:return J.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case De.NOT_FOUND:return J.NOT_FOUND;case De.ALREADY_EXISTS:return J.ALREADY_EXISTS;case De.PERMISSION_DENIED:return J.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case De.ABORTED:return J.ABORTED;case De.OUT_OF_RANGE:return J.OUT_OF_RANGE;case De.UNIMPLEMENTED:return J.UNIMPLEMENTED;case De.DATA_LOSS:return J.DATA_LOSS;default:return vt(39323,{code:r})}}(qt=De||(De={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=new ss([4294967295,4294967295],0);function LE(r){const t=RI().encode(r),n=new l0;return n.update(t),new Uint8Array(n.digest())}function UE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ss([n,s],0),new ss([o,u],0)]}class Mp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new jl(`Invalid padding: ${n}`);if(s<0)throw new jl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new jl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=ss.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(ss.fromNumber(s)));return o.compare(CI)===1&&(o=new ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=LE(t),[s,o]=UE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Mp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=LE(t),[s,o]=UE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,mu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new ef(Tt.min(),o,new fe(zt),ur(),jt())}}class mu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new mu(s,n,jt(),jt(),jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class X0{constructor(t,n){this.targetId=t,this.Ce=n}}class J0{constructor(t,n,s=Je.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class kE{constructor(){this.ve=0,this.Fe=zE(),this.Me=Je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=jt(),n=jt(),s=jt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:vt(38017,{changeType:u})}})),new mu(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=zE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class II{constructor(t){this.Ge=t,this.ze=new Map,this.je=ur(),this.Je=nh(),this.He=nh(),this.Ye=new fe(zt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Jm(u))if(s===0){const f=new pt(u.path);this.et(n,f,Be.newNoDocument(f,Tt.min()))}else Ht(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),p=m?this.ct(m,t,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=hs(s).toUint8Array()}catch(p){if(p instanceof E0)return ho("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Mp(f,o,u)}catch(p){return ho(p instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Jm(m.target)){const p=new pt(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Be.newNoDocument(p,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=jt();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new ef(t,n,this.Ye,this.je,s);return this.je=ur(),this.Je=nh(),this.He=nh(),this.Ye=new fe(zt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new kE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Pe(zt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Pe(zt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ft("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new kE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function nh(){return new fe(pt.comparator)}function zE(){return new fe(pt.comparator)}const NI={asc:"ASCENDING",desc:"DESCENDING"},DI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OI={and:"AND",or:"OR"};class MI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function tp(r,t){return r.useProto3Json||hu(t)?t:{value:t}}function Nh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Z0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function VI(r,t){return Nh(r,t.toTimestamp())}function Nn(r){return Ht(!!r,49232),Tt.fromTimestamp((function(n){const s=cs(n);return new se(s.seconds,s.nanos)})(r))}function Vp(r,t){return ep(r,t).canonicalString()}function ep(r,t){const n=(function(o){return new ie(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function W0(r){const t=ie.fromString(r);return Ht(sS(t),10190,{key:t.toString()}),t}function Dh(r,t){return Vp(r.databaseId,t.path)}function Yl(r,t){const n=W0(t);if(n.get(1)!==r.databaseId.projectId)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pt(eS(n))}function tS(r,t){return Vp(r.databaseId,t)}function xI(r){const t=W0(r);return t.length===4?ie.emptyPath():eS(t)}function np(r){return new ie(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function eS(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function jE(r,t,n){return{name:Dh(r,t),fields:n.value.mapValue.fields}}function PI(r,t){return"found"in t?(function(s,o){Ht(!!o.found,43571),o.found.name,o.found.updateTime;const u=Yl(s,o.found.name),f=Nn(o.found.updateTime),m=o.found.createTime?Nn(o.found.createTime):Tt.min(),p=new on({mapValue:{fields:o.found.fields}});return Be.newFoundDocument(u,f,m,p)})(r,t):"missing"in t?(function(s,o){Ht(!!o.missing,3894),Ht(!!o.readTime,22933);const u=Yl(s,o.missing),f=Nn(o.readTime);return Be.newNoDocument(u,f)})(r,t):vt(7234,{result:t})}function LI(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:vt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Ht(E===void 0||typeof E=="string",58123),Je.fromBase64String(E||"")):(Ht(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Je.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?J.UNKNOWN:$0(g.code);return new ut(E,g.message||"")})(f);n=new J0(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Yl(r,s.document.name),u=Nn(s.document.updateTime),f=s.document.createTime?Nn(s.document.createTime):Tt.min(),m=new on({mapValue:{fields:s.document.fields}}),p=Be.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new fh(g,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Yl(r,s.document),u=s.readTime?Nn(s.readTime):Tt.min(),f=Be.newNoDocument(o,u),m=s.removedTargetIds||[];n=new fh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Yl(r,s.document),u=s.removedTargetIds||[];n=new fh([],u,o,null)}else{if(!("filter"in t))return vt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new wI(o,u),m=s.targetId;n=new X0(m,f)}}return n}function nS(r,t){let n;if(t instanceof du)n={update:jE(r,t.key,t.value)};else if(t instanceof tf)n={delete:Dh(r,t.key)};else if(t instanceof vs)n={update:jE(r,t.key,t.data),updateMask:GI(t.fieldMask)};else{if(!(t instanceof K0))return vt(16599,{Vt:t.type});n={verify:Dh(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Ch)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof nu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof iu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ih)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw vt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:VI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:vt(27497)})(r,t.precondition)),n}function UI(r,t){return r&&r.length>0?(Ht(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Nn(o.updateTime):Nn(u);return f.isEqual(Tt.min())&&(f=Nn(u)),new EI(f,o.transformResults||[])})(n,t)))):[]}function kI(r,t){return{documents:[tS(r,t.path)]}}function zI(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=tS(r,o);const u=(function(g){if(g.length!==0)return rS(si.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(w){return{field:to(w.field),direction:qI(w.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=tp(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:o}}function jI(r){let t=xI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ht(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const w=iS(T);return w instanceof si&&D0(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((w=>(function(Q){return new Rh(eo(Q.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let w;return w=typeof T=="object"?T.value:T,hu(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(T){const w=!!T.before,L=T.values||[];return new wh(L,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const w=!T.before,L=T.values||[];return new wh(L,w)})(n.endAt)),oI(t,o,f,u,m,"F",p,g)}function BI(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function iS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=eo(n.unaryFilter.field);return Oe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=eo(n.unaryFilter.field);return Oe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=eo(n.unaryFilter.field);return Oe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=eo(n.unaryFilter.field);return Oe.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Oe.create(eo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return si.create(n.compositeFilter.filters.map((s=>iS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(n.compositeFilter.op))})(r):vt(30097,{filter:r})}function qI(r){return NI[r]}function HI(r){return DI[r]}function FI(r){return OI[r]}function to(r){return{fieldPath:r.canonicalString()}}function eo(r){return $e.fromServerFormat(r.fieldPath)}function rS(r){return r instanceof Oe?(function(n){if(n.op==="=="){if(CE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NAN"}};if(RE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(CE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NAN"}};if(RE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(n.field),op:HI(n.op),value:n.value}}})(r):r instanceof si?(function(n){const s=n.getFilters().map((o=>rS(o)));return s.length===1?s[0]:{compositeFilter:{op:FI(n.op),filters:s}}})(r):vt(54877,{filter:r})}function GI(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function sS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(t,n,s,o,u=Tt.min(),f=Tt.min(),m=Je.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new es(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(t){this.yt=t}}function KI(r){const t=jI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Wm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(){this.Cn=new $I}addToCollectionParentIndex(t,n){return this.Cn.add(n),nt.resolve()}getCollectionParents(t,n){return nt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return nt.resolve()}deleteFieldIndex(t,n){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,n){return nt.resolve()}getDocumentsMatchingTarget(t,n){return nt.resolve(null)}getIndexType(t,n){return nt.resolve(0)}getFieldIndexes(t,n){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,n){return nt.resolve(us.min())}getMinOffsetFromCollectionGroup(t,n){return nt.resolve(us.min())}updateCollectionGroup(t,n,s){return nt.resolve()}updateIndexEntries(t,n){return nt.resolve()}}class $I{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Pe(ie.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Pe(ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aS=41943040;class yn{static withCacheSize(t){return new yn(t,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(aS,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new go(0)}static cr(){return new go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="LruGarbageCollector",XI=1048576;function HE([r,t],[n,s]){const o=zt(r,n);return o===0?zt(t,s):o}class JI{constructor(t){this.Ir=t,this.buffer=new Pe(HE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();HE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ZI{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ft(qE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wo(n)?ft(qE,"Ignoring IndexedDB error during garbage collection: ",n):await bo(n)}await this.Vr(3e5)}))}}class WI{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return nt.resolve(Kh.ce);const s=new JI(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(BE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),BE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(t,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(g=Date.now(),Za()<=kt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function t2(r,t){return new WI(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this.changes=new sa((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Be.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?nt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Kl(s.mutation,o,In.empty(),se.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,jt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=jt()){const o=Zs();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=zl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=Zs();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,jt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=ur();const f=Ql(),m=(function(){return Ql()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof vs)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Kl(E.mutation,g,E.mutation.getFieldMask(),se.now())):f.set(g.key,In.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>m.set(g,new n2(E,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=Ql();let o=new fe(((f,m)=>f-m)),u=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||In.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||jt()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=z0();E.forEach((w=>{if(!u.has(w)){const L=G0(n.get(w),s.get(w));L!==null&&T.set(w,L),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(t,g,T))}return nt.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(f){return pt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):x0(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):nt.resolve(Zs());let m=Zl,p=u;return f.next((g=>nt.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?nt.resolve():this.remoteDocumentCache.getEntry(t,E).next((w=>{p=p.insert(E,w)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,jt()))).next((E=>({batchId:m,changes:k0(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new pt(n)).next((s=>{let o=zl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=zl();return this.indexManager.getCollectionParents(t,u).next((m=>nt.forEach(m,(p=>{const g=(function(T,w){return new fu(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((E=>{E.forEach(((T,w)=>{f=f.insert(T,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Be.newInvalidDocument(E)))}));let m=zl();return f.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&Kl(E.mutation,g,In.empty(),se.now()),Jh(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return nt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Nn(o.createTime)}})(n)),nt.resolve()}getNamedQuery(t,n){return nt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:KI(o.bundledQuery),readTime:Nn(o.readTime)}})(n)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(){this.overlays=new fe(pt.comparator),this.qr=new Map}getOverlay(t,n){return nt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Zs();return nt.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),nt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),nt.resolve()}getOverlaysForCollection(t,n,s){const o=Zs(),u=n.length+1,f=new pt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return nt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new fe(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Zs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Zs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return nt.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new bI(n,s));let u=this.qr.get(n);u===void 0&&(u=jt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(){this.Qr=new Pe(ze.$r),this.Ur=new Pe(ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new ze(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new ze(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new pt(new ie([])),s=new ze(n,t),o=new ze(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new pt(new ie([])),s=new ze(n,t),o=new ze(n,t+1);let u=jt();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new ze(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class ze{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return pt.comparator(t.key,n.key)||zt(t.Yr,n.Yr)}static Kr(t,n){return zt(t.Yr,n.Yr)||pt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pe(ze.$r)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new AI(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new ze(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return nt.resolve(f)}lookupMutationBatch(t,n){return nt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return nt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?wp:this.tr-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new ze(n,0),o=new ze(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),nt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Pe(zt);return n.forEach((o=>{const u=new ze(o,0),f=new ze(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),nt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;pt.isDocumentKey(u)||(u=u.child(""));const f=new ze(new pt(u),0);let m=new Pe(zt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),f),nt.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Ht(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return nt.forEach(n.mutations,(o=>{const u=new ze(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new ze(n,0),o=this.Zr.firstAfterOrEqual(s);return nt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(t){this.ri=t,this.docs=(function(){return new fe(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return nt.resolve(s?s.document.mutableCopy():Be.newInvalidDocument(n))}getEntries(t,n){let s=ur();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Be.newInvalidDocument(o))})),nt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=ur();const f=n.path,m=new pt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||zC(kC(E),s)<=0||(o.has(E.key)||Jh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return nt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){vt(9500)}ii(t,n){return nt.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new u2(this)}getSize(t){return nt.resolve(this.size)}}class u2 extends e2{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),nt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(t){this.persistence=t,this.si=new sa((n=>Ip(n)),Np),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new xp,this.targetCount=0,this.ai=go.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),nt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new go(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,nt.resolve()}updateTargetData(t,n){return this.Pr(n),nt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),nt.waitFor(u).next((()=>o))}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return nt.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),nt.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),nt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),nt.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return nt.resolve(s)}containsKey(t,n){return nt.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(t,n){this.ui={},this.overlays={},this.ci=new Kh(0),this.li=!1,this.li=!0,this.hi=new a2,this.referenceDelegate=t(this),this.Pi=new c2(this),this.indexManager=new YI,this.remoteDocumentCache=(function(o){return new l2(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new QI(n),this.Ii=new r2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new s2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new o2(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ft("MemoryPersistence","Starting transaction:",t);const o=new h2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return nt.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class h2 extends BC{constructor(t){super(),this.currentSequenceNumber=t}}class Pp{constructor(t){this.persistence=t,this.Ri=new xp,this.Vi=null}static mi(t){return new Pp(t)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),nt.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),nt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),nt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.fi,(s=>{const o=pt.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,Tt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return nt.or([()=>nt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Oh{constructor(t,n){this.persistence=t,this.pi=new sa((s=>FC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=t2(this,n)}static mi(t,n){return new Oh(t,n)}Ei(){}di(t){return nt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return nt.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?nt.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((m=>{m||(s++,u.removeEntry(f,Tt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),nt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),nt.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),nt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=uh(t.data.value)),n}br(t,n,s){return nt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return nt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=jt(),o=jt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Lp(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return lR()?8:qC(en())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new f2;return this.Ss(t,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(Za()<=kt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",Wa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),nt.resolve()):(Za()<=kt.DEBUG&&ft("QueryEngine","Query:",Wa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Za()<=kt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",Wa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Mi(n))):nt.resolve())}ys(t,n){if(OE(n))return nt.resolve(null);let s=Mi(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Wm(n,null,"F"),s=Mi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=jt(...u);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(t,Wm(n,null,"F")):this.vs(t,g,n,p)}))))})))))}ws(t,n,s,o){return OE(n)||o.isEqual(Tt.min())?nt.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?nt.resolve(null):(Za()<=kt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Wa(n)),this.vs(t,f,n,UC(o,Zl)).next((m=>m)))}))}Ds(t,n){let s=new Pe(L0(t));return n.forEach(((o,u)=>{Jh(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return Za()<=kt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",Wa(n)),this.ps.getDocumentsMatchingQuery(t,n,us.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up="LocalStore",m2=3e8;class p2{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new fe(zt),this.xs=new sa((u=>Ip(u)),Np),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new i2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function g2(r,t,n,s){return new p2(r,t,n,s)}async function lS(r,t){const n=At(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=jt();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function y2(r,t){const n=At(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,w=T.keys();let L=nt.resolve();return w.forEach((Q=>{L=L.next((()=>E.getEntry(p,Q))).next((X=>{const H=g.docVersions.get(Q);Ht(H!==null,48541),X.version.compareTo(H)<0&&(T.applyToRemoteDocument(X,g),X.isValidDocument()&&(X.setReadTime(g.commitVersion),E.addEntry(X)))}))})),L.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=jt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function uS(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function _2(r,t){const n=At(r),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((E,T)=>{const w=o.get(T);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let L=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?L=L.withResumeToken(Je.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(T,L),(function(X,H,it){return X.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=m2?!0:it.addedDocuments.size+it.modifiedDocuments.size+it.removedDocuments.size>0})(w,L,E)&&m.push(n.Pi.updateTargetData(u,L))}));let p=ur(),g=jt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(v2(u,f,t.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(Tt.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return nt.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function v2(r,t,n){let s=jt(),o=jt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=ur();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Tt.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):ft(Up,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function E2(r,t){const n=At(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=wp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function T2(r,t){const n=At(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,nt.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new es(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function ip(r,t,n){const s=At(r),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!wo(f))throw f;ft(Up,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function FE(r,t,n){const s=At(r);let o=Tt.min(),u=jt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,E){const T=At(p),w=T.xs.get(E);return w!==void 0?nt.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,E)})(s,f,Mi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:Tt.min(),n?u:jt()))).next((m=>(S2(s,uI(t),m),{documents:m,Qs:u})))))}function S2(r,t,n){let s=r.Os.get(t)||Tt.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class GE{constructor(){this.activeTargetIds=pI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class A2{constructor(){this.Mo=new GE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new GE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="ConnectivityMonitor";class KE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ft(QE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ft(QE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih=null;function rp(){return ih===null?ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():ih++,"0x"+ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="RestConnection",w2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class R2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Ah?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=rp(),m=this.zo(t,n.toUriEncodedString());ft(Cm,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=To(g);return this.Jo(t,m,p,s,E).then((T=>(ft(Cm,`Received RPC '${t}' ${f}: `,T),T)),(T=>{throw ho(Cm,`RPC '${t}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ao})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=w2[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We="WebChannelConnection";class I2 extends R2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=rp();return new Promise(((m,p)=>{const g=new u0;g.setWithCredentials(!0),g.listenOnce(c0.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case lh.NO_ERROR:const T=g.getResponseJson();ft(We,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(T)),m(T);break;case lh.TIMEOUT:ft(We,`RPC '${t}' ${f} timed out`),p(new ut(J.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:const w=g.getStatus();if(ft(We,`RPC '${t}' ${f} failed with status:`,w,"response text:",g.getResponseText()),w>0){let L=g.getResponseJson();Array.isArray(L)&&(L=L[0]);const Q=L==null?void 0:L.error;if(Q&&Q.status&&Q.message){const X=(function(it){const st=it.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(st)>=0?st:J.UNKNOWN})(Q.status);p(new ut(X,Q.message))}else p(new ut(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ut(J.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ft(We,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);ft(We,`RPC '${t}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=rp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=d0(),m=f0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ft(We,`Creating RPC '${t}' stream ${o}: ${E}`,p);const T=f.createWebChannel(E,p);this.I_(T);let w=!1,L=!1;const Q=new C2({Yo:H=>{L?ft(We,`Not sending because RPC '${t}' stream ${o} is closed:`,H):(w||(ft(We,`Opening RPC '${t}' stream ${o} transport.`),T.open(),w=!0),ft(We,`RPC '${t}' stream ${o} sending:`,H),T.send(H))},Zo:()=>T.close()}),X=(H,it,st)=>{H.listen(it,(rt=>{try{st(rt)}catch(_t){setTimeout((()=>{throw _t}),0)}}))};return X(T,kl.EventType.OPEN,(()=>{L||(ft(We,`RPC '${t}' stream ${o} transport opened.`),Q.o_())})),X(T,kl.EventType.CLOSE,(()=>{L||(L=!0,ft(We,`RPC '${t}' stream ${o} transport closed`),Q.a_(),this.E_(T))})),X(T,kl.EventType.ERROR,(H=>{L||(L=!0,ho(We,`RPC '${t}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),Q.a_(new ut(J.UNAVAILABLE,"The operation could not be completed")))})),X(T,kl.EventType.MESSAGE,(H=>{var it;if(!L){const st=H.data[0];Ht(!!st,16349);const rt=st,_t=(rt==null?void 0:rt.error)||((it=rt[0])==null?void 0:it.error);if(_t){ft(We,`RPC '${t}' stream ${o} received error:`,_t);const wt=_t.status;let bt=(function(C){const D=De[C];if(D!==void 0)return $0(D)})(wt),b=_t.message;bt===void 0&&(bt=J.INTERNAL,b="Unknown error status: "+wt+" with message "+_t.message),L=!0,Q.a_(new ut(bt,b)),T.close()}else ft(We,`RPC '${t}' stream ${o} received:`,st),Q.u_(st)}})),X(m,h0.STAT_EVENT,(H=>{H.stat===Qm.PROXY?ft(We,`RPC '${t}' stream ${o} detected buffering proxy`):H.stat===Qm.NOPROXY&&ft(We,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Q.__()}),0),Q}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Im(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(r){return new MI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ft("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="PersistentStream";class cS{constructor(t,n,s,o,u,f,m,p){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new kp(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(lr(n.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new ut(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ft(YE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ft(YE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class N2 extends cS{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=LI(this.serializer,t),s=(function(u){if(!("targetChange"in u))return Tt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Tt.min():f.readTime?Nn(f.readTime):Tt.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=np(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Jm(p)?{documents:kI(u,p)}:{query:zI(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Z0(u,f.resumeToken);const g=tp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Tt.min())>0){m.readTime=Nh(u,f.snapshotVersion.toTimestamp());const g=tp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const s=BI(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=np(this.serializer),n.removeTarget=t,this.q_(n)}}class D2 extends cS{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=UI(t.writeResults,t.commitTime),s=Nn(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=np(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>nS(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{}class M2 extends O2{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,ep(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ut(J.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,ep(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ut(J.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class V2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(lr(n),this.aa=!1):ft("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="RemoteStore";class x2{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{aa(this)&&(ft(ia,"Restarting streams for network reachability change."),await(async function(p){const g=At(p);g.Ea.add(4),await pu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await rf(g)})(this))}))})),this.Ra=new V2(s,o)}}async function rf(r){if(aa(r))for(const t of r.da)await t(!0)}async function pu(r){for(const t of r.da)await t(!1)}function hS(r,t){const n=At(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),qp(n)?Bp(n):Ro(n).O_()&&jp(n,t))}function zp(r,t){const n=At(r),s=Ro(n);n.Ia.delete(t),s.O_()&&fS(n,t),n.Ia.size===0&&(s.O_()?s.L_():aa(n)&&n.Ra.set("Unknown"))}function jp(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ro(r).Y_(t)}function fS(r,t){r.Va.Ue(t),Ro(r).Z_(t)}function Bp(r){r.Va=new II({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Ro(r).start(),r.Ra.ua()}function qp(r){return aa(r)&&!Ro(r).x_()&&r.Ia.size>0}function aa(r){return At(r).Ea.size===0}function dS(r){r.Va=void 0}async function P2(r){r.Ra.set("Online")}async function L2(r){r.Ia.forEach(((t,n)=>{jp(r,t)}))}async function U2(r,t){dS(r),qp(r)?(r.Ra.ha(t),Bp(r)):r.Ra.set("Unknown")}async function k2(r,t,n){if(r.Ra.set("Online"),t instanceof J0&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,t)}catch(s){ft(ia,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Mh(r,s)}else if(t instanceof fh?r.Va.Ze(t):t instanceof X0?r.Va.st(t):r.Va.tt(t),!n.isEqual(Tt.min()))try{const s=await uS(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Je.EMPTY_BYTE_STRING,E.snapshotVersion)),fS(u,p);const T=new es(E.target,p,g,E.sequenceNumber);jp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ft(ia,"Failed to raise snapshot:",s),await Mh(r,s)}}async function Mh(r,t,n){if(!wo(t))throw t;r.Ea.add(1),await pu(r),r.Ra.set("Offline"),n||(n=()=>uS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ft(ia,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await rf(r)}))}function mS(r,t){return t().catch((n=>Mh(r,n,t)))}async function sf(r){const t=At(r),n=ds(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:wp;for(;z2(t);)try{const o=await E2(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,j2(t,o)}catch(o){await Mh(t,o)}pS(t)&&gS(t)}function z2(r){return aa(r)&&r.Ta.length<10}function j2(r,t){r.Ta.push(t);const n=ds(r);n.O_()&&n.X_&&n.ea(t.mutations)}function pS(r){return aa(r)&&!ds(r).x_()&&r.Ta.length>0}function gS(r){ds(r).start()}async function B2(r){ds(r).ra()}async function q2(r){const t=ds(r);for(const n of r.Ta)t.ea(n.mutations)}async function H2(r,t,n){const s=r.Ta.shift(),o=Op.from(s,t,n);await mS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await sf(r)}async function F2(r,t){t&&ds(r).X_&&await(async function(s,o){if((function(f){return Y0(f)&&f!==J.ABORTED})(o.code)){const u=s.Ta.shift();ds(s).B_(),await mS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await sf(s)}})(r,t),pS(r)&&gS(r)}async function $E(r,t){const n=At(r);n.asyncQueue.verifyOperationInProgress(),ft(ia,"RemoteStore received new credentials");const s=aa(n);n.Ea.add(3),await pu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await rf(n)}async function G2(r,t){const n=At(r);t?(n.Ea.delete(2),await rf(n)):t||(n.Ea.add(2),await pu(n),n.Ra.set("Unknown"))}function Ro(r){return r.ma||(r.ma=(function(n,s,o){const u=At(n);return u.sa(),new N2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:P2.bind(null,r),t_:L2.bind(null,r),r_:U2.bind(null,r),H_:k2.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),qp(r)?Bp(r):r.Ra.set("Unknown")):(await r.ma.stop(),dS(r))}))),r.ma}function ds(r){return r.fa||(r.fa=(function(n,s,o){const u=At(n);return u.sa(),new D2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:B2.bind(null,r),r_:F2.bind(null,r),ta:q2.bind(null,r),na:H2.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await sf(r)):(await r.fa.stop(),r.Ta.length>0&&(ft(ia,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new Hp(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fp(r,t){if(lr("AsyncQueue",`${t}: ${r}`),wo(r))return new ut(J.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{static emptySet(t){return new ao(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||pt.comparator(n.key,s.key):(n,s)=>pt.comparator(n.key,s.key),this.keyedMap=zl(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ao)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new ao;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(){this.ga=new fe(pt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):vt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class yo{constructor(t,n,s,o,u,f,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new yo(t,n,ao.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Xh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class K2{constructor(){this.queries=JE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=At(n),u=o.queries;o.queries=JE(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new ut(J.ABORTED,"Firestore shutting down"))}}function JE(){return new sa((r=>P0(r)),Xh)}async function Gp(r,t){const n=At(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new Q2,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Fp(f,`Initialization of query '${Wa(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Kp(n)}async function Qp(r,t){const n=At(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Y2(r,t){const n=At(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Kp(n)}function $2(r,t,n){const s=At(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function Kp(r){r.Ca.forEach((t=>{t.next()}))}var sp,ZE;(ZE=sp||(sp={})).Ma="default",ZE.Cache="cache";class Yp{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new yo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=yo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==sp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(t){this.key=t}}class _S{constructor(t){this.key=t}}class X2{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=jt(),this.mutatedKeys=jt(),this.eu=L0(t),this.tu=new ao(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new XE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,T)=>{const w=o.get(E),L=Jh(this.query,T)?T:null,Q=!!w&&this.mutatedKeys.has(w.key),X=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let H=!1;w&&L?w.data.isEqual(L.data)?Q!==X&&(s.track({type:3,doc:L}),H=!0):this.su(w,L)||(s.track({type:2,doc:L}),H=!0,(p&&this.eu(L,p)>0||g&&this.eu(L,g)<0)&&(m=!0)):!w&&L?(s.track({type:0,doc:L}),H=!0):w&&!L&&(s.track({type:1,doc:w}),H=!0,(p||g)&&(m=!0)),H&&(L?(f=f.add(L),u=X?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,T)=>(function(L,Q){const X=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:H})}};return X(L)-X(Q)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new yo(this.query,t.tu,u,f,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new XE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=jt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new _S(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new yS(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=jt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return yo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $p="SyncEngine";class J2{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class Z2{constructor(t){this.key=t,this.hu=!1}}class W2{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new sa((m=>P0(m)),Xh),this.Iu=new Map,this.Eu=new Set,this.du=new fe(pt.comparator),this.Au=new Map,this.Ru=new xp,this.Vu={},this.mu=new Map,this.fu=go.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tN(r,t,n=!0){const s=bS(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await vS(s,t,n,!0),o}async function eN(r,t){const n=bS(r);await vS(n,t,!0,!1)}async function vS(r,t,n,s){const o=await T2(r.localStore,Mi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await nN(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&hS(r.remoteStore,o),m}async function nN(r,t,n,s,o){r.pu=(T,w,L)=>(async function(X,H,it,st){let rt=H.view.ru(it);rt.Cs&&(rt=await FE(X.localStore,H.query,!1).then((({documents:b})=>H.view.ru(b,rt))));const _t=st&&st.targetChanges.get(H.targetId),wt=st&&st.targetMismatches.get(H.targetId)!=null,bt=H.view.applyChanges(rt,X.isPrimaryClient,_t,wt);return tT(X,H.targetId,bt.au),bt.snapshot})(r,T,w,L);const u=await FE(r.localStore,t,!0),f=new X2(t,u.Qs),m=f.ru(u.documents),p=mu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);tT(r,n,g.au);const E=new J2(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),g.snapshot}async function iN(r,t,n){const s=At(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Xh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ip(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&zp(s.remoteStore,o.targetId),ap(s,o.targetId)})).catch(bo)):(ap(s,o.targetId),await ip(s.localStore,o.targetId,!0))}async function rN(r,t){const n=At(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),zp(n.remoteStore,s.targetId))}async function sN(r,t,n){const s=fN(r);try{const o=await(function(f,m){const p=At(f),g=se.now(),E=m.reduce(((L,Q)=>L.add(Q.key)),jt());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let Q=ur(),X=jt();return p.Ns.getEntries(L,E).next((H=>{Q=H,Q.forEach(((it,st)=>{st.isValidDocument()||(X=X.add(it))}))})).next((()=>p.localDocuments.getOverlayedDocuments(L,Q))).next((H=>{T=H;const it=[];for(const st of m){const rt=SI(st,T.get(st.key).overlayedDocument);rt!=null&&it.push(new vs(st.key,rt,C0(rt.value.mapValue),ln.exists(!0)))}return p.mutationQueue.addMutationBatch(L,g,it,m)})).next((H=>{w=H;const it=H.applyToLocalDocumentSet(T,X);return p.documentOverlayCache.saveOverlays(L,H.batchId,it)}))})).then((()=>({batchId:w.batchId,changes:k0(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new fe(zt)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,n),await gu(s,o.changes),await sf(s.remoteStore)}catch(o){const u=Fp(o,"Failed to persist write");n.reject(u)}}async function ES(r,t){const n=At(r);try{const s=await _2(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ht(f.hu,14607):o.removedDocuments.size>0&&(Ht(f.hu,42227),f.hu=!1))})),await gu(n,s,t)}catch(s){await bo(s)}}function WE(r,t,n){const s=At(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=At(f);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const w of T.Sa)w.va(m)&&(g=!0)})),g&&Kp(p)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function aN(r,t,n){const s=At(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new fe(pt.comparator);f=f.insert(u,Be.newNoDocument(u,Tt.min()));const m=jt().add(u),p=new ef(Tt.min(),new Map,new fe(zt),f,m);await ES(s,p),s.du=s.du.remove(u),s.Au.delete(t),Xp(s)}else await ip(s.localStore,t,!1).then((()=>ap(s,t,n))).catch(bo)}async function oN(r,t){const n=At(r),s=t.batch.batchId;try{const o=await y2(n.localStore,t);SS(n,s,null),TS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await gu(n,o)}catch(o){await bo(o)}}async function lN(r,t,n){const s=At(r);try{const o=await(function(f,m){const p=At(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Ht(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,t);SS(s,t,n),TS(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await gu(s,o)}catch(o){await bo(o)}}function TS(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function SS(r,t,n){const s=At(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function ap(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||AS(r,s)}))}function AS(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(zp(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),Xp(r))}function tT(r,t,n){for(const s of n)s instanceof yS?(r.Ru.addReference(s.key,t),uN(r,s)):s instanceof _S?(ft($p,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||AS(r,s.key)):vt(19791,{wu:s})}function uN(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ft($p,"New document in limbo: "+n),r.Eu.add(s),Xp(r))}function Xp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new pt(ie.fromString(t)),s=r.fu.next();r.Au.set(s,new Z2(n)),r.du=r.du.insert(n,s),hS(r.remoteStore,new es(Mi($h(n.path)),s,"TargetPurposeLimboResolution",Kh.ce))}}async function gu(r,t,n){const s=At(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,t,n).then((g=>{var E;if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=Lp.As(p.targetId,g);u.push(T)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,g){const E=At(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>nt.forEach(g,(w=>nt.forEach(w.Es,(L=>E.persistence.referenceDelegate.addReference(T,w.targetId,L))).next((()=>nt.forEach(w.ds,(L=>E.persistence.referenceDelegate.removeReference(T,w.targetId,L)))))))))}catch(T){if(!wo(T))throw T;ft(Up,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const L=E.Ms.get(w),Q=L.snapshotVersion,X=L.withLastLimboFreeSnapshotVersion(Q);E.Ms=E.Ms.insert(w,X)}}})(s.localStore,u))}async function cN(r,t){const n=At(r);if(!n.currentUser.isEqual(t)){ft($p,"User change. New user:",t.toKey());const s=await lS(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ut(J.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await gu(n,s.Ls)}}function hN(r,t){const n=At(r),s=n.Au.get(t);if(s&&s.hu)return jt().add(s.key);{let o=jt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function bS(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=ES.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=aN.bind(null,t),t.Pu.H_=Y2.bind(null,t.eventManager),t.Pu.yu=$2.bind(null,t.eventManager),t}function fN(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=oN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lN.bind(null,t),t}class Vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=nf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return g2(this.persistence,new d2,t.initialUser,this.serializer)}Cu(t){return new oS(Pp.mi,this.serializer)}Du(t){return new A2}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vh.provider={build:()=>new Vh};class dN extends Vh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ht(this.persistence.referenceDelegate instanceof Oh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ZI(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new oS((s=>Oh.mi(s,n)),this.serializer)}}class op{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>WE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=cN.bind(null,this.syncEngine),await G2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new K2})()}createDatastore(t){const n=nf(t.databaseInfo.databaseId),s=(function(u){return new I2(u)})(t.databaseInfo);return(function(u,f,m,p){return new M2(u,f,m,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new x2(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>WE(this.syncEngine,n,0)),(function(){return KE.v()?new KE:new b2})())}createSyncEngine(t,n){return(function(o,u,f,m,p,g,E){const T=new W2(o,u,f,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await(async function(o){const u=At(o);ft(ia,"RemoteStore shutting down."),u.Ea.add(5),await pu(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}op.provider={build:()=>new op};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):lr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ut(J.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,u){const f=At(o),m={documents:u.map((T=>Dh(f.serializer,T)))},p=await f.Ho("BatchGetDocuments",f.serializer.databaseId,ie.emptyPath(),m,u.length),g=new Map;p.forEach((T=>{const w=PI(f.serializer,T);g.set(w.key.toString(),w)}));const E=[];return u.forEach((T=>{const w=g.get(T.toString());Ht(!!w,55234,{key:T}),E.push(w)})),E})(this.datastore,t);return n.forEach((s=>this.recordVersion(s))),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new tf(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((n=>{t.delete(n.key.toString())})),t.forEach(((n,s)=>{const o=pt.fromPath(s);this.mutations.push(new K0(o,this.precondition(o)))})),await(async function(s,o){const u=At(s),f={writes:o.map((m=>nS(u.serializer,m)))};await u.Go("Commit",u.serializer.databaseId,ie.emptyPath(),f)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw vt(50498,{Gu:t.constructor.name});n=Tt.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!n.isEqual(s))throw new ut(J.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(Tt.min())?ln.exists(!1):ln.updateTime(n):ln.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(Tt.min()))throw new ut(J.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ln.updateTime(n)}return ln.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(t,n,s,o,u){this.asyncQueue=t,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=u,this.zu=s.maxAttempts,this.M_=new kp(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const t=new mN(this.datastore),n=this.Hu(t);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Yu(o)}))))})).catch((s=>{this.Yu(s)}))}))}Hu(t){try{const n=this.updateFunction(t);return!hu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(t){this.zu>0&&this.Zu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(t)}Zu(t){if((t==null?void 0:t.name)==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Y0(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="FirestoreClient";class gN{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=bp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ft(ms,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ft(ms,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Fp(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Nm(r,t){r.asyncQueue.verifyOperationInProgress(),ft(ms,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await lS(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function eT(r,t){r.asyncQueue.verifyOperationInProgress();const n=await yN(r);ft(ms,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>$E(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>$E(t.remoteStore,o))),r._onlineComponents=t}async function yN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ft(ms,"Using user provided OfflineComponentProvider");try{await Nm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ho("Error using user provided cache. Falling back to memory cache: "+n),await Nm(r,new Vh)}}else ft(ms,"Using default OfflineComponentProvider"),await Nm(r,new dN(void 0));return r._offlineComponents}async function Zp(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ft(ms,"Using user provided OnlineComponentProvider"),await eT(r,r._uninitializedComponentsProvider._online)):(ft(ms,"Using default OnlineComponentProvider"),await eT(r,new op))),r._onlineComponents}function _N(r){return Zp(r).then((t=>t.syncEngine))}function vN(r){return Zp(r).then((t=>t.datastore))}async function xh(r){const t=await Zp(r),n=t.eventManager;return n.onListen=tN.bind(null,t.syncEngine),n.onUnlisten=iN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=eN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=rN.bind(null,t.syncEngine),n}function EN(r,t,n={}){const s=new Oi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new Jp({next:w=>{E.Nu(),f.enqueueAndForget((()=>Qp(u,T)));const L=w.docs.has(m);!L&&w.fromCache?g.reject(new ut(J.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&w.fromCache&&p&&p.source==="server"?g.reject(new ut(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new Yp($h(m.path),E,{includeMetadataChanges:!0,qa:!0});return Gp(u,T)})(await xh(r),r.asyncQueue,t,n,s))),s.promise}function TN(r,t,n={}){const s=new Oi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new Jp({next:w=>{E.Nu(),f.enqueueAndForget((()=>Qp(u,T))),w.fromCache&&p.source==="server"?g.reject(new ut(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new Yp(m,E,{includeMetadataChanges:!0,qa:!0});return Gp(u,T)})(await xh(r),r.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="firestore.googleapis.com",iT=!0;class rT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RS,this.ssl=iT}else this.host=t.host,this.ssl=t.ssl??iT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=aS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<XI)throw new ut(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}LC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wS(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class af{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new RC;switch(s.type){case"firstParty":return new DC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=nT.get(n);s&&(ft("ComponentProvider","Removing Datastore"),nT.delete(n),s.terminate())})(this),Promise.resolve()}}function SN(r,t,n,s={}){var g;r=Hn(r,af);const o=To(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${n}`;o&&(t0(`https://${m}`),e0("Firestore",!0)),u.host!==RS&&u.host!==m&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ta(p,f)&&(r._setSettings(p),s.mockUserToken)){let E,T;if(typeof s.mockUserToken=="string")E=s.mockUserToken,T=tn.MOCK_USER;else{E=W1(s.mockUserToken,(g=r._app)==null?void 0:g.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new ut(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new tn(w)}r._authCredentials=new CC(new p0(E,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new oa(this.firestore,t,this._query)}}class pe{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new as(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new pe(this.firestore,t,this._key)}toJSON(){return{type:pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(cu(n,pe._jsonSchema))return new pe(t,s||null,new pt(ie.fromString(n.referencePath)))}}pe._jsonSchemaVersion="firestore/documentReference/1.0",pe._jsonSchema={type:Me("string",pe._jsonSchemaVersion),referencePath:Me("string")};class as extends oa{constructor(t,n,s){super(t,n,$h(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new pe(this.firestore,null,new pt(t))}withConverter(t){return new as(this.firestore,t,this._path)}}function Wp(r,t,...n){if(r=Xe(r),g0("collection","path",t),r instanceof af){const s=ie.fromString(t,...n);return yE(s),new as(r,null,s)}{if(!(r instanceof pe||r instanceof as))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ie.fromString(t,...n));return yE(s),new as(r.firestore,null,s)}}function Xa(r,t,...n){if(r=Xe(r),arguments.length===1&&(t=bp.newId()),g0("doc","path",t),r instanceof af){const s=ie.fromString(t,...n);return gE(s),new pe(r,null,new pt(s))}{if(!(r instanceof pe||r instanceof as))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ie.fromString(t,...n));return gE(s),new pe(r.firestore,r instanceof as?r.converter:null,new pt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="AsyncQueue";class aT{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new kp(this,"async_queue_retry"),this._c=()=>{const s=Im();s&&ft(sT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Im();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Im();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Oi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!wo(t))throw t;ft(sT,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,lr("INTERNAL UNHANDLED ERROR: ",oT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Hp.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&vt(47125,{Pc:oT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function oT(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class ps extends af{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new aT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new aT(t),this._firestoreClient=void 0,await t}}}function AN(r,t){const n=typeof r=="object"?r:s0(),s=typeof r=="string"?r:Ah,o=Sp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=J1("firestore");u&&SN(o,...u)}return o}function yu(r){if(r._terminated)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||bN(r),r._firestoreClient}function bN(r){var s,o,u;const t=r._freezeSettings(),n=(function(m,p,g,E){return new KC(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,wS(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,t);r._componentsProvider||(o=t.localCache)!=null&&o._offlineComponentProvider&&((u=t.localCache)!=null&&u._onlineComponentProvider)&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new gN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Cn(Je.fromBase64String(t))}catch(n){throw new ut(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Cn(Je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Cn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(cu(t,Cn._jsonSchema))return Cn.fromBase64String(t.bytes)}}Cn._jsonSchemaVersion="firestore/bytes/1.0",Cn._jsonSchema={type:Me("string",Cn._jsonSchemaVersion),bytes:Me("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ut(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ut(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ut(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(t){if(cu(t,Vi._jsonSchema))return new Vi(t.latitude,t.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:Me("string",Vi._jsonSchemaVersion),latitude:Me("number"),longitude:Me("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(cu(t,xi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new xi(t.vectorValues);throw new ut(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xi._jsonSchemaVersion="firestore/vectorValue/1.0",xi._jsonSchema={type:Me("string",xi._jsonSchemaVersion),vectorValues:Me("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=/^__.*__$/;class RN{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new vs(t,this.data,this.fieldMask,n,this.fieldTransforms):new du(t,this.data,n,this.fieldTransforms)}}class CS{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new vs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function IS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:r})}}class eg{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new eg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var o;const n=(o=this.path)==null?void 0:o.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){var o;const n=(o=this.path)==null?void 0:o.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Ph(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(IS(this.Ac)&&wN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class CN{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||nf(t)}Cc(t,n,s,o=!1){return new eg({Ac:t,methodName:n,Dc:s,path:$e.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ng(r){const t=r._freezeSettings(),n=nf(r._databaseId);return new CN(r._databaseId,!!t.ignoreUndefinedProperties,n)}function NS(r,t,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,n,o);ig("Data must be an object, but it was:",f,s);const m=DS(s,f);let p,g;if(u.merge)p=new In(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const w=lp(t,T,n);if(!f.contains(w))throw new ut(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);MS(E,w)||E.push(w)}p=new In(E),g=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=f.fieldTransforms;return new RN(new on(m),p,g)}class lf extends tg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof lf}}function IN(r,t,n,s){const o=r.Cc(1,t,n);ig("Data must be an object, but it was:",o,s);const u=[],f=on.empty();_s(s,((p,g)=>{const E=rg(t,p,n);g=Xe(g);const T=o.yc(E);if(g instanceof lf)u.push(E);else{const w=_u(g,T);w!=null&&(u.push(E),f.set(E,w))}}));const m=new In(u);return new CS(f,m,o.fieldTransforms)}function NN(r,t,n,s,o,u){const f=r.Cc(1,t,n),m=[lp(t,s,n)],p=[o];if(u.length%2!=0)throw new ut(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(lp(t,u[w])),p.push(u[w+1]);const g=[],E=on.empty();for(let w=m.length-1;w>=0;--w)if(!MS(g,m[w])){const L=m[w];let Q=p[w];Q=Xe(Q);const X=f.yc(L);if(Q instanceof lf)g.push(L);else{const H=_u(Q,X);H!=null&&(g.push(L),E.set(L,H))}}const T=new In(g);return new CS(E,T,f.fieldTransforms)}function DN(r,t,n,s=!1){return _u(n,r.Cc(s?4:3,t))}function _u(r,t){if(OS(r=Xe(r)))return ig("Unsupported field value:",t,r),DS(r,t);if(r instanceof tg)return(function(s,o){if(!IS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=_u(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=Xe(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return gI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=se.fromDate(s);return{timestampValue:Nh(o.serializer,u)}}if(s instanceof se){const u=new se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Nh(o.serializer,u)}}if(s instanceof Vi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Cn)return{bytesValue:Z0(o.serializer,s._byteString)};if(s instanceof pe){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Vp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof xi)return(function(f,m){return{mapValue:{fields:{[w0]:{stringValue:R0},[bh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Dp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Qh(s)}`)})(r,t)}function DS(r,t){const n={};return v0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_s(r,((s,o)=>{const u=_u(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function OS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof se||r instanceof Vi||r instanceof Cn||r instanceof pe||r instanceof tg||r instanceof xi)}function ig(r,t,n){if(!OS(n)||!y0(n)){const s=Qh(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function lp(r,t,n){if((t=Xe(t))instanceof of)return t._internalPath;if(typeof t=="string")return rg(r,t);throw Ph("Field path arguments must be of type string or ",r,!1,void 0,n)}const ON=new RegExp("[~\\*/\\[\\]]");function rg(r,t,n){if(t.search(ON)>=0)throw Ph(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new of(...t.split("."))._internalPath}catch{throw Ph(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ph(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ut(J.INVALID_ARGUMENT,m+r+p)}function MS(r,t){return r.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new MN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(VS("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MN extends Lh{data(){return super.data()}}function VS(r,t){return typeof t=="string"?rg(r,t):t instanceof of?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sg{}class VN extends sg{}function Pl(r,t,...n){let s=[];t instanceof sg&&s.push(t),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof og)).length,m=u.filter((p=>p instanceof ag)).length;if(f>1||f>0&&m>0)throw new ut(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class ag extends VN{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new ag(t,n,s)}_apply(t){const n=this._parse(t);return PS(t._query,n),new oa(t.firestore,t.converter,Zm(t._query,n))}_parse(t){const n=ng(t.firestore);return(function(u,f,m,p,g,E,T){let w;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ut(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){cT(T,E);const Q=[];for(const X of T)Q.push(uT(p,u,X));w={arrayValue:{values:Q}}}else w=uT(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||cT(T,E),w=DN(m,f,T,E==="in"||E==="not-in");return Oe.create(g,E,w)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class og extends sg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new og(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:si.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)PS(f,p),f=Zm(f,p)})(t._query,n),new oa(t.firestore,t.converter,Zm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function uT(r,t,n){if(typeof(n=Xe(n))=="string"){if(n==="")throw new ut(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!x0(t)&&n.indexOf("/")!==-1)throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ie.fromString(n));if(!pt.isDocumentKey(s))throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return wE(r,new pt(s))}if(n instanceof pe)return wE(r,n._key);throw new ut(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qh(n)}.`)}function cT(r,t){if(!Array.isArray(r)||r.length===0)throw new ut(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function PS(r,t){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ut(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ut(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class LS{convertValue(t,n="none"){switch(fs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(hs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return _s(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){var s,o,u;const n=(u=(o=(s=t.fields)==null?void 0:s[bh].arrayValue)==null?void 0:o.values)==null?void 0:u.map((f=>Ee(f.doubleValue)));return new xi(n)}convertGeoPoint(t){return new Vi(Ee(t.latitude),Ee(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Yh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Wl(t));default:return null}}convertTimestamp(t){const n=cs(t);return new se(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ie.fromString(t);Ht(sS(s),9688,{name:t});const o=new tu(s.get(1),s.get(3)),u=new pt(s.popFirst(5));return o.isEqual(n)||lr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}class xN extends LS{constructor(t){super(),this.firestore=t}convertBytes(t){return new Cn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new pe(this.firestore,null,n)}}class io{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class os extends Lh{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(VS("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=os._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}os._jsonSchemaVersion="firestore/documentSnapshot/1.0",os._jsonSchema={type:Me("string",os._jsonSchemaVersion),bundleSource:Me("string","DocumentSnapshot"),bundleName:Me("string"),bundle:Me("string")};class dh extends os{data(t={}){return super.data(t)}}class Ws{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new io(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new dh(this._firestore,this._userDataWriter,s.key,s,new io(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ut(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new io(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new io(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:PN(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ws._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=bp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function PN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(r){r=Hn(r,pe);const t=Hn(r.firestore,ps);return EN(yu(t),r._key).then((n=>zS(t,r,n)))}Ws._jsonSchemaVersion="firestore/querySnapshot/1.0",Ws._jsonSchema={type:Me("string",Ws._jsonSchemaVersion),bundleSource:Me("string","QuerySnapshot"),bundleName:Me("string"),bundle:Me("string")};class uf extends LS{constructor(t){super(),this.firestore=t}convertBytes(t){return new Cn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new pe(this.firestore,null,n)}}function Ll(r){r=Hn(r,oa);const t=Hn(r.firestore,ps),n=yu(t),s=new uf(t);return xS(r._query),TN(n,r._query).then((o=>new Ws(t,s,r,o)))}function Om(r,t,n){r=Hn(r,pe);const s=Hn(r.firestore,ps),o=US(r.converter,t,n);return kS(s,[NS(ng(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ln.none())])}function LN(r){return kS(Hn(r.firestore,ps),[new tf(r._key,ln.none())])}function UN(r,...t){var p,g,E;r=Xe(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||lT(t[s])||(n=t[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(lT(t[s])){const T=t[s];t[s]=(p=T.next)==null?void 0:p.bind(T),t[s+1]=(g=T.error)==null?void 0:g.bind(T),t[s+2]=(E=T.complete)==null?void 0:E.bind(T)}let u,f,m;if(r instanceof pe)f=Hn(r.firestore,ps),m=$h(r._key.path),u={next:T=>{t[s]&&t[s](zS(f,r,T))},error:t[s+1],complete:t[s+2]};else{const T=Hn(r,oa);f=Hn(T.firestore,ps),m=T._query;const w=new uf(f);u={next:L=>{t[s]&&t[s](new Ws(f,w,T,L))},error:t[s+1],complete:t[s+2]},xS(r._query)}return(function(w,L,Q,X){const H=new Jp(X),it=new Yp(L,H,Q);return w.asyncQueue.enqueueAndForget((async()=>Gp(await xh(w),it))),()=>{H.Nu(),w.asyncQueue.enqueueAndForget((async()=>Qp(await xh(w),it)))}})(yu(f),m,o,u)}function kS(r,t){return(function(s,o){const u=new Oi;return s.asyncQueue.enqueueAndForget((async()=>sN(await _N(s),o,u))),u.promise})(yu(r),t)}function zS(r,t,n){const s=n.docs.get(t._key),o=new uf(r);return new os(r,o,t._key,s,new io(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN={maxAttempts:5};function Bl(r,t){if((r=Xe(r)).firestore!==t)throw new ut(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=ng(t)}get(t){const n=Bl(t,this._firestore),s=new xN(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return vt(24041);const u=o[0];if(u.isFoundDocument())return new Lh(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new Lh(this._firestore,s,n._key,null,n.converter);throw vt(18433,{doc:u})}))}set(t,n,s){const o=Bl(t,this._firestore),u=US(o.converter,n,s),f=NS(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,f),this}update(t,n,s,...o){const u=Bl(t,this._firestore);let f;return f=typeof(n=Xe(n))=="string"||n instanceof of?NN(this._dataReader,"Transaction.update",u._key,n,s,o):IN(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,f),this}delete(t){const n=Bl(t,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN extends zN{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=Bl(t,this._firestore),s=new uf(this._firestore);return super.get(t).then((o=>new os(this._firestore,s,n._key,o._document,new io(!1,!1),n.converter)))}}function hT(r,t,n){r=Hn(r,ps);const s={...kN,...n};return(function(u){if(u.maxAttempts<1)throw new ut(J.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,f,m){const p=new Oi;return u.asyncQueue.enqueueAndForget((async()=>{const g=await vN(u);new pN(u.asyncQueue,g,m,f,p).ju()})),p.promise})(yu(r),(o=>t(new jN(r,o))),s)}(function(t,n=!0){(function(o){Ao=o})(So),co(new ea("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ps(new IC(s.getProvider("auth-internal")),new OC(f,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ut(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(g.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),rs(fE,dE,t),rs(fE,dE,"esm2020")})();var BN="firebase",qN="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rs(BN,qN,"app");function jS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HN=jS,BS=new lu("auth","Firebase",jS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Ep("@firebase/auth");function FN(r,...t){Uh.logLevel<=kt.WARN&&Uh.warn(`Auth (${So}): ${r}`,...t)}function mh(r,...t){Uh.logLevel<=kt.ERROR&&Uh.error(`Auth (${So}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(r,...t){throw lg(r,...t)}function Pi(r,...t){return lg(r,...t)}function qS(r,t,n){const s={...HN(),[t]:n};return new lu("auth","Firebase",s).create(t,{appName:r.name})}function ls(r){return qS(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lg(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return BS.create(r,...t)}function St(r,t,...n){if(!r)throw lg(t,...n)}function ir(r){const t="INTERNAL ASSERTION FAILED: "+r;throw mh(t),new Error(t)}function hr(r,t){r||ir(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function GN(){return fT()==="http:"||fT()==="https:"}function fT(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GN()||sR()||"connection"in navigator)?navigator.onLine:!0}function KN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(t,n){this.shortDelay=t,this.longDelay=n,hr(n>t,"Short delay should be less than long delay!"),this.isMobile=nR()||aR()}get(){return QN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(r,t){hr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XN=new vu(3e4,6e4);function cf(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Co(r,t,n,s,o={}){return FS(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=uu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:t,headers:p,...u};return rR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&To(r.emulatorConfig.host)&&(g.credentials="include"),HS.fetch()(await QS(r,r.config.apiHost,n,m),g)})}async function FS(r,t,n){r._canInitEmulator=!1;const s={...YN,...t};try{const o=new JN(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw rh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw rh(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw rh(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw rh(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw qS(r,E,g);cr(r,E)}}catch(o){if(o instanceof fr)throw o;cr(r,"network-request-failed",{message:String(o)})}}async function GS(r,t,n,s,o={}){const u=await Co(r,t,n,s,o);return"mfaPendingCredential"in u&&cr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function QS(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?ug(r.config,o):`${r.config.apiScheme}://${o}`;return $N.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class JN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Pi(this.auth,"network-request-failed")),XN.get())})}}function rh(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Pi(r,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(r,t){return Co(r,"POST","/v1/accounts:delete",t)}async function kh(r,t){return Co(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function WN(r,t=!1){const n=Xe(r),s=await n.getIdToken(t),o=cg(s);St(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:$l(Mm(o.auth_time)),issuedAtTime:$l(Mm(o.iat)),expirationTime:$l(Mm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Mm(r){return Number(r)*1e3}function cg(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const o=XT(n);return o?JSON.parse(o):(mh("Failed to decode base64 JWT payload"),null)}catch(o){return mh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function dT(r){const t=cg(r);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof fr&&tD(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function tD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zh(r){var T;const t=r.auth,n=await r.getIdToken(),s=await ru(r,kh(t,{idToken:n}));St(s==null?void 0:s.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=(T=o.providerUserInfo)!=null&&T.length?KS(o.providerUserInfo):[],f=iD(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!(f!=null&&f.length),g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new cp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function nD(r){const t=Xe(r);await zh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function iD(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function KS(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(r,t){const n=await FS(r,{},async()=>{const s=uu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await QS(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&To(r.emulatorConfig.host)&&(p.credentials="include"),HS.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sD(r,t){return Co(r,"POST","/v2/accounts:revokeToken",cf(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):dT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){St(t.length!==0,"internal-error");const n=dT(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await rD(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new oo;return s&&(St(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(St(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(St(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(r,t){St(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ii{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new eD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new cp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await ru(this,this.stsTokenManager.getToken(this.auth,t));return St(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return WN(this,t)}reload(){return nD(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ii({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await zh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(ls(this.auth));const t=await this.getIdToken();return await ru(this,ZN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:L,providerData:Q,stsTokenManager:X}=n;St(T&&X,t,"internal-error");const H=oo.fromJSON(this.name,X);St(typeof T=="string",t,"internal-error"),Yr(s,t.name),Yr(o,t.name),St(typeof w=="boolean",t,"internal-error"),St(typeof L=="boolean",t,"internal-error"),Yr(u,t.name),Yr(f,t.name),Yr(m,t.name),Yr(p,t.name),Yr(g,t.name),Yr(E,t.name);const it=new ii({uid:T,auth:t,email:o,emailVerified:w,displayName:s,isAnonymous:L,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:H,createdAt:g,lastLoginAt:E});return Q&&Array.isArray(Q)&&(it.providerData=Q.map(st=>({...st}))),p&&(it._redirectEventId=p),it}static async _fromIdTokenResponse(t,n,s=!1){const o=new oo;o.updateFromServerResponse(n);const u=new ii({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await zh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];St(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?KS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new oo;m.updateFromIdToken(s);const p=new ii({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new cp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=new Map;function rr(r){hr(r instanceof Function,"Expected a class definition");let t=mT.get(r);return t?(hr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,mT.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}YS.type="NONE";const pT=YS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(r,t,n){return`firebase:${r}:${t}:${n}`}class lo{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ph(this.userKey,o.apiKey,u),this.fullPersistenceKey=ph("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await kh(this.auth,{idToken:t}).catch(()=>{});return n?ii._fromGetAccountInfoResponse(this.auth,n,t):null}return ii._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new lo(rr(pT),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||rr(pT);const f=ph(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let T;if(typeof E=="string"){const w=await kh(t,{idToken:E}).catch(()=>{});if(!w)break;T=await ii._fromGetAccountInfoResponse(t,w,E)}else T=ii._fromJSON(t,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new lo(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new lo(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ZS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if($S(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(tA(t))return"Blackberry";if(eA(t))return"Webos";if(XS(t))return"Safari";if((t.includes("chrome/")||JS(t))&&!t.includes("edge/"))return"Chrome";if(WS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function $S(r=en()){return/firefox\//i.test(r)}function XS(r=en()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function JS(r=en()){return/crios\//i.test(r)}function ZS(r=en()){return/iemobile/i.test(r)}function WS(r=en()){return/android/i.test(r)}function tA(r=en()){return/blackberry/i.test(r)}function eA(r=en()){return/webos/i.test(r)}function hg(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function aD(r=en()){var t;return hg(r)&&!!((t=window.navigator)!=null&&t.standalone)}function oD(){return oR()&&document.documentMode===10}function nA(r=en()){return hg(r)||WS(r)||eA(r)||tA(r)||/windows phone/i.test(r)||ZS(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(r,t=[]){let n;switch(r){case"Browser":n=gT(en());break;case"Worker":n=`${gT(en())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${So}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(r,t={}){return Co(r,"GET","/v2/passwordPolicy",cf(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=6;class hD{constructor(t){var s;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??cD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=t.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yT(this),this.idTokenSubscription=new yT(this),this.beforeStateQueue=new lD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=rr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await lo.create(this,t),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await kh(this,{idToken:t}),s=await ii._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var u;if(ni(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===m)&&(p!=null&&p.user)&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(f){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await zh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=KN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ni(this.app))return Promise.reject(ls(this));const n=t?Xe(t):null;return n&&St(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ni(this.app)?Promise.reject(ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await uD(this),n=new hD(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new lu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await sD(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&rr(t)||this._popupRedirectResolver;St(n,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=iA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var n;if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&FN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function hf(r){return Xe(r)}class yT{constructor(t){this.auth=t,this.observer=null,this.addObserver=pR(n=>this.observer=n)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dD(r){fg=r}function mD(r){return fg.loadJS(r)}function pD(){return fg.gapiScript}function gD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(r,t){const n=Sp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ta(u,t??{}))return o;cr(o,"already-initialized")}return n.initialize({options:t})}function _D(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(rr);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function vD(r,t,n){const s=hf(r);St(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=rA(t),{host:f,port:m}=ED(t),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){St(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),St(ta(g,s.config.emulator)&&ta(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,To(f)?(t0(`${u}//${f}${p}`),e0("Auth",!0)):TD()}function rA(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function ED(r){const t=rA(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:_T(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:_T(f)}}}function _T(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function TD(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ir("not implemented")}_getIdTokenResponse(t){return ir("not implemented")}_linkToIdToken(t,n){return ir("not implemented")}_getReauthenticationResolver(t){return ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(r,t){return GS(r,"POST","/v1/accounts:signInWithIdp",cf(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="http://localhost";class ra extends sA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ra(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):cr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ra(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return uo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,uo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,uo(t,n)}buildRequest(){const t={requestUri:SD,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=uu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends aA{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Eu{constructor(){super("facebook.com")}static credential(t){return ra._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Jr.credentialFromTaggedObject(t)}static credentialFromError(t){return Jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Jr.credential(t.oauthAccessToken)}catch{return null}}}Jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ra._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Zr.credentialFromTaggedObject(t)}static credentialFromError(t){return Zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Zr.credential(n,s)}catch{return null}}}Zr.GOOGLE_SIGN_IN_METHOD="google.com";Zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Eu{constructor(){super("github.com")}static credential(t){return ra._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Wr.credentialFromTaggedObject(t)}static credentialFromError(t){return Wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Wr.credential(t.oauthAccessToken)}catch{return null}}}Wr.GITHUB_SIGN_IN_METHOD="github.com";Wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Eu{constructor(){super("twitter.com")}static credential(t,n){return ra._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ts.credentialFromTaggedObject(t)}static credentialFromError(t){return ts.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return ts.credential(n,s)}catch{return null}}}ts.TWITTER_SIGN_IN_METHOD="twitter.com";ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AD(r,t){return GS(r,"POST","/v1/accounts:signUp",cf(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await ii._fromIdTokenResponse(t,s,o),f=vT(s);return new gs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=vT(s);return new gs({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function vT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bD(r){var o;if(ni(r.app))return Promise.reject(ls(r));const t=hf(r);if(await t._initializationPromise,(o=t.currentUser)!=null&&o.isAnonymous)return new gs({user:t.currentUser,providerId:null,operationType:"signIn"});const n=await AD(t,{returnSecureToken:!0}),s=await gs._fromIdTokenResponse(t,"signIn",n,!0);return await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh extends fr{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,jh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new jh(t,n,s,o)}}function oA(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?jh._fromErrorAndOperation(r,u,t,s):u})}async function wD(r,t,n=!1){const s=await ru(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return gs._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RD(r,t,n=!1){const{auth:s}=r;if(ni(s.app))return Promise.reject(ls(s));const o="reauthenticate";try{const u=await ru(r,oA(s,o,t,r),n);St(u.idToken,s,"internal-error");const f=cg(u.idToken);St(f,s,"internal-error");const{sub:m}=f;return St(r.uid===m,s,"user-mismatch"),gs._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&cr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD(r,t,n=!1){if(ni(r.app))return Promise.reject(ls(r));const s="signIn",o=await oA(r,s,t),u=await gs._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function ID(r,t,n,s){return Xe(r).onIdTokenChanged(t,n,s)}function ND(r,t,n){return Xe(r).beforeAuthStateChanged(t,n)}const Bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bh,"1"),this.storage.removeItem(Bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=1e3,OD=10;class uA extends lA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);oD()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,OD):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},DD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}uA.type="LOCAL";const MD=uA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA extends lA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}cA.type="SESSION";const hA=cA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new ff(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await VD(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ff.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=dg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(){return window}function PD(r){Li().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function LD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UD(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function kD(){return fA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="firebaseLocalStorageDb",zD=1,qh="firebaseLocalStorage",mA="fbase_key";class Tu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function df(r,t){return r.transaction([qh],t?"readwrite":"readonly").objectStore(qh)}function jD(){const r=indexedDB.deleteDatabase(dA);return new Tu(r).toPromise()}function hp(){const r=indexedDB.open(dA,zD);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(qh,{keyPath:mA})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(qh)?t(s):(s.close(),await jD(),t(await hp()))})})}async function ET(r,t,n){const s=df(r,!0).put({[mA]:t,value:n});return new Tu(s).toPromise()}async function BD(r,t){const n=df(r,!1).get(t),s=await new Tu(n).toPromise();return s===void 0?null:s.value}function TT(r,t){const n=df(r,!0).delete(t);return new Tu(n).toPromise()}const qD=800,HD=3;class pA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>HD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ff._getInstance(kD()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await LD(),!this.activeServiceWorker)return;this.sender=new xD(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(s=t[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||UD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await hp();return await ET(t,Bh,"1"),await TT(t,Bh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>ET(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>BD(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>TT(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=df(o,!1).getAll();return new Tu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pA.type="LOCAL";const FD=pA;new vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(r,t){return t?rr(t):(St(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg extends sA{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return uo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return uo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return uo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function QD(r){return CD(r.auth,new mg(r),r.bypassAuthState)}function KD(r){const{auth:t,user:n}=r;return St(n,t,"internal-error"),RD(n,new mg(r),r.bypassAuthState)}async function YD(r){const{auth:t,user:n}=r;return St(n,t,"internal-error"),wD(n,new mg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return QD;case"linkViaPopup":case"linkViaRedirect":return YD;case"reauthViaPopup":case"reauthViaRedirect":return KD;default:cr(this.auth,"internal-error")}}resolve(t){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=new vu(2e3,1e4);class ro extends gA{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ro.currentPopupAction&&ro.currentPopupAction.cancel(),ro.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){hr(this.filter.length===1,"Popup operations only handle one event");const t=dg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ro.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,$D.get())};t()}}ro.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="pendingRedirect",gh=new Map;class JD extends gA{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=gh.get(this.auth._key());if(!t){try{const s=await ZD(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}gh.set(this.auth._key(),t)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZD(r,t){const n=eO(t),s=tO(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function WD(r,t){gh.set(r._key(),t)}function tO(r){return rr(r._redirectPersistence)}function eO(r){return ph(XD,r.config.apiKey,r.name)}async function nO(r,t,n=!1){if(ni(r.app))return Promise.reject(ls(r));const s=hf(r),o=GD(s,t),f=await new JD(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=600*1e3;class rO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!sO(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!yA(t)){const o=((s=t.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Pi(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=iO&&this.cachedEventUids.clear(),this.cachedEventUids.has(ST(t))}saveEventToCache(t){this.cachedEventUids.add(ST(t)),this.lastProcessedEventTime=Date.now()}}function ST(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function yA({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function sO(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yA(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aO(r,t={}){return Co(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lO=/^https?/;async function uO(r){if(r.config.emulator)return;const{authorizedDomains:t}=await aO(r);for(const n of t)try{if(cO(n))return}catch{}cr(r,"unauthorized-domain")}function cO(r){const t=up(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!lO.test(n))return!1;if(oO.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=new vu(3e4,6e4);function AT(){const r=Li().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function fO(r){return new Promise((t,n)=>{var o,u,f;function s(){AT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{AT(),n(Pi(r,"network-request-failed"))},timeout:hO.get()})}if((u=(o=Li().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)t(gapi.iframes.getContext());else if((f=Li().gapi)!=null&&f.load)s();else{const m=gD("iframefcb");return Li()[m]=()=>{gapi.load?s():n(Pi(r,"network-request-failed"))},mD(`${pD()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw yh=null,t})}let yh=null;function dO(r){return yh=yh||fO(r),yh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=new vu(5e3,15e3),pO="__/auth/iframe",gO="emulator/auth/iframe",yO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_O=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vO(r){const t=r.config;St(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?ug(t,gO):`https://${r.config.authDomain}/${pO}`,s={apiKey:t.apiKey,appName:r.name,v:So},o=_O.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${uu(s).slice(1)}`}async function EO(r){const t=await dO(r),n=Li().gapi;return St(n,r,"internal-error"),t.open({where:document.body,url:vO(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yO,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Pi(r,"network-request-failed"),m=Li().setTimeout(()=>{u(f)},mO.get());function p(){Li().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SO=500,AO=600,bO="_blank",wO="http://localhost";class bT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RO(r,t,n,s=SO,o=AO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...TO,width:s.toString(),height:o.toString(),top:u,left:f},g=en().toLowerCase();n&&(m=JS(g)?bO:n),$S(g)&&(t=t||wO,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[L,Q])=>`${w}${L}=${Q},`,"");if(aD(g)&&m!=="_self")return CO(t||"",m),new bT(null);const T=window.open(t||"",m,E);St(T,r,"popup-blocked");try{T.focus()}catch{}return new bT(T)}function CO(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO="__/auth/handler",NO="emulator/auth/handler",DO=encodeURIComponent("fac");async function wT(r,t,n,s,o,u){St(r.config.authDomain,r,"auth-domain-config-required"),St(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:So,eventId:o};if(t instanceof aA){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",mR(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(t instanceof Eu){const E=t.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${DO}=${encodeURIComponent(p)}`:"";return`${OO(r)}?${uu(m).slice(1)}${g}`}function OO({config:r}){return r.emulator?ug(r,NO):`https://${r.authDomain}/${IO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="webStorageSupport";class MO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hA,this._completeRedirectFn=nO,this._overrideRedirectResult=WD}async _openPopup(t,n,s,o){var f;hr((f=this.eventManagers[t._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await wT(t,n,s,up(),o);return RO(t,u,dg())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await wT(t,n,s,up(),o);return PD(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(hr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await EO(t),s=new rO(t);return n.register("authEvent",o=>(St(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Vm,{type:Vm},o=>{var f;const u=(f=o==null?void 0:o[0])==null?void 0:f[Vm];u!==void 0&&n(!!u),cr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uO(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return nA()||XS()||hg()}}const VO=MO;var RT="@firebase/auth",CT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LO(r){co(new ea("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;St(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iA(r)},g=new fD(s,o,u,p);return _D(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),co(new ea("auth-internal",t=>{const n=hf(t.getProvider("auth").getImmediate());return(s=>new xO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rs(RT,CT,PO(r)),rs(RT,CT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=300,kO=WT("authIdTokenMaxAge")||UO;let IT=null;const zO=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>kO)return;const o=n==null?void 0:n.token;IT!==o&&(IT=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function jO(r=s0()){const t=Sp(r,"auth");if(t.isInitialized())return t.getImmediate();const n=yD(r,{popupRedirectResolver:VO,persistence:[FD,MD,hA]}),s=WT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=zO(u.toString());ND(n,f,()=>f(n.currentUser)),ID(n,m=>f(m))}}const o=JT("auth");return o&&vD(n,`http://${o}`),n}function BO(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}dD({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Pi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",BO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LO("Browser");const qO={apiKey:"AIzaSyAumcd0vkm9-73yx8AGfT6SB2NgWMu_76Q",authDomain:"burako-leaderboard.firebaseapp.com",projectId:"burako-leaderboard",storageBucket:"burako-leaderboard.firebasestorage.app",messagingSenderId:"928347273041",appId:"1:928347273041:web:31513f64e5a40b67300570"},_A=r0(qO),su=AN(_A),NT=jO(_A),HO=async()=>{NT.currentUser||await bD(NT)},xm=Wp(su,"players"),Pm=Wp(su,"pairs"),no=Wp(su,"games"),Lm=r=>r===void 0?null:r,so=r=>typeof r=="string"?r:r instanceof Date?r.toISOString():r instanceof se?r.toDate().toISOString():new Date().toISOString(),an=(r,t)=>Array.isArray(r)?r:t,FO=r=>{var t,n,s;return{id:r.id,gameId:r.gameId,timestamp:so(r.timestamp),summary:r.summary,type:r.type,snapshot:{teams:an((t=r.snapshot)==null?void 0:t.teams,[]),scores:an((n=r.snapshot)==null?void 0:n.scores,[]),notes:((s=r.snapshot)==null?void 0:s.notes)??void 0}}},ql=(r,t)=>({id:t,playedAt:so(r.playedAt),teams:an(r.teams,[]),scores:an(r.scores,[]),notes:r.notes??void 0,auditTrail:an(r.auditTrail,[]).map(FO)}),sh=(r,t,n,s)=>{const o={teams:r.map(u=>({...u,canasta:{...u.canasta}})),scores:t.map(u=>({...u}))};return n!=null&&(o.notes=n),s&&(o.playedAt=s),o};class GO{constructor(){Pv(this,"seeded",!1)}async ensureSeedData(){if(this.seeded)return;this.seeded=!0;const[t,n]=await Promise.all([Ll(Pl(xm)),Ll(Pl(Pm))]);t.empty&&await Promise.all(B1.map(s=>Om(Xa(xm,s.id),s,{merge:!0}))),n.empty&&await Promise.all(q1.map(s=>Om(Xa(Pm,s.id),s,{merge:!0})))}async listPlayers(){return await this.ensureSeedData(),(await Ll(Pl(xm))).docs.map(n=>n.data())}async listPairs(){return await this.ensureSeedData(),(await Ll(Pl(Pm))).docs.map(n=>n.data())}async listGames(){return(await Ll(Pl(no))).docs.map(n=>ql(n.data(),n.id))}async addGame(t){const n=Xa(no),s=n.id,o=t.playedAt??new Date().toISOString(),u=t.notes??void 0,f={id:Em("audit"),gameId:s,timestamp:new Date().toISOString(),summary:"Game recorded",type:"create",snapshot:sh(t.teams,t.scores,u,o)};await Om(n,{playedAt:o,teams:t.teams,scores:t.scores,notes:Lm(u),auditTrail:[f]});const m=await Dm(n);return ql(m.data()??{},s)}async updateGame(t,n){const s=Xa(no,t);await hT(su,async u=>{const f=await u.get(s);if(!f.exists())throw new Error("Game not found");const m=f.data(),p=an(m.teams,[]),g=an(m.scores,[]),E=m.notes??void 0,T=m.playedAt?so(m.playedAt):void 0,w=n.teams??p,L=n.scores??g,Q=n.notes!==void 0?n.notes:E,X=n.playedAt??T,H={id:Em("audit"),gameId:t,timestamp:new Date().toISOString(),summary:"Game updated",type:"update",snapshot:sh(p,g,E,T)};u.update(s,{teams:w,scores:L,notes:Lm(Q),playedAt:X,auditTrail:[...an(m.auditTrail,[]),H]})});const o=await Dm(s);if(!o.exists())throw new Error("Game not found");return ql(o.data(),o.id)}async undoLastChange(t){const n=Xa(no,t);await hT(su,async o=>{var T,w,L,Q;const u=await o.get(n);if(!u.exists())throw new Error("Game not found");const f=u.data(),m=an(f.auditTrail,[]);if(m.length<=1)throw new Error("Nothing to undo");const p=m[m.length-1],g=sh(an((T=p.snapshot)==null?void 0:T.teams,an(f.teams,[])),an((w=p.snapshot)==null?void 0:w.scores,an(f.scores,[])),((L=p.snapshot)==null?void 0:L.notes)??f.notes??void 0,((Q=p.snapshot)==null?void 0:Q.playedAt)??(f.playedAt?so(f.playedAt):void 0)),E={id:Em("audit"),gameId:t,timestamp:new Date().toISOString(),summary:"Undo applied",type:"undo",snapshot:sh(an(f.teams,[]),an(f.scores,[]),f.notes??void 0,f.playedAt?so(f.playedAt):void 0)};o.update(n,{teams:g.teams,scores:g.scores,notes:Lm(g.notes),playedAt:g.playedAt??(f.playedAt?so(f.playedAt):void 0),auditTrail:[...m.slice(0,-1),E]})});const s=await Dm(n);if(!s.exists())throw new Error("Game not found");return ql(s.data(),s.id)}async deleteGame(t){await LN(Xa(no,t))}}const QO=(r,t)=>UN(no,n=>{const s=n.docs.map(o=>ql(o.data(),o.id));r(s)},n=>t(n)),Ja=!0,Xs=new GO;let DT;const je=j1((r,t)=>({players:[],pairs:[],games:[],loading:!1,initialized:!1,error:void 0,init:async()=>{if(!(t().initialized||t().loading)){r({loading:!0,error:void 0});try{Ja&&await HO();const[n,s,o]=await Promise.all([Xs.listPlayers(),Xs.listPairs(),Xs.listGames()]);Ja&&!DT&&(DT=QO(u=>{r({games:u})},u=>{r({error:u.message})})),r({players:n,pairs:s,games:o,loading:!1,initialized:!0})}catch(n){r({loading:!1,error:n.message})}}},addGame:async n=>{r({loading:!0,error:void 0});try{const s=await Xs.addGame(n);return Ja&&r({loading:!1}),s}catch(s){throw r({loading:!1,error:s.message}),s}},updateGame:async(n,s)=>{r({loading:!0,error:void 0});try{const o=await Xs.updateGame(n,s);return Ja&&r({loading:!1}),o}catch(o){throw r({loading:!1,error:o.message}),o}},undoLastChange:async n=>{r({loading:!0,error:void 0});try{const s=await Xs.undoLastChange(n);return Ja&&r({loading:!1}),s}catch(s){throw r({loading:!1,error:s.message}),s}},deleteGame:async n=>{r({loading:!0,error:void 0});try{await Xs.deleteGame(n),Ja&&r({loading:!1})}catch(s){throw r({loading:!1,error:s.message}),s}}}));function KO(){const r=je(u=>u.init),t=je(u=>u.initialized),n=je(u=>u.loading),s=je(u=>u.error),o=({isActive:u})=>u?"active":void 0;return G.useEffect(()=>{r()},[r]),I.jsxs("div",{className:"app-shell",children:[I.jsxs("header",{className:"app-header",children:[I.jsx("div",{className:"app-brand",children:"Burako Scores"}),I.jsxs("nav",{className:"app-nav",children:[I.jsx(Ul,{to:"/leaderboard",className:o,children:"Leaderboard"}),I.jsx(Ul,{to:"/history",className:o,children:"History"}),I.jsx(Ul,{to:"/info",className:o,children:"Info"}),I.jsx(Ul,{to:"/add",className:o,children:"Add Game"})]})]}),I.jsx("main",{className:"app-main",children:n&&!t?I.jsx("div",{className:"status-card",children:"Loading games"}):I.jsx(i1,{})}),s?I.jsx("div",{className:"status-banner",children:s}):null]})}const un={jokers:50,twos:20,aces:15,threeToSeven:5,eightToKing:10},vA=200,EA=100,TA=100,SA=-100,YO=(r,t)=>r*vA+t*EA,$O=(r,t)=>({winnerBonus:r?TA:0,muertoBonus:t?0:SA}),XO=r=>{const t=[];if(r.cardPoints&&t.push(`Cards ${r.cardPoints}`),r.canastaPoints&&t.push(`Canastas ${r.canastaPoints}`),r.winnerBonus&&t.push(`Winner +${r.winnerBonus}`),r.muertoBonus){const n=r.muertoBonus>0?"+":"";t.push(`Muerto ${n}${r.muertoBonus}`)}return r.minusPoints&&t.push(`Minus -${r.minusPoints}`),t.join("  ")},JO=({total:r})=>({total:r,breakdown:`Final total ${r}`,components:{cardPoints:0,canastaPoints:0,winnerBonus:0,muertoBonus:0,minusPoints:0}}),AA=r=>{const t=YO(r.cleanCanastas,r.dirtyCanastas),{winnerBonus:n,muertoBonus:s}=$O(r.winner,r.tookMuerto),o={cardPoints:r.cardPoints,canastaPoints:t,winnerBonus:n,muertoBonus:s,minusPoints:r.minusPoints};return{total:r.cardPoints+t+n+s-r.minusPoints,components:o,breakdown:XO(o)}},ZO=r=>r.jokers*un.jokers+r.twos*un.twos+r.aces*un.aces+r.threeToSeven*un.threeToSeven+r.eightToKing*un.eightToKing,WO=r=>{const t=ZO(r.cardCounts);return AA({cardPoints:t,cleanCanastas:r.cleanCanastas,dirtyCanastas:r.dirtyCanastas,minusPoints:r.minusPoints,tookMuerto:r.tookMuerto,winner:r.winner})},tM=r=>{const t=JO(r),n={mode:"manual",enteredTotal:r.total,breakdown:t.breakdown,components:t.components};return{total:t.total,detail:n}},eM=r=>{const t=AA(r),n={...r,mode:"summary",calculatedTotal:t.total,breakdown:t.breakdown,components:t.components};return{total:t.total,detail:n}},nM=r=>{const t=WO(r),n={...r,mode:"cards",cardCounts:{...r.cardCounts},calculatedTotal:t.total,breakdown:t.breakdown,components:t.components};return{total:t.total,detail:n}},iM=[{field:"jokers",label:"Jokers (50 pts)"},{field:"twos",label:"2s (20 pts)"},{field:"aces",label:"Aces (15 pts)"},{field:"threeToSeven",label:"37 (5 pts)"},{field:"eightToKing",label:"8K (10 pts)"}],rM=[{value:"manual",label:"Manual total",description:"Enter the final score directly."},{value:"summary",label:"Summary inputs",description:"Use card points, canastas, winner, bonus, and minuses."},{value:"cards",label:"Card breakdown",description:"Track card counts, canastas, winner, and minus points."}],_h=()=>({jokers:0,twos:0,aces:0,threeToSeven:0,eightToKing:0}),Um=r=>{const t=r.getTimezoneOffset();return new Date(r.getTime()-t*60*1e3).toISOString().slice(0,16)},$r=(r="")=>({pairId:r,cleanCanastas:0,dirtyCanastas:0,scoringMode:"manual",manualTotal:0,cardPoints:0,minusPoints:0,tookMuerto:!1,winner:!1,cardCounts:_h()}),sM=r=>r.jokers*un.jokers+r.twos*un.twos+r.aces*un.aces+r.threeToSeven*un.threeToSeven+r.eightToKing*un.eightToKing,km=r=>{if(r.scoringMode==="manual"){const{total:s,detail:o}=tM({total:r.manualTotal});return{total:s,detail:o}}if(r.scoringMode==="summary"){const{total:s,detail:o}=eM({cardPoints:r.cardPoints===0?sM(r.cardCounts):r.cardPoints,cleanCanastas:r.cleanCanastas,dirtyCanastas:r.dirtyCanastas,minusPoints:r.minusPoints,tookMuerto:r.tookMuerto,winner:r.winner});return{total:s,detail:o}}const{total:t,detail:n}=nM({cardCounts:r.cardCounts,cleanCanastas:r.cleanCanastas,dirtyCanastas:r.dirtyCanastas,minusPoints:r.minusPoints,tookMuerto:r.tookMuerto,winner:r.winner});return{total:t,detail:n}};function aM(){const r=je(q=>q.players),t=je(q=>q.pairs),n=je(q=>q.addGame),s=je(q=>q.loading),[o,u]=G.useState(()=>$r()),[f,m]=G.useState(()=>$r()),[p,g]=G.useState(""),[E,T]=G.useState(()=>Um(new Date)),[w,L]=G.useState(),[Q,X]=G.useState(),[H,it]=G.useState(!1),[st,rt]=G.useState(""),_t=G.useMemo(()=>new Map(r.map(q=>[q.id,q.name])),[r]),wt=G.useMemo(()=>new Map(t.map(q=>[q.id,q])),[t]),bt=q=>q.players.map(tt=>_t.get(tt)??tt).join(" & "),b=G.useMemo(()=>km(o),[o]),R=G.useMemo(()=>km(f),[f]),C=G.useMemo(()=>{const q=[];for(let tt=0;tt<t.length;tt+=1)for(let ct=tt+1;ct<t.length;ct+=1){const ht=t[tt],Ct=t[ct],Mt=new Set([...ht.players,...Ct.players]);if(ht.players.some(mr=>Ct.players.includes(mr))||Mt.size!==4)continue;const dr=`${bt(ht)} vs ${bt(Ct)}`;q.push({id:`${ht.id}__${Ct.id}`,pairIds:[ht.id,Ct.id],label:dr})}return q},[t,_t]);G.useEffect(()=>{if(C.length===0)return;if(!C.some(tt=>tt.id===st)){const tt=C[0];rt(tt.id),u($r(tt.pairIds[0])),m($r(tt.pairIds[1]))}},[C,st]),G.useEffect(()=>{if(!st)return;const q=C.find(tt=>tt.id===st);q&&(u(tt=>tt.pairId===q.pairIds[0]?tt:$r(q.pairIds[0])),m(tt=>tt.pairId===q.pairIds[1]?tt:$r(q.pairIds[1])))},[C,st]);const D=q=>{rt(q.target.value)},M=(q,tt)=>{q==="A"?u(ct=>tt({...ct})):m(ct=>tt({...ct}))},P=(q,tt)=>ct=>{const ht=Number.parseInt(ct.target.value,10),Ct=Number.isNaN(ht)?0:ht,Mt=tt==="manualTotal"?Ct:Math.max(0,Ct);M(q,$t=>({...$t,[tt]:Mt}))},N=(q,tt)=>ct=>{const ht=ct.target.checked;M(q,Ct=>({...Ct,[tt]:ht}))},Ot=(q,tt)=>ct=>{const ht=Number.parseInt(ct.target.value,10),Ct=Number.isNaN(ht)?0:Math.max(0,ht);M(q,Mt=>({...Mt,cardCounts:{...Mt.cardCounts,[tt]:Ct}}))},le=q=>tt=>{const ct=tt.target.value;M(q,ht=>ct==="manual"?{...ht,scoringMode:ct,manualTotal:0,cardPoints:0,minusPoints:0,tookMuerto:!1,winner:!1,cardCounts:_h()}:ct==="summary"?{...ht,scoringMode:ct,cardPoints:0,minusPoints:0,tookMuerto:!1,winner:!1,cardCounts:_h()}:{...ht,scoringMode:ct,minusPoints:0,tookMuerto:!1,winner:!1,cardCounts:_h()})},Y=q=>{q.target.select()},ot=()=>{const q=C.find(tt=>tt.id===st);u($r((q==null?void 0:q.pairIds[0])??"")),m($r((q==null?void 0:q.pairIds[1])??"")),g(""),T(Um(new Date))},gt=q=>{const tt=new Map;for(const ct of q){const ht=wt.get(ct.pairId);if(ht)for(const Ct of ht.players){const Mt=tt.get(Ct)??0;tt.set(Ct,Mt+ct.totalPoints)}}return Array.from(tt.entries()).map(([ct,ht])=>({playerId:ct,points:ht}))},Pt=(q,tt)=>{if(!q||!wt.get(q))return;const{total:ht,detail:Ct}=km(tt);return{pairId:q,totalPoints:ht,canasta:{cleanCanastas:tt.cleanCanastas,dirtyCanastas:tt.dirtyCanastas},scoring:Ct}},Qt=async q=>{if(q.preventDefault(),L(void 0),X(void 0),!o.pairId||!f.pairId){L("Select both teams before submitting.");return}const tt=wt.get(o.pairId),ct=wt.get(f.pairId);if(!tt||!ct){L("Selected teams are unavailable.");return}if(tt.players.some($t=>ct.players.includes($t))){L("Teams cannot share players. Choose distinct pairings.");return}const Ct=[Pt(o.pairId,o),Pt(f.pairId,f)];if(Ct.some($t=>$t===void 0)){L("Unable to build team results.");return}const Mt=gt(Ct);try{it(!0),await n({playedAt:new Date(E).toISOString(),teams:Ct,scores:Mt,notes:p.trim()?p.trim():void 0}),X("Game recorded successfully."),ot()}catch($t){L($t.message)}finally{it(!1)}},x=q=>{if(!q)return"";const tt=wt.get(q);return tt?bt(tt):""},W=(q,tt,ct)=>{const ht=q==="A"?"teamA":"teamB",Ct=tt.scoringMode==="manual",Mt=tt.scoringMode==="summary";return I.jsxs("section",{className:"team-scoring-card",children:[I.jsxs("header",{className:"team-scoring-card__header",children:[I.jsxs("h2",{children:["Team ",q]}),I.jsx("p",{className:"team-scoring-card__subtitle",children:x(tt.pairId)})]}),I.jsxs("div",{className:"field",children:[I.jsx("span",{className:"field-label",children:"Scoring mode"}),I.jsx("div",{className:"radio-group",children:rM.map($t=>I.jsxs("label",{className:"radio-option",children:[I.jsx("input",{type:"radio",name:`scoring-mode-${q}`,value:$t.value,checked:tt.scoringMode===$t.value,onChange:le(q)}),I.jsxs("div",{className:"radio-option__content",children:[I.jsx("span",{className:"radio-option__label",children:$t.label}),I.jsx("span",{className:"radio-option__description",children:$t.description})]})]},$t.value))})]}),Ct?I.jsxs("div",{className:"field",children:[I.jsx("label",{className:"field-label",htmlFor:`${ht}-manual-total`,children:"Manual total"}),I.jsx("input",{id:`${ht}-manual-total`,className:"field-control",type:"number",min:0,value:tt.manualTotal===0?"":tt.manualTotal,onChange:P(q,"manualTotal"),onFocus:Y,placeholder:"0"})]}):I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"field grid",children:[I.jsx("label",{className:"field-label",htmlFor:`${ht}-clean`,children:"Clean canastas"}),I.jsx("input",{id:`${ht}-clean`,className:"field-control",type:"number",min:0,value:tt.cleanCanastas===0?"":tt.cleanCanastas,onChange:P(q,"cleanCanastas"),onFocus:Y,placeholder:"0"}),I.jsx("label",{className:"field-label",htmlFor:`${ht}-dirty`,children:"Dirty canastas"}),I.jsx("input",{id:`${ht}-dirty`,className:"field-control",type:"number",min:0,value:tt.dirtyCanastas===0?"":tt.dirtyCanastas,onChange:P(q,"dirtyCanastas"),onFocus:Y,placeholder:"0"})]}),Mt?I.jsxs("div",{className:"field",children:[I.jsx("label",{className:"field-label",htmlFor:`${ht}-card-points`,children:"Card points"}),I.jsx("input",{id:`${ht}-card-points`,className:"field-control",type:"number",min:0,value:tt.cardPoints===0?"":tt.cardPoints,onChange:P(q,"cardPoints"),onFocus:Y,placeholder:"0"})]}):I.jsx("div",{className:"field grid",children:iM.map($t=>I.jsxs("div",{className:"field",children:[I.jsx("label",{className:"field-label",htmlFor:`${ht}-${$t.field}`,children:$t.label}),I.jsx("input",{id:`${ht}-${$t.field}`,className:"field-control",type:"number",min:0,value:tt.cardCounts[$t.field]===0?"":tt.cardCounts[$t.field],onChange:Ot(q,$t.field),onFocus:Y,placeholder:"0"})]},$t.field))}),I.jsxs("div",{className:"field",children:[I.jsx("label",{className:"field-label",htmlFor:`${ht}-minus`,children:"Minus points"}),I.jsx("input",{id:`${ht}-minus`,className:"field-control",type:"number",min:0,value:tt.minusPoints===0?"":tt.minusPoints,onChange:P(q,"minusPoints"),onFocus:Y,placeholder:"0"})]}),I.jsxs("div",{className:"field checkbox-row",children:[I.jsxs("label",{className:"checkbox",children:[I.jsx("input",{type:"checkbox",checked:tt.winner,onChange:N(q,"winner")}),"Winner"]}),I.jsxs("label",{className:"checkbox",children:[I.jsx("input",{type:"checkbox",checked:tt.tookMuerto,onChange:N(q,"tookMuerto")}),"Took muerto"]})]})]}),I.jsxs("div",{className:"team-summary",children:[I.jsxs("span",{className:"team-summary__total",children:[ct.total," pts"]}),I.jsx("span",{className:"hint",children:ct.detail.breakdown})]})]})},lt=r.length===4&&C.length>0;return I.jsxs("section",{className:"panel",children:[I.jsxs("header",{className:"panel-header",children:[I.jsx("h1",{children:"Add Game"}),I.jsx("p",{children:"Capture scores, canasta details, and notes for the latest round."})]}),I.jsxs("div",{className:"field",children:[I.jsx("label",{className:"field-label",htmlFor:"played-at",children:"Played at"}),I.jsx("input",{id:"played-at",className:"field-control",type:"datetime-local",value:E,max:Um(new Date),onChange:q=>T(q.target.value)})]}),lt?I.jsxs("form",{className:"form-grid",onSubmit:Qt,children:[I.jsxs("fieldset",{className:"field-set",children:[I.jsx("legend",{children:"Game Setup"}),I.jsxs("div",{className:"field",children:[I.jsx("label",{className:"field-label",htmlFor:"matchup",children:"Matchup"}),I.jsxs("select",{id:"matchup",className:"field-control",value:st,onChange:D,required:!0,children:[I.jsx("option",{value:"",children:"Select matchup"}),C.map(q=>I.jsx("option",{value:q.id,children:q.label},q.id))]})]}),I.jsxs("div",{className:"matchup-summary",children:[I.jsxs("div",{className:"team-chip",children:[I.jsx("span",{className:"team-chip__label",children:"Team A"}),I.jsx("span",{className:"team-chip__value",children:x(o.pairId)})]}),I.jsxs("div",{className:"team-chip",children:[I.jsx("span",{className:"team-chip__label",children:"Team B"}),I.jsx("span",{className:"team-chip__value",children:x(f.pairId)})]})]}),I.jsxs("div",{className:"team-scoring-grid",children:[W("A",o,b),W("B",f,R)]})]}),I.jsxs("div",{className:"field full-width",children:[I.jsx("label",{className:"field-label",htmlFor:"notes",children:"Notes"}),I.jsx("textarea",{id:"notes",className:"field-control",rows:3,value:p,onChange:q=>g(q.target.value),placeholder:"Optional observations or highlights"})]}),w?I.jsx("div",{className:"error-message",children:w}):null,Q?I.jsx("div",{className:"success-message",children:Q}):null,I.jsxs("div",{className:"form-actions",children:[I.jsx("button",{type:"submit",disabled:H||s,children:H?"Saving":"Save Game"}),I.jsx("button",{type:"button",className:"secondary",onClick:ot,disabled:H,children:"Reset"})]})]}):I.jsx("div",{className:"status-card",children:"Roster is loading"})]})}function oM(){return I.jsxs("section",{className:"panel info-panel",children:[I.jsxs("header",{className:"panel-header",children:[I.jsx("h1",{children:"How Burako Scores Works"}),I.jsx("p",{children:"Reference guide for the scoring rules, using the app, and the core features."})]}),I.jsxs("article",{className:"info-section",children:[I.jsx("h2",{children:"Points System"}),I.jsx("p",{children:"The calculator follows the standard Burako scoring rules used by your group:"}),I.jsxs("ul",{className:"info-list",children:[I.jsxs("li",{children:[I.jsx("strong",{children:"Clean canasta:"})," +",vA," points each."]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Dirty canasta:"})," +",EA," points each."]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Going out first:"})," +",TA," point bonus for the winning team."]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Muerto penalty:"})," ",SA,"/player if the team does not pick up the muerto. When a team takes the muerto, the penalty is waived."]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Minus points:"})," Enter any remaining card values at the end of the round; they are subtracted from the team total."]})]}),I.jsxs("details",{className:"info-details",children:[I.jsx("summary",{children:"Card point reference"}),I.jsxs("table",{className:"info-table",children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"Card"}),I.jsx("th",{children:"Points"})]})}),I.jsxs("tbody",{children:[I.jsxs("tr",{children:[I.jsx("td",{children:"Jokers"}),I.jsx("td",{children:un.jokers})]}),I.jsxs("tr",{children:[I.jsx("td",{children:"Twos"}),I.jsx("td",{children:un.twos})]}),I.jsxs("tr",{children:[I.jsx("td",{children:"Aces"}),I.jsx("td",{children:un.aces})]}),I.jsxs("tr",{children:[I.jsx("td",{children:"37"}),I.jsx("td",{children:un.threeToSeven})]}),I.jsxs("tr",{children:[I.jsx("td",{children:"8King"}),I.jsx("td",{children:un.eightToKing})]})]})]})]})]}),I.jsxs("article",{className:"info-section",children:[I.jsx("h2",{children:"Recording a Game"}),I.jsxs("ol",{className:"info-steps",children:[I.jsx("li",{children:"Open the Add Game page and choose the matchup."}),I.jsx("li",{children:"Select a scoring mode (manual, summary inputs, or card breakdown)."}),I.jsx("li",{children:"Fill the relevant canasta counts, card totals, minus points, winner, and muerto toggles."}),I.jsx("li",{children:"Add optional notes for extra context."}),I.jsx("li",{children:"Save the game to update the history and leaderboard instantly."})]}),I.jsx("p",{children:"The app divides team totals across players automatically, so you no longer need to enter individual scores."})]}),I.jsxs("article",{className:"info-section",children:[I.jsx("h2",{children:"Key Features"}),I.jsxs("ul",{className:"info-list",children:[I.jsxs("li",{children:[I.jsx("strong",{children:"Smart scoring:"})," Supports manual, summary, and full card-count inputs with automatic breakdowns and validation."]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Instant history:"})," Every saved game appears in the history feed with a detailed audit trail."]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Live leaderboard:"})," Player totals and averages update after each game so standings stay accurate."]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Notes archive:"})," Keep track of highlights or house rules per game for future reference."]}),I.jsxs("li",{children:[I.jsx("strong",{children:"Device-friendly:"})," Works great on tablets at the table and supports install-as-app via PWA."]})]})]})]})}const OT=r=>{const t=new Date(r);if(Number.isNaN(t.getTime()))return"";const n=t.getTimezoneOffset();return new Date(t.getTime()-n*60*1e3).toISOString().slice(0,16)};function lM(){const r=je(b=>b.games),t=je(b=>b.players),n=je(b=>b.pairs),s=je(b=>b.updateGame),o=je(b=>b.undoLastChange),u=je(b=>b.deleteGame),f=je(b=>b.loading),m=G.useMemo(()=>new Map(t.map(b=>[b.id,b.name])),[t]),p=G.useMemo(()=>new Map(n.map(b=>[b.id,b])),[n]),[g,E]=G.useState(),[T,w]=G.useState({}),[L,Q]=G.useState(),X=b=>{E(b.id),w(R=>({...R,[b.id]:{teamTotals:Object.fromEntries(b.teams.map(C=>[C.pairId,C.totalPoints])),notes:b.notes??"",playedAt:b.playedAt}})),Q(void 0)},H=()=>{E(void 0),Q(void 0)},it=(b,R)=>C=>{const D=Number.parseInt(C.target.value,10);w(M=>{const P=M[b];return P?{...M,[b]:{...P,teamTotals:{...P.teamTotals,[R]:Number.isNaN(D)?0:D}}}:M})},st=b=>R=>{const C=R.target.value;w(D=>({...D,[b]:{...D[b],notes:C}}))},rt=b=>R=>{const C=R.target.value;w(D=>{const M=D[b];if(!M)return D;if(!C)return{...D,[b]:{...M,playedAt:M.playedAt}};const P=new Date(C);return Number.isNaN(P.getTime())?D:{...D,[b]:{...M,playedAt:P.toISOString()}}})},_t=async b=>{const R=T[b.id];if(!R)return;const C=b.teams.map(Ot=>({...Ot,totalPoints:R.teamTotals[Ot.pairId]??Ot.totalPoints})),D=new Map;for(const Ot of C){const le=p.get(Ot.pairId);if(le)for(const Y of le.players)D.set(Y,Ot.totalPoints)}const M=b.scores.map(Ot=>({playerId:Ot.playerId,points:D.get(Ot.playerId)??Ot.points})),P={teams:C,scores:M,notes:R.notes.trim()?R.notes.trim():void 0},N=R.playedAt!==b.playedAt?{...P,playedAt:new Date(R.playedAt).toISOString()}:P;try{await s(b.id,N),E(void 0),Q(void 0)}catch(Ot){Q(Ot.message)}},wt=async b=>{try{await o(b)}catch(R){Q(R.message)}},bt=async b=>{if(window.confirm("Delete this game permanently?"))try{await u(b)}catch(R){Q(R.message)}};return r.length===0?I.jsx("div",{className:"panel",children:"No games recorded yet."}):I.jsxs("section",{className:"panel",children:[I.jsxs("header",{className:"panel-header",children:[I.jsx("h1",{children:"Game History"}),I.jsx("p",{children:"Review every round, adjust scores, or undo the latest change."})]}),L?I.jsx("div",{className:"error-message",children:L}):null,I.jsx("div",{className:"history-list",children:r.slice().sort((b,R)=>new Date(R.playedAt).getTime()-new Date(b.playedAt).getTime()).map(b=>{const R=g===b.id,C=T[b.id];return I.jsxs("article",{className:"history-card",children:[I.jsxs("header",{className:"history-card__header",children:[I.jsxs("div",{children:[R?I.jsxs("div",{className:"field",children:[I.jsx("label",{className:"field-label",htmlFor:`${b.id}-played-at`,children:"Played at"}),I.jsx("input",{id:`${b.id}-played-at`,className:"field-control",type:"datetime-local",value:OT(C?C.playedAt:b.playedAt),onChange:rt(b.id)})]}):I.jsxs("h2",{children:["Game on ",new Date(b.playedAt).toLocaleString()]}),I.jsxs("p",{className:"muted",children:["Teams:"," ",b.teams.map(D=>{const M=p.get(D.pairId);return M?`${M.players.map(N=>m.get(N)??N).join(" & ")} (${D.totalPoints} pts)`:D.pairId}).join(" vs ")]})]}),I.jsx("div",{className:"history-card__actions",children:R?I.jsxs(I.Fragment,{children:[I.jsx("button",{type:"button",onClick:()=>_t(b),disabled:f,children:"Save"}),I.jsx("button",{type:"button",className:"secondary",onClick:H,disabled:f,children:"Cancel"})]}):I.jsxs(I.Fragment,{children:[I.jsx("button",{type:"button",onClick:()=>X(b),disabled:f,children:"Edit"}),I.jsx("button",{type:"button",className:"secondary",onClick:()=>wt(b.id),disabled:f,children:"Undo"}),I.jsx("button",{type:"button",className:"danger",onClick:()=>bt(b.id),disabled:f,children:"Delete"})]})})]}),R?I.jsxs("div",{className:"history-card__body",children:[I.jsx("div",{className:"scores-grid",children:b.teams.map(D=>{const M=p.get(D.pairId),P=M?M.players.map(N=>m.get(N)??N).join(" & "):D.pairId;return I.jsxs("div",{className:"field",children:[I.jsx("label",{className:"field-label",htmlFor:`${b.id}-${D.pairId}`,children:P}),I.jsx("input",{id:`${b.id}-${D.pairId}`,className:"field-control",type:"number",value:C&&C.teamTotals[D.pairId]!==void 0?C.teamTotals[D.pairId]:"",placeholder:((C==null?void 0:C.teamTotals[D.pairId])??D.totalPoints).toString(),onChange:it(b.id,D.pairId)})]},D.pairId)})}),I.jsxs("div",{className:"field full-width",children:[I.jsx("label",{className:"field-label",htmlFor:`${b.id}-notes`,children:"Notes"}),I.jsx("textarea",{id:`${b.id}-notes`,className:"field-control",rows:3,value:(C==null?void 0:C.notes)??b.notes??"",onChange:st(b.id)})]})]}):I.jsxs("div",{className:"history-card__body",children:[I.jsx("ul",{className:"score-list",children:b.scores.map(D=>I.jsxs("li",{children:[I.jsx("span",{children:m.get(D.playerId)}),I.jsxs("span",{children:[D.points," pts"]})]},D.playerId))}),b.notes?I.jsxs("p",{className:"muted",children:["Notes: ",b.notes]}):null,I.jsxs("details",{className:"audit-trail",children:[I.jsx("summary",{children:"Audit trail"}),I.jsx("ul",{children:b.auditTrail.map(D=>I.jsxs("li",{children:[I.jsx("span",{children:new Date(D.timestamp).toLocaleString()}),I.jsxs("span",{children:["  ",D.type.toUpperCase(),": ",D.summary]})]},D.id))})]})]})]},b.id)})})]})}function uM(r){const t=new Map;for(const n of r)for(const s of n.scores){const o=t.get(s.playerId)??{playerId:s.playerId,totalPoints:0,gamesPlayed:0,lastPlayedAt:void 0};o.totalPoints+=s.points,o.gamesPlayed+=1,o.lastPlayedAt=n.playedAt,t.set(s.playerId,o)}return Array.from(t.values()).map(n=>({playerId:n.playerId,totalPoints:n.totalPoints,gamesPlayed:n.gamesPlayed,averagePoints:n.gamesPlayed===0?0:Number((n.totalPoints/n.gamesPlayed).toFixed(2)),lastPlayedAt:n.lastPlayedAt})).sort((n,s)=>s.totalPoints-n.totalPoints||s.averagePoints-n.averagePoints)}function cM(r){const t=new Map;for(const n of r)for(const s of n.teams){const o=t.get(s.pairId)??{pairId:s.pairId,totalPoints:0,gamesPlayed:0,lastPlayedAt:void 0};o.totalPoints+=s.totalPoints,o.gamesPlayed+=1,o.lastPlayedAt=n.playedAt,t.set(s.pairId,o)}return Array.from(t.values()).map(n=>({pairId:n.pairId,totalPoints:n.totalPoints,gamesPlayed:n.gamesPlayed,averagePoints:n.gamesPlayed===0?0:Number((n.totalPoints/n.gamesPlayed).toFixed(2)),lastPlayedAt:n.lastPlayedAt})).sort((n,s)=>s.totalPoints-n.totalPoints||s.averagePoints-n.averagePoints)}function hM(){const r=je(m=>m.players),t=je(m=>m.games),n=je(m=>m.pairs),s=G.useMemo(()=>uM(t),[t]),o=G.useMemo(()=>cM(t),[t]),u=G.useMemo(()=>new Map(r.map(m=>[m.id,m.name])),[r]),f=G.useMemo(()=>new Map(n.map(m=>[m.id,m])),[n]);return s.length===0?I.jsx("div",{className:"panel",children:"No games recorded yet."}):I.jsxs("section",{className:"panel",children:[I.jsx("header",{className:"panel-header",children:I.jsx("h1",{children:"Leaderboard"})}),I.jsx("h2",{className:"section-title",children:"Top Players"}),I.jsxs("table",{className:"table",children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"Player"}),I.jsx("th",{children:"Total Points"}),I.jsx("th",{children:"Games"}),I.jsx("th",{children:"Average"}),I.jsx("th",{children:"Last Played"})]})}),I.jsx("tbody",{children:s.map(m=>I.jsxs("tr",{children:[I.jsx("td",{"data-label":"Player",children:u.get(m.playerId)??m.playerId}),I.jsx("td",{"data-label":"Total Points",children:m.totalPoints}),I.jsx("td",{"data-label":"Games",children:m.gamesPlayed}),I.jsx("td",{"data-label":"Average",children:m.averagePoints}),I.jsx("td",{"data-label":"Last Played",children:m.lastPlayedAt?new Date(m.lastPlayedAt).toLocaleString():""})]},m.playerId))})]}),o.length>0?I.jsxs(I.Fragment,{children:[I.jsx("h2",{className:"section-title",children:"Top Pairs"}),I.jsxs("table",{className:"table",children:[I.jsx("thead",{children:I.jsxs("tr",{children:[I.jsx("th",{children:"Pair"}),I.jsx("th",{children:"Total Points"}),I.jsx("th",{children:"Games"}),I.jsx("th",{children:"Average"}),I.jsx("th",{children:"Last Played"})]})}),I.jsx("tbody",{children:o.map(m=>{const p=f.get(m.pairId),g=p?p.players.map(E=>u.get(E)??E).join(" & "):m.pairId;return I.jsxs("tr",{children:[I.jsx("td",{"data-label":"Pair",children:g}),I.jsx("td",{"data-label":"Total Points",children:m.totalPoints}),I.jsx("td",{"data-label":"Games",children:m.gamesPlayed}),I.jsx("td",{"data-label":"Average",children:m.averagePoints}),I.jsx("td",{"data-label":"Last Played",children:m.lastPlayedAt?new Date(m.lastPlayedAt).toLocaleString():""})]},m.pairId)})})]})]}):null]})}function fM(){return I.jsx(s1,{children:I.jsxs(Xr,{element:I.jsx(KO,{}),children:[I.jsx(Xr,{index:!0,element:I.jsx(Xv,{to:"/leaderboard",replace:!0})}),I.jsx(Xr,{path:"/leaderboard",element:I.jsx(hM,{})}),I.jsx(Xr,{path:"/history",element:I.jsx(lM,{})}),I.jsx(Xr,{path:"/info",element:I.jsx(oM,{})}),I.jsx(Xr,{path:"/add",element:I.jsx(aM,{})}),I.jsx(Xr,{path:"*",element:I.jsx(Xv,{to:"/leaderboard",replace:!0})})]})})}fw.createRoot(document.getElementById("root")).render(I.jsx(G.StrictMode,{children:I.jsx(I1,{basename:"/burako_leaderboard/",children:I.jsx(fM,{})})}));
