var Zb=Object.defineProperty;var Wb=(r,t,n)=>t in r?Zb(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n;var Mv=(r,t,n)=>Wb(r,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function tw(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var cm={exports:{}},Dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function ew(){if(Vv)return Dl;Vv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Dl.Fragment=t,Dl.jsx=n,Dl.jsxs=n,Dl}var xv;function nw(){return xv||(xv=1,cm.exports=ew()),cm.exports}var D=nw(),hm={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function iw(){if(Pv)return Rt;Pv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),b=Symbol.iterator;function L(x){return x===null||typeof x!="object"?null:(x=b&&x[b]||x["@@iterator"],typeof x=="function"?x:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,H={};function rt(x,P,F){this.props=x,this.context=P,this.refs=H,this.updater=F||Y}rt.prototype.isReactComponent={},rt.prototype.setState=function(x,P){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,P,"setState")},rt.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function lt(){}lt.prototype=rt.prototype;function it(x,P,F){this.props=x,this.context=P,this.refs=H,this.updater=F||Y}var _t=it.prototype=new lt;_t.constructor=it,Z(_t,rt.prototype),_t.isPureReactComponent=!0;var Dt=Array.isArray;function nt(){}var C={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function w(x,P,F){var st=F.ref;return{$$typeof:r,type:x,key:P,ref:st!==void 0?st:null,props:F}}function O(x,P){return w(x.type,P,x.props)}function M(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function U(x){var P={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(F){return P[F]})}var I=/\/+/g;function qt(x,P){return typeof x=="object"&&x!==null&&x.key!=null?U(""+x.key):P.toString(36)}function he(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(nt,nt):(x.status="pending",x.then(function(P){x.status==="pending"&&(x.status="fulfilled",x.value=P)},function(P){x.status==="pending"&&(x.status="rejected",x.reason=P)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function $(x,P,F,st,at){var ft=typeof x;(ft==="undefined"||ft==="boolean")&&(x=null);var St=!1;if(x===null)St=!0;else switch(ft){case"bigint":case"string":case"number":St=!0;break;case"object":switch(x.$$typeof){case r:case t:St=!0;break;case E:return St=x._init,$(St(x._payload),P,F,st,at)}}if(St)return at=at(x),St=st===""?"."+qt(x,0):st,Dt(at)?(F="",St!=null&&(F=St.replace(I,"$&/")+"/"),$(at,P,F,"",function(Hn){return Hn})):at!=null&&(M(at)&&(at=O(at,F+(at.key==null||x&&x.key===at.key?"":(""+at.key).replace(I,"$&/")+"/")+St)),P.push(at)),1;St=0;var bt=st===""?".":st+":";if(Dt(x))for(var Yt=0;Yt<x.length;Yt++)st=x[Yt],ft=bt+qt(st,Yt),St+=$(st,P,F,ft,at);else if(Yt=L(x),typeof Yt=="function")for(x=Yt.call(x),Yt=0;!(st=x.next()).done;)st=st.value,ft=bt+qt(st,Yt++),St+=$(st,P,F,ft,at);else if(ft==="object"){if(typeof x.then=="function")return $(he(x),P,F,st,at);throw P=String(x),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return St}function ut(x,P,F){if(x==null)return x;var st=[],at=0;return $(x,st,"","",function(ft){return P.call(F,ft,at++)}),st}function gt(x){if(x._status===-1){var P=x._result;P=P(),P.then(function(F){(x._status===0||x._status===-1)&&(x._status=1,x._result=F)},function(F){(x._status===0||x._status===-1)&&(x._status=2,x._result=F)}),x._status===-1&&(x._status=0,x._result=P)}if(x._status===1)return x._result.default;throw x._result}var Ot=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Ht={map:ut,forEach:function(x,P,F){ut(x,function(){P.apply(this,arguments)},F)},count:function(x){var P=0;return ut(x,function(){P++}),P},toArray:function(x){return ut(x,function(P){return P})||[]},only:function(x){if(!M(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Rt.Activity=T,Rt.Children=Ht,Rt.Component=rt,Rt.Fragment=n,Rt.Profiler=o,Rt.PureComponent=it,Rt.StrictMode=s,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return C.H.useMemoCache(x)}},Rt.cache=function(x){return function(){return x.apply(null,arguments)}},Rt.cacheSignal=function(){return null},Rt.cloneElement=function(x,P,F){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var st=Z({},x.props),at=x.key;if(P!=null)for(ft in P.key!==void 0&&(at=""+P.key),P)!R.call(P,ft)||ft==="key"||ft==="__self"||ft==="__source"||ft==="ref"&&P.ref===void 0||(st[ft]=P[ft]);var ft=arguments.length-2;if(ft===1)st.children=F;else if(1<ft){for(var St=Array(ft),bt=0;bt<ft;bt++)St[bt]=arguments[bt+2];st.children=St}return w(x.type,at,st)},Rt.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Rt.createElement=function(x,P,F){var st,at={},ft=null;if(P!=null)for(st in P.key!==void 0&&(ft=""+P.key),P)R.call(P,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(at[st]=P[st]);var St=arguments.length-2;if(St===1)at.children=F;else if(1<St){for(var bt=Array(St),Yt=0;Yt<St;Yt++)bt[Yt]=arguments[Yt+2];at.children=bt}if(x&&x.defaultProps)for(st in St=x.defaultProps,St)at[st]===void 0&&(at[st]=St[st]);return w(x,ft,at)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(x){return{$$typeof:m,render:x}},Rt.isValidElement=M,Rt.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:gt}},Rt.memo=function(x,P){return{$$typeof:y,type:x,compare:P===void 0?null:P}},Rt.startTransition=function(x){var P=C.T,F={};C.T=F;try{var st=x(),at=C.S;at!==null&&at(F,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(nt,Ot)}catch(ft){Ot(ft)}finally{P!==null&&F.types!==null&&(P.types=F.types),C.T=P}},Rt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Rt.use=function(x){return C.H.use(x)},Rt.useActionState=function(x,P,F){return C.H.useActionState(x,P,F)},Rt.useCallback=function(x,P){return C.H.useCallback(x,P)},Rt.useContext=function(x){return C.H.useContext(x)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(x,P){return C.H.useDeferredValue(x,P)},Rt.useEffect=function(x,P){return C.H.useEffect(x,P)},Rt.useEffectEvent=function(x){return C.H.useEffectEvent(x)},Rt.useId=function(){return C.H.useId()},Rt.useImperativeHandle=function(x,P,F){return C.H.useImperativeHandle(x,P,F)},Rt.useInsertionEffect=function(x,P){return C.H.useInsertionEffect(x,P)},Rt.useLayoutEffect=function(x,P){return C.H.useLayoutEffect(x,P)},Rt.useMemo=function(x,P){return C.H.useMemo(x,P)},Rt.useOptimistic=function(x,P){return C.H.useOptimistic(x,P)},Rt.useReducer=function(x,P,F){return C.H.useReducer(x,P,F)},Rt.useRef=function(x){return C.H.useRef(x)},Rt.useState=function(x){return C.H.useState(x)},Rt.useSyncExternalStore=function(x,P,F){return C.H.useSyncExternalStore(x,P,F)},Rt.useTransition=function(){return C.H.useTransition()},Rt.version="19.2.0",Rt}var Lv;function up(){return Lv||(Lv=1,hm.exports=iw()),hm.exports}var K=up();const $c=tw(K);var fm={exports:{}},Ol={},dm={exports:{}},mm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function rw(){return Uv||(Uv=1,(function(r){function t($,ut){var gt=$.length;$.push(ut);t:for(;0<gt;){var Ot=gt-1>>>1,Ht=$[Ot];if(0<o(Ht,ut))$[Ot]=ut,$[gt]=Ht,gt=Ot;else break t}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var ut=$[0],gt=$.pop();if(gt!==ut){$[0]=gt;t:for(var Ot=0,Ht=$.length,x=Ht>>>1;Ot<x;){var P=2*(Ot+1)-1,F=$[P],st=P+1,at=$[st];if(0>o(F,gt))st<Ht&&0>o(at,F)?($[Ot]=at,$[st]=gt,Ot=st):($[Ot]=F,$[P]=gt,Ot=P);else if(st<Ht&&0>o(at,gt))$[Ot]=at,$[st]=gt,Ot=st;else break t}}return ut}function o($,ut){var gt=$.sortIndex-ut.sortIndex;return gt!==0?gt:$.id-ut.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,T=null,b=3,L=!1,Y=!1,Z=!1,H=!1,rt=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function _t($){for(var ut=n(y);ut!==null;){if(ut.callback===null)s(y);else if(ut.startTime<=$)s(y),ut.sortIndex=ut.expirationTime,t(p,ut);else break;ut=n(y)}}function Dt($){if(Z=!1,_t($),!Y)if(n(p)!==null)Y=!0,nt||(nt=!0,U());else{var ut=n(y);ut!==null&&he(Dt,ut.startTime-$)}}var nt=!1,C=-1,R=5,w=-1;function O(){return H?!0:!(r.unstable_now()-w<R)}function M(){if(H=!1,nt){var $=r.unstable_now();w=$;var ut=!0;try{t:{Y=!1,Z&&(Z=!1,lt(C),C=-1),L=!0;var gt=b;try{e:{for(_t($),T=n(p);T!==null&&!(T.expirationTime>$&&O());){var Ot=T.callback;if(typeof Ot=="function"){T.callback=null,b=T.priorityLevel;var Ht=Ot(T.expirationTime<=$);if($=r.unstable_now(),typeof Ht=="function"){T.callback=Ht,_t($),ut=!0;break e}T===n(p)&&s(p),_t($)}else s(p);T=n(p)}if(T!==null)ut=!0;else{var x=n(y);x!==null&&he(Dt,x.startTime-$),ut=!1}}break t}finally{T=null,b=gt,L=!1}ut=void 0}}finally{ut?U():nt=!1}}}var U;if(typeof it=="function")U=function(){it(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,qt=I.port2;I.port1.onmessage=M,U=function(){qt.postMessage(null)}}else U=function(){rt(M,0)};function he($,ut){C=rt(function(){$(r.unstable_now())},ut)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function($){switch(b){case 1:case 2:case 3:var ut=3;break;default:ut=b}var gt=b;b=ut;try{return $()}finally{b=gt}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function($,ut){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var gt=b;b=$;try{return ut()}finally{b=gt}},r.unstable_scheduleCallback=function($,ut,gt){var Ot=r.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?Ot+gt:Ot):gt=Ot,$){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=gt+Ht,$={id:E++,callback:ut,priorityLevel:$,startTime:gt,expirationTime:Ht,sortIndex:-1},gt>Ot?($.sortIndex=gt,t(y,$),n(p)===null&&$===n(y)&&(Z?(lt(C),C=-1):Z=!0,he(Dt,gt-Ot))):($.sortIndex=Ht,t(p,$),Y||L||(Y=!0,nt||(nt=!0,U()))),$},r.unstable_shouldYield=O,r.unstable_wrapCallback=function($){var ut=b;return function(){var gt=b;b=ut;try{return $.apply(this,arguments)}finally{b=gt}}}})(mm)),mm}var kv;function sw(){return kv||(kv=1,dm.exports=rw()),dm.exports}var pm={exports:{}},Je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function aw(){if(zv)return Je;zv=1;var r=up();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Je.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(p,y,null,E)},Je.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Je.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Je.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Je.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin),b=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:L}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Je.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Je.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Je.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Je.requestFormReset=function(p){s.d.r(p)},Je.unstable_batchedUpdates=function(p,y){return p(y)},Je.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Je.useFormStatus=function(){return f.H.useHostTransitionStatus()},Je.version="19.2.0",Je}var jv;function ow(){if(jv)return pm.exports;jv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),pm.exports=aw(),pm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function lw(){if(Bv)return Ol;Bv=1;var r=sw(),t=up(),n=ow();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),e;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),rt=Symbol.for("react.profiler"),lt=Symbol.for("react.consumer"),it=Symbol.for("react.context"),_t=Symbol.for("react.forward_ref"),Dt=Symbol.for("react.suspense"),nt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function qt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case rt:return"Profiler";case H:return"StrictMode";case Dt:return"Suspense";case nt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Y:return"Portal";case it:return e.displayName||"Context";case lt:return(e._context.displayName||"Context")+".Consumer";case _t:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return i=e.displayName||null,i!==null?i:qt(e.type)||"Memo";case R:i=e._payload,e=e._init;try{return qt(e(i))}catch{}}return null}var he=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},Ot=[],Ht=-1;function x(e){return{current:e}}function P(e){0>Ht||(e.current=Ot[Ht],Ot[Ht]=null,Ht--)}function F(e,i){Ht++,Ot[Ht]=e.current,e.current=i}var st=x(null),at=x(null),ft=x(null),St=x(null);function bt(e,i){switch(F(ft,i),F(at,e),F(st,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?ev(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=ev(i),e=nv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}P(st),F(st,e)}function Yt(){P(st),P(at),P(ft)}function Hn(e){e.memoizedState!==null&&F(St,e);var i=st.current,a=nv(i,e.type);i!==a&&(F(at,e),F(st,a))}function dr(e){at.current===e&&(P(st),P(at)),St.current===e&&(P(St),Rl._currentValue=gt)}var oa,la;function li(e){if(oa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);oa=i&&i[1]||"",la=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oa+e+la}var Ro=!1;function vs(e,i){if(!e||Ro)return"";Ro=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(Q){var q=Q}Reflect.construct(e,[],tt)}else{try{tt.call()}catch(Q){q=Q}e.call(tt.prototype)}}else{try{throw Error()}catch(Q){q=Q}(tt=e())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(Q){if(Q&&q&&typeof Q.stack=="string")return[Q.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var N=_.split(`
`),B=S.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===B.length)for(l=N.length-1,h=B.length-1;1<=l&&0<=h&&N[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==B[h]){var X=`
`+N[l].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=l&&0<=h);break}}}finally{Ro=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?li(a):""}function Co(e,i){switch(e.tag){case 26:case 27:case 5:return li(e.type);case 16:return li("Lazy");case 13:return e.child!==i&&i!==null?li("Suspense Fallback"):li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return vs(e.type,!1);case 11:return vs(e.type.render,!1);case 1:return vs(e.type,!0);case 31:return li("Activity");default:return""}}function Io(e){try{var i="",a=null;do i+=Co(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ee=Object.prototype.hasOwnProperty,Me=r.unstable_scheduleCallback,mr=r.unstable_cancelCallback,ff=r.unstable_shouldYield,Eu=r.unstable_requestPaint,en=r.unstable_now,Es=r.unstable_getCurrentPriorityLevel,No=r.unstable_ImmediatePriority,Do=r.unstable_UserBlockingPriority,pr=r.unstable_NormalPriority,df=r.unstable_LowPriority,Tu=r.unstable_IdlePriority,Su=r.log,Au=r.unstable_setDisableYieldValue,Fn=null,je=null;function Nn(e){if(typeof Su=="function"&&Au(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Fn,e)}catch{}}var pe=Math.clz32?Math.clz32:wu,bu=Math.log,ua=Math.LN2;function wu(e){return e>>>=0,e===0?32:31-(bu(e)/ua|0)|0}var ui=256,Ts=262144,Te=4194304;function ci(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function hi(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=ci(l):(_&=S,_!==0?h=ci(_):a||(a=S&~e,a!==0&&(h=ci(a))))):(S=l&~d,S!==0?h=ci(S):_!==0?h=ci(_):a||(a=l&~e,a!==0&&(h=ci(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Gn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function mf(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ru(){var e=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),e}function fi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Ss(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function pf(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,N=e.expirationTimes,B=e.hiddenUpdates;for(a=_&~a;0<a;){var X=31-pe(a),tt=1<<X;S[X]=0,N[X]=-1;var q=B[X];if(q!==null)for(B[X]=null,X=0;X<q.length;X++){var Q=q[X];Q!==null&&(Q.lane&=-536870913)}a&=~tt}l!==0&&As(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function As(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-pe(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Oo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-pe(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Mo(e,i){var a=i&-i;return a=(a&42)!==0?1:bs(a),(a&(e.suspendedLanes|i))!==0?0:a}function bs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ki(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Cu(){var e=ut.p;return e!==0?e:(e=window.event,e===void 0?32:wv(e.type))}function Qn(e,i){var a=ut.p;try{return ut.p=e,i()}finally{ut.p=a}}var Kn=Math.random().toString(36).slice(2),Se="__reactFiber$"+Kn,Pe="__reactProps$"+Kn,di="__reactContainer$"+Kn,ca="__reactEvents$"+Kn,gf="__reactListeners$"+Kn,Iu="__reactHandles$"+Kn,Nu="__reactResources$"+Kn,mi="__reactMarker$"+Kn;function ha(e){delete e[Se],delete e[Pe],delete e[ca],delete e[gf],delete e[Iu]}function pi(e){var i=e[Se];if(i)return i;for(var a=e.parentNode;a;){if(i=a[di]||a[Se]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=uv(e);e!==null;){if(a=e[Se])return a;e=uv(e)}return i}e=a,a=e.parentNode}return null}function Dn(e){if(e=e[Se]||e[di]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function yn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function gi(e){var i=e[Nu];return i||(i=e[Nu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ae(e){e[mi]=!0}var Vo=new Set,xo={};function yi(e,i){_i(e,i),_i(e+"Capture",i)}function _i(e,i){for(xo[e]=i,e=0;e<i.length;e++)Vo.add(i[e])}var Po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lo={},Uo={};function Du(e){return Ee.call(Uo,e)?!0:Ee.call(Lo,e)?!1:Po.test(e)?Uo[e]=!0:(Lo[e]=!0,!1)}function fa(e,i,a){if(Du(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function _n(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function be(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ko(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function $t(e){if(!e._valueTracker){var i=gr(e)?"checked":"value";e._valueTracker=ko(e,i,""+e[i])}}function ws(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=gr(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function vi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Rs=/[\n"\\]/g;function un(e){return e.replace(Rs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function da(e,i,a,l,h,d,_,S){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Le(i)):e.value!==""+Le(i)&&(e.value=""+Le(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?zo(e,_,Le(i)):a!=null?zo(e,_,Le(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Le(S):e.removeAttribute("name")}function Ou(e,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){$t(e);return}a=a!=null?""+Le(a):"",i=i!=null?""+Le(i):a,S||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),$t(e)}function zo(e,i,a){i==="number"&&vi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function yr(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Le(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Mu(e,i,a){if(i!=null&&(i=""+Le(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Le(a):""}function _r(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(he(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Le(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),$t(e)}function cn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Vu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Bo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&jo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&jo(e,d,i[d])}function ma(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(e){return vr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Yn(){}var qo=null;function On(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Er=null,Ei=null;function Cs(e){var i=Dn(e);if(i&&(e=i.stateNode)){var a=e[Pe]||null;t:switch(e=i.stateNode,i.type){case"input":if(da(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Pe]||null;if(!h)throw Error(s(90));da(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&ws(l)}break t;case"textarea":Mu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&yr(e,!!a.multiple,i,!1)}}}var ga=!1;function Tr(e,i,a){if(ga)return e(i,a);ga=!0;try{var l=e(i);return l}finally{if(ga=!1,(Er!==null||Ei!==null)&&(Cc(),Er&&(i=Er,e=Ei,Ei=Er=null,Cs(i),e)))for(i=0;i<e.length;i++)Cs(e[i])}}function $n(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Pe]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Is=!1;if(Mn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){Is=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{Is=!1}var Ti=null,Ho=null,Ns=null;function Fo(){if(Ns)return Ns;var e,i=Ho,a=i.length,l,h="value"in Ti?Ti.value:Ti.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Ns=h.slice(e,1<l?1-l:void 0)}function Ds(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function zi(){return!0}function Xn(){return!1}function Be(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?zi:Xn,this.isPropagationStopped=Xn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),i}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Be(ji),Sr=T({},ji,{view:0,detail:0}),Go=Be(Sr),Ar,ya,Ai,_a=T({},Sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:br,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ai&&(Ai&&e.type==="mousemove"?(Ar=e.screenX-Ai.screenX,ya=e.screenY-Ai.screenY):ya=Ar=0,Ai=e),Ar)},movementY:function(e){return"movementY"in e?e.movementY:ya}}),Qo=Be(_a),Os=T({},_a,{dataTransfer:0}),Pu=Be(Os),Lu=T({},Sr,{relatedTarget:0}),Ms=Be(Lu),Ko=T({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Uu=Be(Ko),va=T({},ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ku=Be(va),zu=T({},ji,{data:0}),bi=Be(zu),ju={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=qu[e])?!!i[e]:!1}function br(){return Hu}var nn=T({},Sr,{key:function(e){if(e.key){var i=ju[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ds(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Bu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:br,charCode:function(e){return e.type==="keypress"?Ds(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ds(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fu=Be(nn),Gu=T({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=Be(Gu),c=T({},Sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:br}),g=Be(c),v=T({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Be(v),z=T({},_a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Be(z),ot=T({},ji,{newState:0,oldState:0}),Ct=Be(ot),ge=[9,13,27,32],Qt=Mn&&"CompositionEvent"in window,oe=null;Mn&&"documentMode"in document&&(oe=document.documentMode);var Vn=Mn&&"TextEvent"in window&&!oe,wi=Mn&&(!Qt||oe&&8<oe&&11>=oe),Jn=" ",Zn=!1;function Vs(e,i){switch(e){case"keyup":return ge.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ta=!1;function SA(e,i){switch(e){case"compositionend":return Ea(i);case"keypress":return i.which!==32?null:(Zn=!0,Jn);case"textInput":return e=i.data,e===Jn&&Zn?null:e;default:return null}}function AA(e,i){if(Ta)return e==="compositionend"||!Qt&&Vs(e,i)?(e=Fo(),Ns=Ho=Ti=null,Ta=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return wi&&i.locale!=="ko"?null:i.data;default:return null}}var bA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fg(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!bA[e.type]:i==="textarea"}function dg(e,i,a,l){Er?Ei?Ei.push(l):Ei=[l]:Er=l,i=xc(i,"onChange"),0<i.length&&(a=new Si("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Yo=null,$o=null;function wA(e){$_(e,0)}function Qu(e){var i=yn(e);if(ws(i))return e}function mg(e,i){if(e==="change")return i}var pg=!1;if(Mn){var yf;if(Mn){var _f="oninput"in document;if(!_f){var gg=document.createElement("div");gg.setAttribute("oninput","return;"),_f=typeof gg.oninput=="function"}yf=_f}else yf=!1;pg=yf&&(!document.documentMode||9<document.documentMode)}function yg(){Yo&&(Yo.detachEvent("onpropertychange",_g),$o=Yo=null)}function _g(e){if(e.propertyName==="value"&&Qu($o)){var i=[];dg(i,$o,e,On(e)),Tr(wA,i)}}function RA(e,i,a){e==="focusin"?(yg(),Yo=i,$o=a,Yo.attachEvent("onpropertychange",_g)):e==="focusout"&&yg()}function CA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qu($o)}function IA(e,i){if(e==="click")return Qu(i)}function NA(e,i){if(e==="input"||e==="change")return Qu(i)}function DA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var vn=typeof Object.is=="function"?Object.is:DA;function Xo(e,i){if(vn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ee.call(i,h)||!vn(e[h],i[h]))return!1}return!0}function vg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Eg(e,i){var a=vg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=vg(a)}}function Tg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Tg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Sg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=vi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=vi(e.document)}return i}function vf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var OA=Mn&&"documentMode"in document&&11>=document.documentMode,Sa=null,Ef=null,Jo=null,Tf=!1;function Ag(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Tf||Sa==null||Sa!==vi(l)||(l=Sa,"selectionStart"in l&&vf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jo&&Xo(Jo,l)||(Jo=l,l=xc(Ef,"onSelect"),0<l.length&&(i=new Si("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Sa)))}function xs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Aa={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionrun:xs("Transition","TransitionRun"),transitionstart:xs("Transition","TransitionStart"),transitioncancel:xs("Transition","TransitionCancel"),transitionend:xs("Transition","TransitionEnd")},Sf={},bg={};Mn&&(bg=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Ps(e){if(Sf[e])return Sf[e];if(!Aa[e])return e;var i=Aa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in bg)return Sf[e]=i[a];return e}var wg=Ps("animationend"),Rg=Ps("animationiteration"),Cg=Ps("animationstart"),MA=Ps("transitionrun"),VA=Ps("transitionstart"),xA=Ps("transitioncancel"),Ig=Ps("transitionend"),Ng=new Map,Af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Af.push("scrollEnd");function Wn(e,i){Ng.set(e,i),yi(i,[e])}var Ku=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xn=[],ba=0,bf=0;function Yu(){for(var e=ba,i=bf=ba=0;i<e;){var a=xn[i];xn[i++]=null;var l=xn[i];xn[i++]=null;var h=xn[i];xn[i++]=null;var d=xn[i];if(xn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Dg(a,h,d)}}function $u(e,i,a,l){xn[ba++]=e,xn[ba++]=i,xn[ba++]=a,xn[ba++]=l,bf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function wf(e,i,a,l){return $u(e,i,a,l),Xu(e)}function Ls(e,i){return $u(e,null,null,i),Xu(e)}function Dg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-pe(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Xu(e){if(50<vl)throw vl=0,xd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var wa={};function PA(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,i,a,l){return new PA(e,i,a,l)}function Rf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qi(e,i){var a=e.alternate;return a===null?(a=En(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Og(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Ju(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")Rf(e)&&(_=1);else if(typeof e=="string")_=jb(e,a,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=En(31,a,i,h),e.elementType=w,e.lanes=d,e;case Z:return Us(a.children,h,d,i);case H:_=8,h|=24;break;case rt:return e=En(12,a,i,h|2),e.elementType=rt,e.lanes=d,e;case Dt:return e=En(13,a,i,h),e.elementType=Dt,e.lanes=d,e;case nt:return e=En(19,a,i,h),e.elementType=nt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case it:_=10;break t;case lt:_=9;break t;case _t:_=11;break t;case C:_=14;break t;case R:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=En(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Us(e,i,a,l){return e=En(7,e,l,i),e.lanes=a,e}function Cf(e,i,a){return e=En(6,e,null,i),e.lanes=a,e}function Mg(e){var i=En(18,null,null,0);return i.stateNode=e,i}function If(e,i,a){return i=En(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Vg=new WeakMap;function Pn(e,i){if(typeof e=="object"&&e!==null){var a=Vg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Io(i)},Vg.set(e,i),i)}return{value:e,source:i,stack:Io(i)}}var Ra=[],Ca=0,Zu=null,Zo=0,Ln=[],Un=0,wr=null,Ri=1,Ci="";function Hi(e,i){Ra[Ca++]=Zo,Ra[Ca++]=Zu,Zu=e,Zo=i}function xg(e,i,a){Ln[Un++]=Ri,Ln[Un++]=Ci,Ln[Un++]=wr,wr=e;var l=Ri;e=Ci;var h=32-pe(l)-1;l&=~(1<<h),a+=1;var d=32-pe(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ri=1<<32-pe(i)+h|a<<h|l,Ci=d+e}else Ri=1<<d|a<<h|l,Ci=e}function Nf(e){e.return!==null&&(Hi(e,1),xg(e,1,0))}function Df(e){for(;e===Zu;)Zu=Ra[--Ca],Ra[Ca]=null,Zo=Ra[--Ca],Ra[Ca]=null;for(;e===wr;)wr=Ln[--Un],Ln[Un]=null,Ci=Ln[--Un],Ln[Un]=null,Ri=Ln[--Un],Ln[Un]=null}function Pg(e,i){Ln[Un++]=Ri,Ln[Un++]=Ci,Ln[Un++]=wr,Ri=i.id,Ci=i.overflow,wr=e}var qe=null,se=null,zt=!1,Rr=null,kn=!1,Of=Error(s(519));function Cr(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wo(Pn(i,e)),Of}function Lg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Se]=e,i[Pe]=l,a){case"dialog":Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":case"embed":Vt("load",i);break;case"video":case"audio":for(a=0;a<Tl.length;a++)Vt(Tl[a],i);break;case"source":Vt("error",i);break;case"img":case"image":case"link":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"input":Vt("invalid",i),Ou(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Vt("invalid",i);break;case"textarea":Vt("invalid",i),_r(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||W_(i.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",i),Vt("toggle",i)),l.onScroll!=null&&Vt("scroll",i),l.onScrollEnd!=null&&Vt("scrollend",i),l.onClick!=null&&(i.onclick=Yn),i=!0):i=!1,i||Cr(e,!0)}function Ug(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:qe=qe.return}}function Ia(e){if(e!==qe)return!1;if(!zt)return Ug(e),zt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||$d(e.type,e.memoizedProps)),a=!a),a&&se&&Cr(e),Ug(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));se=lv(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));se=lv(e)}else i===27?(i=se,Br(e.type)?(e=tm,tm=null,se=e):se=i):se=qe?jn(e.stateNode.nextSibling):null;return!0}function ks(){se=qe=null,zt=!1}function Mf(){var e=Rr;return e!==null&&(mn===null?mn=e:mn.push.apply(mn,e),Rr=null),e}function Wo(e){Rr===null?Rr=[e]:Rr.push(e)}var Vf=x(null),zs=null,Fi=null;function Ir(e,i,a){F(Vf,i._currentValue),i._currentValue=a}function Gi(e){e._currentValue=Vf.current,P(Vf)}function xf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Pf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var S=d;d=h;for(var N=0;N<i.length;N++)if(S.context===i[N]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),xf(d.return,a,e),l||(_=null);break t}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),xf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Na(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;vn(h.pendingProps.value,_.value)||(e!==null?e.push(S):e=[S])}}else if(h===St.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Rl):e=[Rl])}h=h.return}e!==null&&Pf(i,e,a,l),i.flags|=262144}function Wu(e){for(e=e.firstContext;e!==null;){if(!vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function js(e){zs=e,Fi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return kg(zs,e)}function tc(e,i){return zs===null&&js(e),kg(e,i)}function kg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Fi===null){if(e===null)throw Error(s(308));Fi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Fi=Fi.next=i;return a}var LA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},UA=r.unstable_scheduleCallback,kA=r.unstable_NormalPriority,we={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lf(){return{controller:new LA,data:new Map,refCount:0}}function tl(e){e.refCount--,e.refCount===0&&UA(kA,function(){e.controller.abort()})}var el=null,Uf=0,Da=0,Oa=null;function zA(e,i){if(el===null){var a=el=[];Uf=0,Da=jd(),Oa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Uf++,i.then(zg,zg),i}function zg(){if(--Uf===0&&el!==null){Oa!==null&&(Oa.status="fulfilled");var e=el;el=null,Da=0,Oa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function jA(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var jg=$.S;$.S=function(e,i){A_=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&zA(e,i),jg!==null&&jg(e,i)};var Bs=x(null);function kf(){var e=Bs.current;return e!==null?e:ie.pooledCache}function ec(e,i){i===null?F(Bs,Bs.current):F(Bs,i.pool)}function Bg(){var e=kf();return e===null?null:{parent:we._currentValue,pool:e}}var Ma=Error(s(460)),zf=Error(s(474)),nc=Error(s(542)),ic={then:function(){}};function qg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Hg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Yn,Yn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Gg(e),e;default:if(typeof i.status=="string")i.then(Yn,Yn);else{if(e=ie,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Gg(e),e}throw Hs=i,Ma}}function qs(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Hs=a,Ma):a}}var Hs=null;function Fg(){if(Hs===null)throw Error(s(459));var e=Hs;return Hs=null,e}function Gg(e){if(e===Ma||e===nc)throw Error(s(483))}var Va=null,nl=0;function rc(e){var i=nl;return nl+=1,Va===null&&(Va=[]),Hg(Va,e,i)}function il(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function sc(e,i){throw i.$$typeof===b?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Qg(e){function i(k,V){if(e){var j=k.deletions;j===null?(k.deletions=[V],k.flags|=16):j.push(V)}}function a(k,V){if(!e)return null;for(;V!==null;)i(k,V),V=V.sibling;return null}function l(k){for(var V=new Map;k!==null;)k.key!==null?V.set(k.key,k):V.set(k.index,k),k=k.sibling;return V}function h(k,V){return k=qi(k,V),k.index=0,k.sibling=null,k}function d(k,V,j){return k.index=j,e?(j=k.alternate,j!==null?(j=j.index,j<V?(k.flags|=67108866,V):j):(k.flags|=67108866,V)):(k.flags|=1048576,V)}function _(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function S(k,V,j,W){return V===null||V.tag!==6?(V=Cf(j,k.mode,W),V.return=k,V):(V=h(V,j),V.return=k,V)}function N(k,V,j,W){var yt=j.type;return yt===Z?X(k,V,j.props.children,W,j.key):V!==null&&(V.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===R&&qs(yt)===V.type)?(V=h(V,j.props),il(V,j),V.return=k,V):(V=Ju(j.type,j.key,j.props,null,k.mode,W),il(V,j),V.return=k,V)}function B(k,V,j,W){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=If(j,k.mode,W),V.return=k,V):(V=h(V,j.children||[]),V.return=k,V)}function X(k,V,j,W,yt){return V===null||V.tag!==7?(V=Us(j,k.mode,W,yt),V.return=k,V):(V=h(V,j),V.return=k,V)}function tt(k,V,j){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Cf(""+V,k.mode,j),V.return=k,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case L:return j=Ju(V.type,V.key,V.props,null,k.mode,j),il(j,V),j.return=k,j;case Y:return V=If(V,k.mode,j),V.return=k,V;case R:return V=qs(V),tt(k,V,j)}if(he(V)||U(V))return V=Us(V,k.mode,j,null),V.return=k,V;if(typeof V.then=="function")return tt(k,rc(V),j);if(V.$$typeof===it)return tt(k,tc(k,V),j);sc(k,V)}return null}function q(k,V,j,W){var yt=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return yt!==null?null:S(k,V,""+j,W);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case L:return j.key===yt?N(k,V,j,W):null;case Y:return j.key===yt?B(k,V,j,W):null;case R:return j=qs(j),q(k,V,j,W)}if(he(j)||U(j))return yt!==null?null:X(k,V,j,W,null);if(typeof j.then=="function")return q(k,V,rc(j),W);if(j.$$typeof===it)return q(k,V,tc(k,j),W);sc(k,j)}return null}function Q(k,V,j,W,yt){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return k=k.get(j)||null,S(V,k,""+W,yt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case L:return k=k.get(W.key===null?j:W.key)||null,N(V,k,W,yt);case Y:return k=k.get(W.key===null?j:W.key)||null,B(V,k,W,yt);case R:return W=qs(W),Q(k,V,j,W,yt)}if(he(W)||U(W))return k=k.get(j)||null,X(V,k,W,yt,null);if(typeof W.then=="function")return Q(k,V,j,rc(W),yt);if(W.$$typeof===it)return Q(k,V,j,tc(V,W),yt);sc(V,W)}return null}function dt(k,V,j,W){for(var yt=null,Ft=null,mt=V,Nt=V=0,Pt=null;mt!==null&&Nt<j.length;Nt++){mt.index>Nt?(Pt=mt,mt=null):Pt=mt.sibling;var Gt=q(k,mt,j[Nt],W);if(Gt===null){mt===null&&(mt=Pt);break}e&&mt&&Gt.alternate===null&&i(k,mt),V=d(Gt,V,Nt),Ft===null?yt=Gt:Ft.sibling=Gt,Ft=Gt,mt=Pt}if(Nt===j.length)return a(k,mt),zt&&Hi(k,Nt),yt;if(mt===null){for(;Nt<j.length;Nt++)mt=tt(k,j[Nt],W),mt!==null&&(V=d(mt,V,Nt),Ft===null?yt=mt:Ft.sibling=mt,Ft=mt);return zt&&Hi(k,Nt),yt}for(mt=l(mt);Nt<j.length;Nt++)Pt=Q(mt,k,Nt,j[Nt],W),Pt!==null&&(e&&Pt.alternate!==null&&mt.delete(Pt.key===null?Nt:Pt.key),V=d(Pt,V,Nt),Ft===null?yt=Pt:Ft.sibling=Pt,Ft=Pt);return e&&mt.forEach(function(Qr){return i(k,Qr)}),zt&&Hi(k,Nt),yt}function Et(k,V,j,W){if(j==null)throw Error(s(151));for(var yt=null,Ft=null,mt=V,Nt=V=0,Pt=null,Gt=j.next();mt!==null&&!Gt.done;Nt++,Gt=j.next()){mt.index>Nt?(Pt=mt,mt=null):Pt=mt.sibling;var Qr=q(k,mt,Gt.value,W);if(Qr===null){mt===null&&(mt=Pt);break}e&&mt&&Qr.alternate===null&&i(k,mt),V=d(Qr,V,Nt),Ft===null?yt=Qr:Ft.sibling=Qr,Ft=Qr,mt=Pt}if(Gt.done)return a(k,mt),zt&&Hi(k,Nt),yt;if(mt===null){for(;!Gt.done;Nt++,Gt=j.next())Gt=tt(k,Gt.value,W),Gt!==null&&(V=d(Gt,V,Nt),Ft===null?yt=Gt:Ft.sibling=Gt,Ft=Gt);return zt&&Hi(k,Nt),yt}for(mt=l(mt);!Gt.done;Nt++,Gt=j.next())Gt=Q(mt,k,Nt,Gt.value,W),Gt!==null&&(e&&Gt.alternate!==null&&mt.delete(Gt.key===null?Nt:Gt.key),V=d(Gt,V,Nt),Ft===null?yt=Gt:Ft.sibling=Gt,Ft=Gt);return e&&mt.forEach(function(Jb){return i(k,Jb)}),zt&&Hi(k,Nt),yt}function ee(k,V,j,W){if(typeof j=="object"&&j!==null&&j.type===Z&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case L:t:{for(var yt=j.key;V!==null;){if(V.key===yt){if(yt=j.type,yt===Z){if(V.tag===7){a(k,V.sibling),W=h(V,j.props.children),W.return=k,k=W;break t}}else if(V.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===R&&qs(yt)===V.type){a(k,V.sibling),W=h(V,j.props),il(W,j),W.return=k,k=W;break t}a(k,V);break}else i(k,V);V=V.sibling}j.type===Z?(W=Us(j.props.children,k.mode,W,j.key),W.return=k,k=W):(W=Ju(j.type,j.key,j.props,null,k.mode,W),il(W,j),W.return=k,k=W)}return _(k);case Y:t:{for(yt=j.key;V!==null;){if(V.key===yt)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){a(k,V.sibling),W=h(V,j.children||[]),W.return=k,k=W;break t}else{a(k,V);break}else i(k,V);V=V.sibling}W=If(j,k.mode,W),W.return=k,k=W}return _(k);case R:return j=qs(j),ee(k,V,j,W)}if(he(j))return dt(k,V,j,W);if(U(j)){if(yt=U(j),typeof yt!="function")throw Error(s(150));return j=yt.call(j),Et(k,V,j,W)}if(typeof j.then=="function")return ee(k,V,rc(j),W);if(j.$$typeof===it)return ee(k,V,tc(k,j),W);sc(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,V!==null&&V.tag===6?(a(k,V.sibling),W=h(V,j),W.return=k,k=W):(a(k,V),W=Cf(j,k.mode,W),W.return=k,k=W),_(k)):a(k,V)}return function(k,V,j,W){try{nl=0;var yt=ee(k,V,j,W);return Va=null,yt}catch(mt){if(mt===Ma||mt===nc)throw mt;var Ft=En(29,mt,null,k.mode);return Ft.lanes=W,Ft.return=k,Ft}finally{}}}var Fs=Qg(!0),Kg=Qg(!1),Nr=!1;function jf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Dr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Or(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Kt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Xu(e),Dg(e,null,a),i}return $u(e,l,i,a),Xu(e)}function rl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Oo(e,a)}}function qf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Hf=!1;function sl(){if(Hf){var e=Oa;if(e!==null)throw e}}function al(e,i,a,l){Hf=!1;var h=e.updateQueue;Nr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var N=S,B=N.next;N.next=null,_===null?d=B:_.next=B,_=N;var X=e.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==_&&(S===null?X.firstBaseUpdate=B:S.next=B,X.lastBaseUpdate=N))}if(d!==null){var tt=h.baseState;_=0,X=B=N=null,S=d;do{var q=S.lane&-536870913,Q=q!==S.lane;if(Q?(xt&q)===q:(l&q)===q){q!==0&&q===Da&&(Hf=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var dt=e,Et=S;q=i;var ee=a;switch(Et.tag){case 1:if(dt=Et.payload,typeof dt=="function"){tt=dt.call(ee,tt,q);break t}tt=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=Et.payload,q=typeof dt=="function"?dt.call(ee,tt,q):dt,q==null)break t;tt=T({},tt,q);break t;case 2:Nr=!0}}q=S.callback,q!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[q]:Q.push(q))}else Q={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(B=X=Q,N=tt):X=X.next=Q,_|=q;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);X===null&&(N=tt),h.baseState=N,h.firstBaseUpdate=B,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Lr|=_,e.lanes=_,e.memoizedState=tt}}function Yg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function $g(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Yg(a[e],i)}var xa=x(null),ac=x(0);function Xg(e,i){e=tr,F(ac,e),F(xa,i),tr=e|i.baseLanes}function Ff(){F(ac,tr),F(xa,xa.current)}function Gf(){tr=ac.current,P(xa),P(ac)}var Tn=x(null),zn=null;function Mr(e){var i=e.alternate;F(ye,ye.current&1),F(Tn,e),zn===null&&(i===null||xa.current!==null||i.memoizedState!==null)&&(zn=e)}function Qf(e){F(ye,ye.current),F(Tn,e),zn===null&&(zn=e)}function Jg(e){e.tag===22?(F(ye,ye.current),F(Tn,e),zn===null&&(zn=e)):Vr()}function Vr(){F(ye,ye.current),F(Tn,Tn.current)}function Sn(e){P(Tn),zn===e&&(zn=null),P(ye)}var ye=x(0);function oc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Zd(a)||Wd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qi=0,It=null,Wt=null,Re=null,lc=!1,Pa=!1,Gs=!1,uc=0,ol=0,La=null,BA=0;function fe(){throw Error(s(321))}function Kf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!vn(e[a],i[a]))return!1;return!0}function Yf(e,i,a,l,h,d){return Qi=d,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=e===null||e.memoizedState===null?xy:ud,Gs=!1,d=a(l,h),Gs=!1,Pa&&(d=Wg(i,a,l,h)),Zg(e),d}function Zg(e){$.H=cl;var i=Wt!==null&&Wt.next!==null;if(Qi=0,Re=Wt=It=null,lc=!1,ol=0,La=null,i)throw Error(s(300));e===null||Ce||(e=e.dependencies,e!==null&&Wu(e)&&(Ce=!0))}function Wg(e,i,a,l){It=e;var h=0;do{if(Pa&&(La=null),ol=0,Pa=!1,25<=h)throw Error(s(301));if(h+=1,Re=Wt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=Py,d=i(a,l)}while(Pa);return d}function qA(){var e=$.H,i=e.useState()[0];return i=typeof i.then=="function"?ll(i):i,e=e.useState()[0],(Wt!==null?Wt.memoizedState:null)!==e&&(It.flags|=1024),i}function $f(){var e=uc!==0;return uc=0,e}function Xf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Jf(e){if(lc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}lc=!1}Qi=0,Re=Wt=It=null,Pa=!1,ol=uc=0,La=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?It.memoizedState=Re=e:Re=Re.next=e,Re}function _e(){if(Wt===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var i=Re===null?It.memoizedState:Re.next;if(i!==null)Re=i,Wt=e;else{if(e===null)throw It.alternate===null?Error(s(467)):Error(s(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Re===null?It.memoizedState=Re=e:Re=Re.next=e}return Re}function cc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(e){var i=ol;return ol+=1,La===null&&(La=[]),e=Hg(La,e,i),i=It,(Re===null?i.memoizedState:Re.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?xy:ud),e}function hc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ll(e);if(e.$$typeof===it)return He(e)}throw Error(s(438,String(e)))}function Zf(e){var i=null,a=It.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=cc(),It.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=O;return i.index++,a}function Ki(e,i){return typeof i=="function"?i(e):i}function fc(e){var i=_e();return Wf(i,Wt,e)}function Wf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var S=_=null,N=null,B=i,X=!1;do{var tt=B.lane&-536870913;if(tt!==B.lane?(xt&tt)===tt:(Qi&tt)===tt){var q=B.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),tt===Da&&(X=!0);else if((Qi&q)===q){B=B.next,q===Da&&(X=!0);continue}else tt={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(S=N=tt,_=d):N=N.next=tt,It.lanes|=q,Lr|=q;tt=B.action,Gs&&a(d,tt),d=B.hasEagerState?B.eagerState:a(d,tt)}else q={lane:tt,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(S=N=q,_=d):N=N.next=q,It.lanes|=tt,Lr|=tt;B=B.next}while(B!==null&&B!==i);if(N===null?_=d:N.next=S,!vn(d,e.memoizedState)&&(Ce=!0,X&&(a=Oa,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function td(e){var i=_e(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);vn(d,i.memoizedState)||(Ce=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function ty(e,i,a){var l=It,h=_e(),d=zt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!vn((Wt||h).memoizedState,a);if(_&&(h.memoizedState=a,Ce=!0),h=h.queue,id(iy.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||Re!==null&&Re.memoizedState.tag&1){if(l.flags|=2048,Ua(9,{destroy:void 0},ny.bind(null,l,h,a,i),null),ie===null)throw Error(s(349));d||(Qi&127)!==0||ey(l,i,a)}return a}function ey(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=It.updateQueue,i===null?(i=cc(),It.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function ny(e,i,a,l){i.value=a,i.getSnapshot=l,ry(i)&&sy(e)}function iy(e,i,a){return a(function(){ry(i)&&sy(e)})}function ry(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!vn(e,a)}catch{return!0}}function sy(e){var i=Ls(e,2);i!==null&&pn(i,e,2)}function ed(e){var i=rn();if(typeof e=="function"){var a=e;if(e=a(),Gs){Nn(!0);try{a()}finally{Nn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:e},i}function ay(e,i,a,l){return e.baseState=a,Wf(e,Wt,typeof l=="function"?l:Ki)}function HA(e,i,a,l,h){if(pc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,oy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function oy(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=$.T,_={};$.T=_;try{var S=a(h,l),N=$.S;N!==null&&N(_,S),ly(e,i,S)}catch(B){nd(e,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),$.T=d}}else try{d=a(h,l),ly(e,i,d)}catch(B){nd(e,i,B)}}function ly(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){uy(e,i,l)},function(l){return nd(e,i,l)}):uy(e,i,a)}function uy(e,i,a){i.status="fulfilled",i.value=a,cy(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,oy(e,a)))}function nd(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,cy(i),i=i.next;while(i!==l)}e.action=null}function cy(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function hy(e,i){return i}function fy(e,i){if(zt){var a=ie.formState;if(a!==null){t:{var l=It;if(zt){if(se){e:{for(var h=se,d=kn;h.nodeType!==8;){if(!d){h=null;break e}if(h=jn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){se=jn(h.nextSibling),l=h.data==="F!";break t}}Cr(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hy,lastRenderedState:i},a.queue=l,a=Oy.bind(null,It,l),l.dispatch=a,l=ed(!1),d=ld.bind(null,It,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=HA.bind(null,It,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function dy(e){var i=_e();return my(i,Wt,e)}function my(e,i,a){if(i=Wf(e,i,hy)[0],e=fc(Ki)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ll(i)}catch(_){throw _===Ma?nc:_}else l=i;i=_e();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(It.flags|=2048,Ua(9,{destroy:void 0},FA.bind(null,h,a),null)),[l,d,e]}function FA(e,i){e.action=i}function py(e){var i=_e(),a=Wt;if(a!==null)return my(i,a,e);_e(),i=i.memoizedState,a=_e();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ua(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=It.updateQueue,i===null&&(i=cc(),It.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function gy(){return _e().memoizedState}function dc(e,i,a,l){var h=rn();It.flags|=e,h.memoizedState=Ua(1|i,{destroy:void 0},a,l===void 0?null:l)}function mc(e,i,a,l){var h=_e();l=l===void 0?null:l;var d=h.memoizedState.inst;Wt!==null&&l!==null&&Kf(l,Wt.memoizedState.deps)?h.memoizedState=Ua(i,d,a,l):(It.flags|=e,h.memoizedState=Ua(1|i,d,a,l))}function yy(e,i){dc(8390656,8,e,i)}function id(e,i){mc(2048,8,e,i)}function GA(e){It.flags|=4;var i=It.updateQueue;if(i===null)i=cc(),It.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function _y(e){var i=_e().memoizedState;return GA({ref:i,nextImpl:e}),function(){if((Kt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function vy(e,i){return mc(4,2,e,i)}function Ey(e,i){return mc(4,4,e,i)}function Ty(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Sy(e,i,a){a=a!=null?a.concat([e]):null,mc(4,4,Ty.bind(null,i,e),a)}function rd(){}function Ay(e,i){var a=_e();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Kf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function by(e,i){var a=_e();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Kf(i,l[1]))return l[0];if(l=e(),Gs){Nn(!0);try{e()}finally{Nn(!1)}}return a.memoizedState=[l,i],l}function sd(e,i,a){return a===void 0||(Qi&1073741824)!==0&&(xt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=w_(),It.lanes|=e,Lr|=e,a)}function wy(e,i,a,l){return vn(a,i)?a:xa.current!==null?(e=sd(e,a,l),vn(e,i)||(Ce=!0),e):(Qi&42)===0||(Qi&1073741824)!==0&&(xt&261930)===0?(Ce=!0,e.memoizedState=a):(e=w_(),It.lanes|=e,Lr|=e,i)}function Ry(e,i,a,l,h){var d=ut.p;ut.p=d!==0&&8>d?d:8;var _=$.T,S={};$.T=S,ld(e,!1,i,a);try{var N=h(),B=$.S;if(B!==null&&B(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=jA(N,l);ul(e,i,X,wn(e))}else ul(e,i,l,wn(e))}catch(tt){ul(e,i,{then:function(){},status:"rejected",reason:tt},wn())}finally{ut.p=d,_!==null&&S.types!==null&&(_.types=S.types),$.T=_}}function QA(){}function ad(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=Cy(e).queue;Ry(e,h,i,gt,a===null?QA:function(){return Iy(e),a(l)})}function Cy(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:gt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Iy(e){var i=Cy(e);i.next===null&&(i=e.alternate.memoizedState),ul(e,i.next.queue,{},wn())}function od(){return He(Rl)}function Ny(){return _e().memoizedState}function Dy(){return _e().memoizedState}function KA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=wn();e=Dr(a);var l=Or(i,e,a);l!==null&&(pn(l,i,a),rl(l,i,a)),i={cache:Lf()},e.payload=i;return}i=i.return}}function YA(e,i,a){var l=wn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},pc(e)?My(i,a):(a=wf(e,i,a,l),a!==null&&(pn(a,e,l),Vy(a,i,l)))}function Oy(e,i,a){var l=wn();ul(e,i,a,l)}function ul(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(pc(e))My(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,vn(S,_))return $u(e,i,h,0),ie===null&&Yu(),!1}catch{}finally{}if(a=wf(e,i,h,l),a!==null)return pn(a,e,l),Vy(a,i,l),!0}return!1}function ld(e,i,a,l){if(l={lane:2,revertLane:jd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},pc(e)){if(i)throw Error(s(479))}else i=wf(e,a,l,2),i!==null&&pn(i,e,2)}function pc(e){var i=e.alternate;return e===It||i!==null&&i===It}function My(e,i){Pa=lc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Vy(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Oo(e,a)}}var cl={readContext:He,use:hc,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe};cl.useEffectEvent=fe;var xy={readContext:He,use:hc,useCallback:function(e,i){return rn().memoizedState=[e,i===void 0?null:i],e},useContext:He,useEffect:yy,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,dc(4194308,4,Ty.bind(null,i,e),a)},useLayoutEffect:function(e,i){return dc(4194308,4,e,i)},useInsertionEffect:function(e,i){dc(4,2,e,i)},useMemo:function(e,i){var a=rn();i=i===void 0?null:i;var l=e();if(Gs){Nn(!0);try{e()}finally{Nn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=rn();if(a!==void 0){var h=a(i);if(Gs){Nn(!0);try{a(i)}finally{Nn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=YA.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var i=rn();return e={current:e},i.memoizedState=e},useState:function(e){e=ed(e);var i=e.queue,a=Oy.bind(null,It,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:rd,useDeferredValue:function(e,i){var a=rn();return sd(a,e,i)},useTransition:function(){var e=ed(!1);return e=Ry.bind(null,It,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=It,h=rn();if(zt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ie===null)throw Error(s(349));(xt&127)!==0||ey(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,yy(iy.bind(null,l,d,e),[e]),l.flags|=2048,Ua(9,{destroy:void 0},ny.bind(null,l,d,a,i),null),a},useId:function(){var e=rn(),i=ie.identifierPrefix;if(zt){var a=Ci,l=Ri;a=(l&~(1<<32-pe(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=uc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=BA++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:od,useFormState:fy,useActionState:fy,useOptimistic:function(e){var i=rn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ld.bind(null,It,!0,a),a.dispatch=i,[e,i]},useMemoCache:Zf,useCacheRefresh:function(){return rn().memoizedState=KA.bind(null,It)},useEffectEvent:function(e){var i=rn(),a={impl:e};return i.memoizedState=a,function(){if((Kt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},ud={readContext:He,use:hc,useCallback:Ay,useContext:He,useEffect:id,useImperativeHandle:Sy,useInsertionEffect:vy,useLayoutEffect:Ey,useMemo:by,useReducer:fc,useRef:gy,useState:function(){return fc(Ki)},useDebugValue:rd,useDeferredValue:function(e,i){var a=_e();return wy(a,Wt.memoizedState,e,i)},useTransition:function(){var e=fc(Ki)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:ll(e),i]},useSyncExternalStore:ty,useId:Ny,useHostTransitionStatus:od,useFormState:dy,useActionState:dy,useOptimistic:function(e,i){var a=_e();return ay(a,Wt,e,i)},useMemoCache:Zf,useCacheRefresh:Dy};ud.useEffectEvent=_y;var Py={readContext:He,use:hc,useCallback:Ay,useContext:He,useEffect:id,useImperativeHandle:Sy,useInsertionEffect:vy,useLayoutEffect:Ey,useMemo:by,useReducer:td,useRef:gy,useState:function(){return td(Ki)},useDebugValue:rd,useDeferredValue:function(e,i){var a=_e();return Wt===null?sd(a,e,i):wy(a,Wt.memoizedState,e,i)},useTransition:function(){var e=td(Ki)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:ll(e),i]},useSyncExternalStore:ty,useId:Ny,useHostTransitionStatus:od,useFormState:py,useActionState:py,useOptimistic:function(e,i){var a=_e();return Wt!==null?ay(a,Wt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Zf,useCacheRefresh:Dy};Py.useEffectEvent=_y;function cd(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var hd={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=wn(),h=Dr(l);h.payload=i,a!=null&&(h.callback=a),i=Or(e,h,l),i!==null&&(pn(i,e,l),rl(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=wn(),h=Dr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Or(e,h,l),i!==null&&(pn(i,e,l),rl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=wn(),l=Dr(a);l.tag=2,i!=null&&(l.callback=i),i=Or(e,l,a),i!==null&&(pn(i,e,a),rl(i,e,a))}};function Ly(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Xo(a,l)||!Xo(h,d):!0}function Uy(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&hd.enqueueReplaceState(i,i.state,null)}function Qs(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=T({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function ky(e){Ku(e)}function zy(e){console.error(e)}function jy(e){Ku(e)}function gc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function By(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function fd(e,i,a){return a=Dr(a),a.tag=3,a.payload={element:null},a.callback=function(){gc(e,i)},a}function qy(e){return e=Dr(e),e.tag=3,e}function Hy(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){By(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){By(i,a,l),typeof h!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function $A(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Na(i,a,h,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return zn===null?Ic():a.alternate===null&&de===0&&(de=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===ic?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Ud(e,l,h)),!1;case 22:return a.flags|=65536,l===ic?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Ud(e,l,h)),!1}throw Error(s(435,a.tag))}return Ud(e,l,h),Ic(),!1}if(zt)return i=Tn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Of&&(e=Error(s(422),{cause:l}),Wo(Pn(e,a)))):(l!==Of&&(i=Error(s(423),{cause:l}),Wo(Pn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Pn(l,a),h=fd(e.stateNode,l,h),qf(e,h),de!==4&&(de=2)),!1;var d=Error(s(520),{cause:l});if(d=Pn(d,a),_l===null?_l=[d]:_l.push(d),de!==4&&(de=2),i===null)return!0;l=Pn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=fd(a.stateNode,l,e),qf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ur===null||!Ur.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=qy(h),Hy(h,e,a,l),qf(a,h),!1}a=a.return}while(a!==null);return!1}var dd=Error(s(461)),Ce=!1;function Fe(e,i,a,l){i.child=e===null?Kg(i,null,a,l):Fs(i,e.child,a,l)}function Fy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return js(i),l=Yf(e,i,a,_,d,h),S=$f(),e!==null&&!Ce?(Xf(e,i,h),Yi(e,i,h)):(zt&&S&&Nf(i),i.flags|=1,Fe(e,i,l,h),i.child)}function Gy(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Rf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Qy(e,i,d,l,h)):(e=Ju(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Td(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Xo,a(_,l)&&e.ref===i.ref)return Yi(e,i,h)}return i.flags|=1,e=qi(d,l),e.ref=i.ref,e.return=i,i.child=e}function Qy(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Xo(d,l)&&e.ref===i.ref)if(Ce=!1,i.pendingProps=l=d,Td(e,h))(e.flags&131072)!==0&&(Ce=!0);else return i.lanes=e.lanes,Yi(e,i,h)}return md(e,i,a,l,h)}function Ky(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Yy(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&ec(i,d!==null?d.cachePool:null),d!==null?Xg(i,d):Ff(),Jg(i);else return l=i.lanes=536870912,Yy(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ec(i,d.cachePool),Xg(i,d),Vr(),i.memoizedState=null):(e!==null&&ec(i,null),Ff(),Vr());return Fe(e,i,h,a),i.child}function hl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Yy(e,i,a,l,h){var d=kf();return d=d===null?null:{parent:we._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&ec(i,null),Ff(),Jg(i),e!==null&&Na(e,i,l,!0),i.childLanes=h,null}function yc(e,i){return i=vc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function $y(e,i,a){return Fs(i,e.child,null,a),e=yc(i,i.pendingProps),e.flags|=2,Sn(i),i.memoizedState=null,e}function XA(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(zt){if(l.mode==="hidden")return e=yc(i,l),i.lanes=536870912,hl(null,e);if(Qf(i),(e=se)?(e=ov(e,kn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:wr!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=Mg(e),a.return=i,i.child=a,qe=i,se=null)):e=null,e===null)throw Cr(i);return i.lanes=536870912,null}return yc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Qf(i),h)if(i.flags&256)i.flags&=-257,i=$y(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ce||Na(e,i,a,!1),h=(a&e.childLanes)!==0,Ce||h){if(l=ie,l!==null&&(_=Mo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ls(e,_),pn(l,e,_),dd;Ic(),i=$y(e,i,a)}else e=d.treeContext,se=jn(_.nextSibling),qe=i,zt=!0,Rr=null,kn=!1,e!==null&&Pg(i,e),i=yc(i,l),i.flags|=4096;return i}return e=qi(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function _c(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function md(e,i,a,l,h){return js(i),a=Yf(e,i,a,l,void 0,h),l=$f(),e!==null&&!Ce?(Xf(e,i,h),Yi(e,i,h)):(zt&&l&&Nf(i),i.flags|=1,Fe(e,i,a,h),i.child)}function Xy(e,i,a,l,h,d){return js(i),i.updateQueue=null,a=Wg(i,l,a,h),Zg(e),l=$f(),e!==null&&!Ce?(Xf(e,i,d),Yi(e,i,d)):(zt&&l&&Nf(i),i.flags|=1,Fe(e,i,a,d),i.child)}function Jy(e,i,a,l,h){if(js(i),i.stateNode===null){var d=wa,_=a.contextType;typeof _=="object"&&_!==null&&(d=He(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=hd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},jf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?He(_):wa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(cd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&hd.enqueueReplaceState(d,d.state,null),al(i,l,d,h),sl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var S=i.memoizedProps,N=Qs(a,S);d.props=N;var B=d.context,X=a.contextType;_=wa,typeof X=="object"&&X!==null&&(_=He(X));var tt=a.getDerivedStateFromProps;X=typeof tt=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||B!==_)&&Uy(i,d,l,_),Nr=!1;var q=i.memoizedState;d.state=q,al(i,l,d,h),sl(),B=i.memoizedState,S||q!==B||Nr?(typeof tt=="function"&&(cd(i,a,tt,l),B=i.memoizedState),(N=Nr||Ly(i,a,N,l,q,B,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Bf(e,i),_=i.memoizedProps,X=Qs(a,_),d.props=X,tt=i.pendingProps,q=d.context,B=a.contextType,N=wa,typeof B=="object"&&B!==null&&(N=He(B)),S=a.getDerivedStateFromProps,(B=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==tt||q!==N)&&Uy(i,d,l,N),Nr=!1,q=i.memoizedState,d.state=q,al(i,l,d,h),sl();var Q=i.memoizedState;_!==tt||q!==Q||Nr||e!==null&&e.dependencies!==null&&Wu(e.dependencies)?(typeof S=="function"&&(cd(i,a,S,l),Q=i.memoizedState),(X=Nr||Ly(i,a,X,l,q,Q,N)||e!==null&&e.dependencies!==null&&Wu(e.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=N,l=X):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,_c(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Fs(i,e.child,null,h),i.child=Fs(i,null,a,h)):Fe(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Yi(e,i,h),e}function Zy(e,i,a,l){return ks(),i.flags|=256,Fe(e,i,a,l),i.child}var pd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gd(e){return{baseLanes:e,cachePool:Bg()}}function yd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=bn),e}function Wy(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(ye.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(zt){if(h?Mr(i):Vr(),(e=se)?(e=ov(e,kn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:wr!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=Mg(e),a.return=i,i.child=a,qe=i,se=null)):e=null,e===null)throw Cr(i);return Wd(e)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(Vr(),h=i.mode,S=vc({mode:"hidden",children:S},h),l=Us(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=gd(a),l.childLanes=yd(e,_,a),i.memoizedState=pd,hl(null,l)):(Mr(i),_d(i,S))}var N=e.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(d)i.flags&256?(Mr(i),i.flags&=-257,i=vd(e,i,a)):i.memoizedState!==null?(Vr(),i.child=e.child,i.flags|=128,i=null):(Vr(),S=l.fallback,h=i.mode,l=vc({mode:"visible",children:l.children},h),S=Us(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Fs(i,e.child,null,a),l=i.child,l.memoizedState=gd(a),l.childLanes=yd(e,_,a),i.memoizedState=pd,i=hl(null,l));else if(Mr(i),Wd(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,Wo({value:l,source:null,stack:null}),i=vd(e,i,a)}else if(Ce||Na(e,i,a,!1),_=(a&e.childLanes)!==0,Ce||_){if(_=ie,_!==null&&(l=Mo(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Ls(e,l),pn(_,e,l),dd;Zd(S)||Ic(),i=vd(e,i,a)}else Zd(S)?(i.flags|=192,i.child=e.child,i=null):(e=N.treeContext,se=jn(S.nextSibling),qe=i,zt=!0,Rr=null,kn=!1,e!==null&&Pg(i,e),i=_d(i,l.children),i.flags|=4096);return i}return h?(Vr(),S=l.fallback,h=i.mode,N=e.child,B=N.sibling,l=qi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,B!==null?S=qi(B,S):(S=Us(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,hl(null,l),l=i.child,S=e.child.memoizedState,S===null?S=gd(a):(h=S.cachePool,h!==null?(N=we._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Bg(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=yd(e,_,a),i.memoizedState=pd,hl(e.child,l)):(Mr(i),a=e.child,e=a.sibling,a=qi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function _d(e,i){return i=vc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function vc(e,i){return e=En(22,e,null,i),e.lanes=0,e}function vd(e,i,a){return Fs(i,e.child,null,a),e=_d(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function t_(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),xf(e.return,i,a)}function Ed(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function e_(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=ye.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,F(ye,_),Fe(e,i,l,a),l=zt?Zo:0,!S&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&t_(e,a,i);else if(e.tag===19)t_(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&oc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Ed(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&oc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Ed(i,!0,a,null,d,l);break;case"together":Ed(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Yi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Lr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Na(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=qi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=qi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Td(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Wu(e)))}function JA(e,i,a){switch(i.tag){case 3:bt(i,i.stateNode.containerInfo),Ir(i,we,e.memoizedState.cache),ks();break;case 27:case 5:Hn(i);break;case 4:bt(i,i.stateNode.containerInfo);break;case 10:Ir(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Qf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Mr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Wy(e,i,a):(Mr(i),e=Yi(e,i,a),e!==null?e.sibling:null);Mr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Na(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return e_(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),F(ye,ye.current),l)break;return null;case 22:return i.lanes=0,Ky(e,i,a,i.pendingProps);case 24:Ir(i,we,e.memoizedState.cache)}return Yi(e,i,a)}function n_(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ce=!0;else{if(!Td(e,a)&&(i.flags&128)===0)return Ce=!1,JA(e,i,a);Ce=(e.flags&131072)!==0}else Ce=!1,zt&&(i.flags&1048576)!==0&&xg(i,Zo,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=qs(i.elementType),i.type=e,typeof e=="function")Rf(e)?(l=Qs(e,l),i.tag=1,i=Jy(null,i,e,l,a)):(i.tag=0,i=md(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===_t){i.tag=11,i=Fy(null,i,e,l,a);break t}else if(h===C){i.tag=14,i=Gy(null,i,e,l,a);break t}}throw i=qt(e)||e,Error(s(306,i,""))}}return i;case 0:return md(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Qs(l,i.pendingProps),Jy(e,i,l,h,a);case 3:t:{if(bt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Bf(e,i),al(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Ir(i,we,l),l!==d.cache&&Pf(i,[we],a,!0),sl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Zy(e,i,l,a);break t}else if(l!==h){h=Pn(Error(s(424)),i),Wo(h),i=Zy(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(se=jn(e.firstChild),qe=i,zt=!0,Rr=null,kn=!0,a=Kg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ks(),l===h){i=Yi(e,i,a);break t}Fe(e,i,l,a)}i=i.child}return i;case 26:return _c(e,i),e===null?(a=dv(i.type,null,i.pendingProps,null))?i.memoizedState=a:zt||(a=i.type,e=i.pendingProps,l=Pc(ft.current).createElement(a),l[Se]=i,l[Pe]=e,Ge(l,a,e),Ae(l),i.stateNode=l):i.memoizedState=dv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Hn(i),e===null&&zt&&(l=i.stateNode=cv(i.type,i.pendingProps,ft.current),qe=i,kn=!0,h=se,Br(i.type)?(tm=h,se=jn(l.firstChild)):se=h),Fe(e,i,i.pendingProps.children,a),_c(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&zt&&((h=l=se)&&(l=Cb(l,i.type,i.pendingProps,kn),l!==null?(i.stateNode=l,qe=i,se=jn(l.firstChild),kn=!1,h=!0):h=!1),h||Cr(i)),Hn(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,$d(h,d)?l=null:_!==null&&$d(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Yf(e,i,qA,null,null,a),Rl._currentValue=h),_c(e,i),Fe(e,i,l,a),i.child;case 6:return e===null&&zt&&((e=a=se)&&(a=Ib(a,i.pendingProps,kn),a!==null?(i.stateNode=a,qe=i,se=null,e=!0):e=!1),e||Cr(i)),null;case 13:return Wy(e,i,a);case 4:return bt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Fs(i,null,l,a):Fe(e,i,l,a),i.child;case 11:return Fy(e,i,i.type,i.pendingProps,a);case 7:return Fe(e,i,i.pendingProps,a),i.child;case 8:return Fe(e,i,i.pendingProps.children,a),i.child;case 12:return Fe(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ir(i,i.type,l.value),Fe(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,js(i),h=He(h),l=l(h),i.flags|=1,Fe(e,i,l,a),i.child;case 14:return Gy(e,i,i.type,i.pendingProps,a);case 15:return Qy(e,i,i.type,i.pendingProps,a);case 19:return e_(e,i,a);case 31:return XA(e,i,a);case 22:return Ky(e,i,a,i.pendingProps);case 24:return js(i),l=He(we),e===null?(h=kf(),h===null&&(h=ie,d=Lf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},jf(i),Ir(i,we,h)):((e.lanes&a)!==0&&(Bf(e,i),al(i,null,null,a),sl()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ir(i,we,l)):(l=d.cache,Ir(i,we,l),l!==h.cache&&Pf(i,[we],a,!0))),Fe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function $i(e){e.flags|=4}function Sd(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(N_())e.flags|=8192;else throw Hs=ic,zf}else e.flags&=-16777217}function i_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!_v(i))if(N_())e.flags|=8192;else throw Hs=ic,zf}function Ec(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Ru():536870912,e.lanes|=i,Ba|=i)}function fl(e,i){if(!zt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ae(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function ZA(e,i,a){var l=i.pendingProps;switch(Df(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(i),null;case 1:return ae(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Gi(we),Yt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ia(i)?$i(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Mf())),ae(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?($i(i),d!==null?(ae(i),i_(i,d)):(ae(i),Sd(i,h,null,l,a))):d?d!==e.memoizedState?($i(i),ae(i),i_(i,d)):(ae(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&$i(i),ae(i),Sd(i,h,e,l,a)),null;case 27:if(dr(i),a=ft.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&$i(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ae(i),null}e=st.current,Ia(i)?Lg(i):(e=cv(h,l,a),i.stateNode=e,$i(i))}return ae(i),null;case 5:if(dr(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&$i(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ae(i),null}if(d=st.current,Ia(i))Lg(i);else{var _=Pc(ft.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Se]=i,d[Pe]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(Ge(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&$i(i)}}return ae(i),Sd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&$i(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=ft.current,Ia(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=qe,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Se]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||W_(e.nodeValue,a)),e||Cr(i,!0)}else e=Pc(e).createTextNode(l),e[Se]=i,i.stateNode=e}return ae(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=Ia(i),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Se]=i}else ks(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ae(i),e=!1}else a=Mf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(Sn(i),i):(Sn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ae(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ia(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Se]=i}else ks(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ae(i),h=!1}else h=Mf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Sn(i),i):(Sn(i),null)}return Sn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),Ec(i,i.updateQueue),ae(i),null);case 4:return Yt(),e===null&&Fd(i.stateNode.containerInfo),ae(i),null;case 10:return Gi(i.type),ae(i),null;case 19:if(P(ye),l=i.memoizedState,l===null)return ae(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)fl(l,!1);else{if(de!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=oc(e),d!==null){for(i.flags|=128,fl(l,!1),e=d.updateQueue,i.updateQueue=e,Ec(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Og(a,e),a=a.sibling;return F(ye,ye.current&1|2),zt&&Hi(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&en()>wc&&(i.flags|=128,h=!0,fl(l,!1),i.lanes=4194304)}else{if(!h)if(e=oc(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,Ec(i,e),fl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!zt)return ae(i),null}else 2*en()-l.renderingStartTime>wc&&a!==536870912&&(i.flags|=128,h=!0,fl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=en(),e.sibling=null,a=ye.current,F(ye,h?a&1|2:a&1),zt&&Hi(i,l.treeForkCount),e):(ae(i),null);case 22:case 23:return Sn(i),Gf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ae(i),i.subtreeFlags&6&&(i.flags|=8192)):ae(i),a=i.updateQueue,a!==null&&Ec(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&P(Bs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Gi(we),ae(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function WA(e,i){switch(Df(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Gi(we),Yt(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return dr(i),null;case 31:if(i.memoizedState!==null){if(Sn(i),i.alternate===null)throw Error(s(340));ks()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Sn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ks()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return P(ye),null;case 4:return Yt(),null;case 10:return Gi(i.type),null;case 22:case 23:return Sn(i),Gf(),e!==null&&P(Bs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Gi(we),null;case 25:return null;default:return null}}function r_(e,i){switch(Df(i),i.tag){case 3:Gi(we),Yt();break;case 26:case 27:case 5:dr(i);break;case 4:Yt();break;case 31:i.memoizedState!==null&&Sn(i);break;case 13:Sn(i);break;case 19:P(ye);break;case 10:Gi(i.type);break;case 22:case 23:Sn(i),Gf(),e!==null&&P(Bs);break;case 24:Gi(we)}}function dl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){Jt(i,i.return,S)}}function xr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var N=a,B=S;try{B()}catch(X){Jt(h,N,X)}}}l=l.next}while(l!==d)}}catch(X){Jt(i,i.return,X)}}function s_(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{$g(i,a)}catch(l){Jt(e,e.return,l)}}}function a_(e,i,a){a.props=Qs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Jt(e,i,l)}}function ml(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Jt(e,i,h)}}function Ii(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Jt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Jt(e,i,h)}else a.current=null}function o_(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Jt(e,e.return,h)}}function Ad(e,i,a){try{var l=e.stateNode;Tb(l,e.type,a,i),l[Pe]=i}catch(h){Jt(e,e.return,h)}}function l_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Br(e.type)||e.tag===4}function bd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||l_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Br(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Yn));else if(l!==4&&(l===27&&Br(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(wd(e,i,a),e=e.sibling;e!==null;)wd(e,i,a),e=e.sibling}function Tc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Br(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Tc(e,i,a),e=e.sibling;e!==null;)Tc(e,i,a),e=e.sibling}function u_(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ge(i,l,a),i[Se]=e,i[Pe]=a}catch(d){Jt(e,e.return,d)}}var Xi=!1,Ie=!1,Rd=!1,c_=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function tb(e,i){if(e=e.containerInfo,Kd=qc,e=Sg(e),vf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,S=-1,N=-1,B=0,X=0,tt=e,q=null;e:for(;;){for(var Q;tt!==a||h!==0&&tt.nodeType!==3||(S=_+h),tt!==d||l!==0&&tt.nodeType!==3||(N=_+l),tt.nodeType===3&&(_+=tt.nodeValue.length),(Q=tt.firstChild)!==null;)q=tt,tt=Q;for(;;){if(tt===e)break e;if(q===a&&++B===h&&(S=_),q===d&&++X===l&&(N=_),(Q=tt.nextSibling)!==null)break;tt=q,q=tt.parentNode}tt=Q}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yd={focusedElem:e,selectionRange:a},qc=!1,Ue=i;Ue!==null;)if(i=Ue,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Ue=e;else for(;Ue!==null;){switch(i=Ue,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var dt=Qs(a.type,h);e=l.getSnapshotBeforeUpdate(dt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Et){Jt(a,a.return,Et)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Jd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Jd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Ue=e;break}Ue=i.return}}function h_(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Zi(e,a),l&4&&dl(5,a);break;case 1:if(Zi(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Jt(a,a.return,_)}else{var h=Qs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Jt(a,a.return,_)}}l&64&&s_(a),l&512&&ml(a,a.return);break;case 3:if(Zi(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{$g(e,i)}catch(_){Jt(a,a.return,_)}}break;case 27:i===null&&l&4&&u_(a);case 26:case 5:Zi(e,a),i===null&&l&4&&o_(a),l&512&&ml(a,a.return);break;case 12:Zi(e,a);break;case 31:Zi(e,a),l&4&&m_(e,a);break;case 13:Zi(e,a),l&4&&p_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=ub.bind(null,a),Nb(e,a))));break;case 22:if(l=a.memoizedState!==null||Xi,!l){i=i!==null&&i.memoizedState!==null||Ie,h=Xi;var d=Ie;Xi=l,(Ie=i)&&!d?Wi(e,a,(a.subtreeFlags&8772)!==0):Zi(e,a),Xi=h,Ie=d}break;case 30:break;default:Zi(e,a)}}function f_(e){var i=e.alternate;i!==null&&(e.alternate=null,f_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ha(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,hn=!1;function Ji(e,i,a){for(a=a.child;a!==null;)d_(e,i,a),a=a.sibling}function d_(e,i,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Fn,a)}catch{}switch(a.tag){case 26:Ie||Ii(a,i),Ji(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ie||Ii(a,i);var l=le,h=hn;Br(a.type)&&(le=a.stateNode,hn=!1),Ji(e,i,a),Al(a.stateNode),le=l,hn=h;break;case 5:Ie||Ii(a,i);case 6:if(l=le,h=hn,le=null,Ji(e,i,a),le=l,hn=h,le!==null)if(hn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(d){Jt(a,i,d)}else try{le.removeChild(a.stateNode)}catch(d){Jt(a,i,d)}break;case 18:le!==null&&(hn?(e=le,sv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),$a(e)):sv(le,a.stateNode));break;case 4:l=le,h=hn,le=a.stateNode.containerInfo,hn=!0,Ji(e,i,a),le=l,hn=h;break;case 0:case 11:case 14:case 15:xr(2,a,i),Ie||xr(4,a,i),Ji(e,i,a);break;case 1:Ie||(Ii(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&a_(a,i,l)),Ji(e,i,a);break;case 21:Ji(e,i,a);break;case 22:Ie=(l=Ie)||a.memoizedState!==null,Ji(e,i,a),Ie=l;break;default:Ji(e,i,a)}}function m_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{$a(e)}catch(a){Jt(i,i.return,a)}}}function p_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{$a(e)}catch(a){Jt(i,i.return,a)}}function eb(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new c_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new c_),i;default:throw Error(s(435,e.tag))}}function Sc(e,i){var a=eb(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=cb.bind(null,e,l);l.then(h,h)}})}function fn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,S=_;t:for(;S!==null;){switch(S.tag){case 27:if(Br(S.type)){le=S.stateNode,hn=!1;break t}break;case 5:le=S.stateNode,hn=!1;break t;case 3:case 4:le=S.stateNode.containerInfo,hn=!0;break t}S=S.return}if(le===null)throw Error(s(160));d_(d,_,h),le=null,hn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)g_(i,e),i=i.sibling}var ti=null;function g_(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fn(i,e),dn(e),l&4&&(xr(3,e,e.return),dl(3,e),xr(5,e,e.return));break;case 1:fn(i,e),dn(e),l&512&&(Ie||a===null||Ii(a,a.return)),l&64&&Xi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ti;if(fn(i,e),dn(e),l&512&&(Ie||a===null||Ii(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[mi]||d[Se]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ge(d,l,a),d[Se]=e,Ae(d),l=d;break t;case"link":var _=gv("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break e}}d=h.createElement(l),Ge(d,l,a),h.head.appendChild(d);break;case"meta":if(_=gv("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break e}}d=h.createElement(l),Ge(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Se]=e,Ae(d),l=d}e.stateNode=l}else yv(h,e.type,e.stateNode);else e.stateNode=pv(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?yv(h,e.type,e.stateNode):pv(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ad(e,e.memoizedProps,a.memoizedProps)}break;case 27:fn(i,e),dn(e),l&512&&(Ie||a===null||Ii(a,a.return)),a!==null&&l&4&&Ad(e,e.memoizedProps,a.memoizedProps);break;case 5:if(fn(i,e),dn(e),l&512&&(Ie||a===null||Ii(a,a.return)),e.flags&32){h=e.stateNode;try{cn(h,"")}catch(dt){Jt(e,e.return,dt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Ad(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Rd=!0);break;case 6:if(fn(i,e),dn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(dt){Jt(e,e.return,dt)}}break;case 3:if(kc=null,h=ti,ti=Lc(i.containerInfo),fn(i,e),ti=h,dn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{$a(i.containerInfo)}catch(dt){Jt(e,e.return,dt)}Rd&&(Rd=!1,y_(e));break;case 4:l=ti,ti=Lc(e.stateNode.containerInfo),fn(i,e),dn(e),ti=l;break;case 12:fn(i,e),dn(e);break;case 31:fn(i,e),dn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Sc(e,l)));break;case 13:fn(i,e),dn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(bc=en()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Sc(e,l)));break;case 22:h=e.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,B=Xi,X=Ie;if(Xi=B||h,Ie=X||N,fn(i,e),Ie=X,Xi=B,dn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||Xi||Ie||Ks(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=N.stateNode;var tt=N.memoizedProps.style,q=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(dt){Jt(N,N.return,dt)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(dt){Jt(N,N.return,dt)}}}else if(i.tag===18){if(a===null){N=i;try{var Q=N.stateNode;h?av(Q,!0):av(N.stateNode,!1)}catch(dt){Jt(N,N.return,dt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Sc(e,a))));break;case 19:fn(i,e),dn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Sc(e,l)));break;case 30:break;case 21:break;default:fn(i,e),dn(e)}}function dn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(l_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=bd(e);Tc(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(cn(_,""),a.flags&=-33);var S=bd(e);Tc(e,S,_);break;case 3:case 4:var N=a.stateNode.containerInfo,B=bd(e);wd(e,B,N);break;default:throw Error(s(161))}}catch(X){Jt(e,e.return,X)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function y_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;y_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Zi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)h_(e,i.alternate,i),i=i.sibling}function Ks(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:xr(4,i,i.return),Ks(i);break;case 1:Ii(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&a_(i,i.return,a),Ks(i);break;case 27:Al(i.stateNode);case 26:case 5:Ii(i,i.return),Ks(i);break;case 22:i.memoizedState===null&&Ks(i);break;case 30:Ks(i);break;default:Ks(i)}e=e.sibling}}function Wi(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Wi(h,d,a),dl(4,d);break;case 1:if(Wi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Jt(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Yg(N[h],S)}catch(B){Jt(l,l.return,B)}}a&&_&64&&s_(d),ml(d,d.return);break;case 27:u_(d);case 26:case 5:Wi(h,d,a),a&&l===null&&_&4&&o_(d),ml(d,d.return);break;case 12:Wi(h,d,a);break;case 31:Wi(h,d,a),a&&_&4&&m_(h,d);break;case 13:Wi(h,d,a),a&&_&4&&p_(h,d);break;case 22:d.memoizedState===null&&Wi(h,d,a),ml(d,d.return);break;case 30:break;default:Wi(h,d,a)}i=i.sibling}}function Cd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&tl(a))}function Id(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&tl(e))}function ei(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)__(e,i,a,l),i=i.sibling}function __(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ei(e,i,a,l),h&2048&&dl(9,i);break;case 1:ei(e,i,a,l);break;case 3:ei(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&tl(e)));break;case 12:if(h&2048){ei(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){Jt(i,i.return,N)}}else ei(e,i,a,l);break;case 31:ei(e,i,a,l);break;case 13:ei(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ei(e,i,a,l):pl(e,i):d._visibility&2?ei(e,i,a,l):(d._visibility|=2,ka(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Cd(_,i);break;case 24:ei(e,i,a,l),h&2048&&Id(i.alternate,i);break;default:ei(e,i,a,l)}}function ka(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,S=a,N=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:ka(d,_,S,N,h),dl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?ka(d,_,S,N,h):pl(d,_):(X._visibility|=2,ka(d,_,S,N,h)),h&&B&2048&&Cd(_.alternate,_);break;case 24:ka(d,_,S,N,h),h&&B&2048&&Id(_.alternate,_);break;default:ka(d,_,S,N,h)}i=i.sibling}}function pl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:pl(a,l),h&2048&&Cd(l.alternate,l);break;case 24:pl(a,l),h&2048&&Id(l.alternate,l);break;default:pl(a,l)}i=i.sibling}}var gl=8192;function za(e,i,a){if(e.subtreeFlags&gl)for(e=e.child;e!==null;)v_(e,i,a),e=e.sibling}function v_(e,i,a){switch(e.tag){case 26:za(e,i,a),e.flags&gl&&e.memoizedState!==null&&Bb(a,ti,e.memoizedState,e.memoizedProps);break;case 5:za(e,i,a);break;case 3:case 4:var l=ti;ti=Lc(e.stateNode.containerInfo),za(e,i,a),ti=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=gl,gl=16777216,za(e,i,a),gl=l):za(e,i,a));break;default:za(e,i,a)}}function E_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function yl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ue=l,S_(l,e)}E_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)T_(e),e=e.sibling}function T_(e){switch(e.tag){case 0:case 11:case 15:yl(e),e.flags&2048&&xr(9,e,e.return);break;case 3:yl(e);break;case 12:yl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Ac(e)):yl(e);break;default:yl(e)}}function Ac(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ue=l,S_(l,e)}E_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:xr(8,i,i.return),Ac(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ac(i));break;default:Ac(i)}e=e.sibling}}function S_(e,i){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:xr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:tl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ue=l;else t:for(a=e;Ue!==null;){l=Ue;var h=l.sibling,d=l.return;if(f_(l),l===a){Ue=null;break t}if(h!==null){h.return=d,Ue=h;break t}Ue=d}}}var nb={getCacheForType:function(e){var i=He(we),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return He(we).controller.signal}},ib=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ie=null,Mt=null,xt=0,Xt=0,An=null,Pr=!1,ja=!1,Nd=!1,tr=0,de=0,Lr=0,Ys=0,Dd=0,bn=0,Ba=0,_l=null,mn=null,Od=!1,bc=0,A_=0,wc=1/0,Rc=null,Ur=null,Ve=0,kr=null,qa=null,er=0,Md=0,Vd=null,b_=null,vl=0,xd=null;function wn(){return(Kt&2)!==0&&xt!==0?xt&-xt:$.T!==null?jd():Cu()}function w_(){if(bn===0)if((xt&536870912)===0||zt){var e=Ts;Ts<<=1,(Ts&3932160)===0&&(Ts=262144),bn=e}else bn=536870912;return e=Tn.current,e!==null&&(e.flags|=32),bn}function pn(e,i,a){(e===ie&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(Ha(e,0),zr(e,xt,bn,!1)),Ss(e,a),((Kt&2)===0||e!==ie)&&(e===ie&&((Kt&2)===0&&(Ys|=a),de===4&&zr(e,xt,bn,!1)),Ni(e))}function R_(e,i,a){if((Kt&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Gn(e,i),h=l?ab(e,i):Ld(e,i,!0),d=l;do{if(h===0){ja&&!l&&zr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!rb(a)){h=Ld(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var S=e;h=_l;var N=S.current.memoizedState.isDehydrated;if(N&&(Ha(S,_).flags|=256),_=Ld(S,_,!1),_!==2){if(Nd&&!N){S.errorRecoveryDisabledLanes|=d,Ys|=d,h=4;break t}d=mn,mn=h,d!==null&&(mn===null?mn=d:mn.push.apply(mn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ha(e,0),zr(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:zr(l,i,bn,!Pr);break t;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=bc+300-en(),10<h)){if(zr(l,i,bn,!Pr),hi(l,0,!0)!==0)break t;er=i,l.timeoutHandle=iv(C_.bind(null,l,a,mn,Rc,Od,i,bn,Ys,Ba,Pr,d,"Throttled",-0,0),h);break t}C_(l,a,mn,Rc,Od,i,bn,Ys,Ba,Pr,d,null,-0,0)}}break}while(!0);Ni(e)}function C_(e,i,a,l,h,d,_,S,N,B,X,tt,q,Q){if(e.timeoutHandle=-1,tt=i.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},v_(i,d,tt);var dt=(d&62914560)===d?bc-en():(d&4194048)===d?A_-en():0;if(dt=qb(tt,dt),dt!==null){er=d,e.cancelPendingCommit=dt(P_.bind(null,e,i,d,a,l,h,_,S,N,X,tt,null,q,Q)),zr(e,d,_,!B);return}}P_(e,i,d,a,l,h,_,S,N)}function rb(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!vn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function zr(e,i,a,l){i&=~Dd,i&=~Ys,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-pe(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&As(e,a,i)}function Cc(){return(Kt&6)===0?(El(0),!1):!0}function Pd(){if(Mt!==null){if(Xt===0)var e=Mt.return;else e=Mt,Fi=zs=null,Jf(e),Va=null,nl=0,e=Mt;for(;e!==null;)r_(e.alternate,e),e=e.return;Mt=null}}function Ha(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,bb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),er=0,Pd(),ie=e,Mt=a=qi(e.current,null),xt=i,Xt=0,An=null,Pr=!1,ja=Gn(e,i),Nd=!1,Ba=bn=Dd=Ys=Lr=de=0,mn=_l=null,Od=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-pe(l),d=1<<h;i|=e[h],l&=~d}return tr=i,Yu(),a}function I_(e,i){It=null,$.H=cl,i===Ma||i===nc?(i=Fg(),Xt=3):i===zf?(i=Fg(),Xt=4):Xt=i===dd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,An=i,Mt===null&&(de=1,gc(e,Pn(i,e.current)))}function N_(){var e=Tn.current;return e===null?!0:(xt&4194048)===xt?zn===null:(xt&62914560)===xt||(xt&536870912)!==0?e===zn:!1}function D_(){var e=$.H;return $.H=cl,e===null?cl:e}function O_(){var e=$.A;return $.A=nb,e}function Ic(){de=4,Pr||(xt&4194048)!==xt&&Tn.current!==null||(ja=!0),(Lr&134217727)===0&&(Ys&134217727)===0||ie===null||zr(ie,xt,bn,!1)}function Ld(e,i,a){var l=Kt;Kt|=2;var h=D_(),d=O_();(ie!==e||xt!==i)&&(Rc=null,Ha(e,i)),i=!1;var _=de;t:do try{if(Xt!==0&&Mt!==null){var S=Mt,N=An;switch(Xt){case 8:Pd(),_=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(i=!0);var B=Xt;if(Xt=0,An=null,Fa(e,S,N,B),a&&ja){_=0;break t}break;default:B=Xt,Xt=0,An=null,Fa(e,S,N,B)}}sb(),_=de;break}catch(X){I_(e,X)}while(!0);return i&&e.shellSuspendCounter++,Fi=zs=null,Kt=l,$.H=h,$.A=d,Mt===null&&(ie=null,xt=0,Yu()),_}function sb(){for(;Mt!==null;)M_(Mt)}function ab(e,i){var a=Kt;Kt|=2;var l=D_(),h=O_();ie!==e||xt!==i?(Rc=null,wc=en()+500,Ha(e,i)):ja=Gn(e,i);t:do try{if(Xt!==0&&Mt!==null){i=Mt;var d=An;e:switch(Xt){case 1:Xt=0,An=null,Fa(e,i,d,1);break;case 2:case 9:if(qg(d)){Xt=0,An=null,V_(i);break}i=function(){Xt!==2&&Xt!==9||ie!==e||(Xt=7),Ni(e)},d.then(i,i);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:qg(d)?(Xt=0,An=null,V_(i)):(Xt=0,An=null,Fa(e,i,d,7));break;case 5:var _=null;switch(Mt.tag){case 26:_=Mt.memoizedState;case 5:case 27:var S=Mt;if(_?_v(_):S.stateNode.complete){Xt=0,An=null;var N=S.sibling;if(N!==null)Mt=N;else{var B=S.return;B!==null?(Mt=B,Nc(B)):Mt=null}break e}}Xt=0,An=null,Fa(e,i,d,5);break;case 6:Xt=0,An=null,Fa(e,i,d,6);break;case 8:Pd(),de=6;break t;default:throw Error(s(462))}}ob();break}catch(X){I_(e,X)}while(!0);return Fi=zs=null,$.H=l,$.A=h,Kt=a,Mt!==null?0:(ie=null,xt=0,Yu(),de)}function ob(){for(;Mt!==null&&!ff();)M_(Mt)}function M_(e){var i=n_(e.alternate,e,tr);e.memoizedProps=e.pendingProps,i===null?Nc(e):Mt=i}function V_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Xy(a,i,i.pendingProps,i.type,void 0,xt);break;case 11:i=Xy(a,i,i.pendingProps,i.type.render,i.ref,xt);break;case 5:Jf(i);default:r_(a,i),i=Mt=Og(i,tr),i=n_(a,i,tr)}e.memoizedProps=e.pendingProps,i===null?Nc(e):Mt=i}function Fa(e,i,a,l){Fi=zs=null,Jf(i),Va=null,nl=0;var h=i.return;try{if($A(e,h,i,a,xt)){de=1,gc(e,Pn(a,e.current)),Mt=null;return}}catch(d){if(h!==null)throw Mt=h,d;de=1,gc(e,Pn(a,e.current)),Mt=null;return}i.flags&32768?(zt||l===1?e=!0:ja||(xt&536870912)!==0?e=!1:(Pr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),x_(i,e)):Nc(i)}function Nc(e){var i=e;do{if((i.flags&32768)!==0){x_(i,Pr);return}e=i.return;var a=ZA(i.alternate,i,tr);if(a!==null){Mt=a;return}if(i=i.sibling,i!==null){Mt=i;return}Mt=i=e}while(i!==null);de===0&&(de=5)}function x_(e,i){do{var a=WA(e.alternate,e);if(a!==null){a.flags&=32767,Mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=a}while(e!==null);de=6,Mt=null}function P_(e,i,a,l,h,d,_,S,N){e.cancelPendingCommit=null;do Dc();while(Ve!==0);if((Kt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=bf,pf(e,a,d,_,S,N),e===ie&&(Mt=ie=null,xt=0),qa=i,kr=e,er=a,Md=d,Vd=h,b_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,hb(pr,function(){return j_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=ut.p,ut.p=2,_=Kt,Kt|=4;try{tb(e,i,a)}finally{Kt=_,ut.p=h,$.T=l}}Ve=1,L_(),U_(),k_()}}function L_(){if(Ve===1){Ve=0;var e=kr,i=qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=ut.p;ut.p=2;var h=Kt;Kt|=4;try{g_(i,e);var d=Yd,_=Sg(e.containerInfo),S=d.focusedElem,N=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&Tg(S.ownerDocument.documentElement,S)){if(N!==null&&vf(S)){var B=N.start,X=N.end;if(X===void 0&&(X=B),"selectionStart"in S)S.selectionStart=B,S.selectionEnd=Math.min(X,S.value.length);else{var tt=S.ownerDocument||document,q=tt&&tt.defaultView||window;if(q.getSelection){var Q=q.getSelection(),dt=S.textContent.length,Et=Math.min(N.start,dt),ee=N.end===void 0?Et:Math.min(N.end,dt);!Q.extend&&Et>ee&&(_=ee,ee=Et,Et=_);var k=Eg(S,Et),V=Eg(S,ee);if(k&&V&&(Q.rangeCount!==1||Q.anchorNode!==k.node||Q.anchorOffset!==k.offset||Q.focusNode!==V.node||Q.focusOffset!==V.offset)){var j=tt.createRange();j.setStart(k.node,k.offset),Q.removeAllRanges(),Et>ee?(Q.addRange(j),Q.extend(V.node,V.offset)):(j.setEnd(V.node,V.offset),Q.addRange(j))}}}}for(tt=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&tt.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<tt.length;S++){var W=tt[S];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}qc=!!Kd,Yd=Kd=null}finally{Kt=h,ut.p=l,$.T=a}}e.current=i,Ve=2}}function U_(){if(Ve===2){Ve=0;var e=kr,i=qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=ut.p;ut.p=2;var h=Kt;Kt|=4;try{h_(e,i.alternate,i)}finally{Kt=h,ut.p=l,$.T=a}}Ve=3}}function k_(){if(Ve===4||Ve===3){Ve=0,Eu();var e=kr,i=qa,a=er,l=b_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ve=5:(Ve=0,qa=kr=null,z_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ur=null),ki(a),i=i.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Fn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,h=ut.p,ut.p=2,$.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{$.T=i,ut.p=h}}(er&3)!==0&&Dc(),Ni(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===xd?vl++:(vl=0,xd=e):vl=0,El(0)}}function z_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,tl(i)))}function Dc(){return L_(),U_(),k_(),j_()}function j_(){if(Ve!==5)return!1;var e=kr,i=Md;Md=0;var a=ki(er),l=$.T,h=ut.p;try{ut.p=32>a?32:a,$.T=null,a=Vd,Vd=null;var d=kr,_=er;if(Ve=0,qa=kr=null,er=0,(Kt&6)!==0)throw Error(s(331));var S=Kt;if(Kt|=4,T_(d.current),__(d,d.current,_,a),Kt=S,El(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Fn,d)}catch{}return!0}finally{ut.p=h,$.T=l,z_(e,i)}}function B_(e,i,a){i=Pn(a,i),i=fd(e.stateNode,i,2),e=Or(e,i,2),e!==null&&(Ss(e,2),Ni(e))}function Jt(e,i,a){if(e.tag===3)B_(e,e,a);else for(;i!==null;){if(i.tag===3){B_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ur===null||!Ur.has(l))){e=Pn(a,e),a=qy(2),l=Or(i,a,2),l!==null&&(Hy(a,l,i,e),Ss(l,2),Ni(l));break}}i=i.return}}function Ud(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new ib;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Nd=!0,h.add(a),e=lb.bind(null,e,i,a),i.then(e,e))}function lb(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ie===e&&(xt&a)===a&&(de===4||de===3&&(xt&62914560)===xt&&300>en()-bc?(Kt&2)===0&&Ha(e,0):Dd|=a,Ba===xt&&(Ba=0)),Ni(e)}function q_(e,i){i===0&&(i=Ru()),e=Ls(e,i),e!==null&&(Ss(e,i),Ni(e))}function ub(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),q_(e,a)}function cb(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),q_(e,a)}function hb(e,i){return Me(e,i)}var Oc=null,Ga=null,kd=!1,Mc=!1,zd=!1,jr=0;function Ni(e){e!==Ga&&e.next===null&&(Ga===null?Oc=Ga=e:Ga=Ga.next=e),Mc=!0,kd||(kd=!0,db())}function El(e,i){if(!zd&&Mc){zd=!0;do for(var a=!1,l=Oc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-pe(42|e)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Q_(l,d))}else d=xt,d=hi(l,l===ie?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Gn(l,d)||(a=!0,Q_(l,d));l=l.next}while(a);zd=!1}}function fb(){H_()}function H_(){Mc=kd=!1;var e=0;jr!==0&&Ab()&&(e=jr);for(var i=en(),a=null,l=Oc;l!==null;){var h=l.next,d=F_(l,i);d===0?(l.next=null,a===null?Oc=h:a.next=h,h===null&&(Ga=a)):(a=l,(e!==0||(d&3)!==0)&&(Mc=!0)),l=h}Ve!==0&&Ve!==5||El(e),jr!==0&&(jr=0)}function F_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-pe(d),S=1<<_,N=h[_];N===-1?((S&a)===0||(S&l)!==0)&&(h[_]=mf(S,i)):N<=i&&(e.expiredLanes|=S),d&=~S}if(i=ie,a=xt,a=hi(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&mr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Gn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&mr(l),ki(a)){case 2:case 8:a=Do;break;case 32:a=pr;break;case 268435456:a=Tu;break;default:a=pr}return l=G_.bind(null,e),a=Me(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&mr(l),e.callbackPriority=2,e.callbackNode=null,2}function G_(e,i){if(Ve!==0&&Ve!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Dc()&&e.callbackNode!==a)return null;var l=xt;return l=hi(e,e===ie?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(R_(e,l,i),F_(e,en()),e.callbackNode!=null&&e.callbackNode===a?G_.bind(null,e):null)}function Q_(e,i){if(Dc())return null;R_(e,i,!0)}function db(){wb(function(){(Kt&6)!==0?Me(No,fb):H_()})}function jd(){if(jr===0){var e=Da;e===0&&(e=ui,ui<<=1,(ui&261888)===0&&(ui=256)),jr=e}return jr}function K_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:pa(""+e)}function Y_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function mb(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=K_((h[Pe]||null).action),_=l.submitter;_&&(i=(i=_[Pe]||null)?K_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new Si("action","action",null,l,h);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(jr!==0){var N=_?Y_(h,_):new FormData(h);ad(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(S.preventDefault(),N=_?Y_(h,_):new FormData(h),ad(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var Bd=0;Bd<Af.length;Bd++){var qd=Af[Bd],pb=qd.toLowerCase(),gb=qd[0].toUpperCase()+qd.slice(1);Wn(pb,"on"+gb)}Wn(wg,"onAnimationEnd"),Wn(Rg,"onAnimationIteration"),Wn(Cg,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(MA,"onTransitionRun"),Wn(VA,"onTransitionStart"),Wn(xA,"onTransitionCancel"),Wn(Ig,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function $_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],N=S.instance,B=S.currentTarget;if(S=S.listener,N!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=B;try{d(h)}catch(X){Ku(X)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(S=l[_],N=S.instance,B=S.currentTarget,S=S.listener,N!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=B;try{d(h)}catch(X){Ku(X)}h.currentTarget=null,d=N}}}}function Vt(e,i){var a=i[ca];a===void 0&&(a=i[ca]=new Set);var l=e+"__bubble";a.has(l)||(X_(i,e,2,!1),a.add(l))}function Hd(e,i,a){var l=0;i&&(l|=4),X_(a,e,l,i)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function Fd(e){if(!e[Vc]){e[Vc]=!0,Vo.forEach(function(a){a!=="selectionchange"&&(yb.has(a)||Hd(a,!1,e),Hd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Vc]||(i[Vc]=!0,Hd("selectionchange",!1,i))}}function X_(e,i,a,l){switch(wv(i)){case 2:var h=Gb;break;case 8:h=Qb;break;default:h=sm}a=h.bind(null,i,a,e),h=void 0,!Is||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Gd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=pi(S),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue t}S=S.parentNode}}l=l.return}Tr(function(){var B=d,X=On(a),tt=[];t:{var q=Ng.get(e);if(q!==void 0){var Q=Si,dt=e;switch(e){case"keypress":if(Ds(a)===0)break t;case"keydown":case"keyup":Q=Fu;break;case"focusin":dt="focus",Q=Ms;break;case"focusout":dt="blur",Q=Ms;break;case"beforeblur":case"afterblur":Q=Ms;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=g;break;case wg:case Rg:case Cg:Q=Uu;break;case Ig:Q=A;break;case"scroll":case"scrollend":Q=Go;break;case"wheel":Q=G;break;case"copy":case"cut":case"paste":Q=ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Bi;break;case"toggle":case"beforetoggle":Q=Ct}var Et=(i&4)!==0,ee=!Et&&(e==="scroll"||e==="scrollend"),k=Et?q!==null?q+"Capture":null:q;Et=[];for(var V=B,j;V!==null;){var W=V;if(j=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||j===null||k===null||(W=$n(V,k),W!=null&&Et.push(Sl(V,W,j))),ee)break;V=V.return}0<Et.length&&(q=new Q(q,dt,null,a,X),tt.push({event:q,listeners:Et}))}}if((i&7)===0){t:{if(q=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",q&&a!==qo&&(dt=a.relatedTarget||a.fromElement)&&(pi(dt)||dt[di]))break t;if((Q||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,Q?(dt=a.relatedTarget||a.toElement,Q=B,dt=dt?pi(dt):null,dt!==null&&(ee=u(dt),Et=dt.tag,dt!==ee||Et!==5&&Et!==27&&Et!==6)&&(dt=null)):(Q=null,dt=B),Q!==dt)){if(Et=Qo,W="onMouseLeave",k="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(Et=Bi,W="onPointerLeave",k="onPointerEnter",V="pointer"),ee=Q==null?q:yn(Q),j=dt==null?q:yn(dt),q=new Et(W,V+"leave",Q,a,X),q.target=ee,q.relatedTarget=j,W=null,pi(X)===B&&(Et=new Et(k,V+"enter",dt,a,X),Et.target=j,Et.relatedTarget=ee,W=Et),ee=W,Q&&dt)e:{for(Et=_b,k=Q,V=dt,j=0,W=k;W;W=Et(W))j++;W=0;for(var yt=V;yt;yt=Et(yt))W++;for(;0<j-W;)k=Et(k),j--;for(;0<W-j;)V=Et(V),W--;for(;j--;){if(k===V||V!==null&&k===V.alternate){Et=k;break e}k=Et(k),V=Et(V)}Et=null}else Et=null;Q!==null&&J_(tt,q,Q,Et,!1),dt!==null&&ee!==null&&J_(tt,ee,dt,Et,!0)}}t:{if(q=B?yn(B):window,Q=q.nodeName&&q.nodeName.toLowerCase(),Q==="select"||Q==="input"&&q.type==="file")var Ft=mg;else if(fg(q))if(pg)Ft=NA;else{Ft=CA;var mt=RA}else Q=q.nodeName,!Q||Q.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&ma(B.elementType)&&(Ft=mg):Ft=IA;if(Ft&&(Ft=Ft(e,B))){dg(tt,Ft,a,X);break t}mt&&mt(e,q,B),e==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&zo(q,"number",q.value)}switch(mt=B?yn(B):window,e){case"focusin":(fg(mt)||mt.contentEditable==="true")&&(Sa=mt,Ef=B,Jo=null);break;case"focusout":Jo=Ef=Sa=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,Ag(tt,a,X);break;case"selectionchange":if(OA)break;case"keydown":case"keyup":Ag(tt,a,X)}var Nt;if(Qt)t:{switch(e){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else Ta?Vs(e,a)&&(Pt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Pt="onCompositionStart");Pt&&(wi&&a.locale!=="ko"&&(Ta||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&Ta&&(Nt=Fo()):(Ti=X,Ho="value"in Ti?Ti.value:Ti.textContent,Ta=!0)),mt=xc(B,Pt),0<mt.length&&(Pt=new bi(Pt,e,null,a,X),tt.push({event:Pt,listeners:mt}),Nt?Pt.data=Nt:(Nt=Ea(a),Nt!==null&&(Pt.data=Nt)))),(Nt=Vn?SA(e,a):AA(e,a))&&(Pt=xc(B,"onBeforeInput"),0<Pt.length&&(mt=new bi("onBeforeInput","beforeinput",null,a,X),tt.push({event:mt,listeners:Pt}),mt.data=Nt)),mb(tt,e,B,a,X)}$_(tt,i)})}function Sl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function xc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=$n(e,a),h!=null&&l.unshift(Sl(e,h,d)),h=$n(e,i),h!=null&&l.push(Sl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function _b(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function J_(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,N=S.alternate,B=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||B===null||(N=B,h?(B=$n(a,d),B!=null&&_.unshift(Sl(a,B,N))):h||(B=$n(a,d),B!=null&&_.push(Sl(a,B,N)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var vb=/\r\n?/g,Eb=/\u0000|\uFFFD/g;function Z_(e){return(typeof e=="string"?e:""+e).replace(vb,`
`).replace(Eb,"")}function W_(e,i){return i=Z_(i),Z_(e)===i}function te(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||cn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&cn(e,""+l);break;case"className":_n(e,"class",l);break;case"tabIndex":_n(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(e,a,l);break;case"style":Bo(e,l,d);break;case"data":if(i!=="object"){_n(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=pa(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&te(e,i,"name",h.name,h,null),te(e,i,"formEncType",h.formEncType,h,null),te(e,i,"formMethod",h.formMethod,h,null),te(e,i,"formTarget",h.formTarget,h,null)):(te(e,i,"encType",h.encType,h,null),te(e,i,"method",h.method,h,null),te(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=pa(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Yn);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=pa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),fa(e,"popover",l);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fa(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=xu.get(a)||a,fa(e,a,l))}}function Qd(e,i,a,l,h,d){switch(a){case"style":Bo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?cn(e,l):(typeof l=="number"||typeof l=="bigint")&&cn(e,""+l);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Pe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):fa(e,a,l)}}}function Ge(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:te(e,i,d,_,a,null)}}h&&te(e,i,"srcSet",a.srcSet,a,null),l&&te(e,i,"src",a.src,a,null);return;case"input":Vt("invalid",e);var S=d=_=h=null,N=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":N=X;break;case"defaultChecked":B=X;break;case"value":d=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:te(e,i,l,X,a,null)}}Ou(e,d,S,N,B,_,h,!1);return;case"select":Vt("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:te(e,i,h,S,a,null)}i=d,a=_,e.multiple=!!l,i!=null?yr(e,!!l,i,!1):a!=null&&yr(e,!!l,a,!0);return;case"textarea":Vt("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:te(e,i,_,S,a,null)}_r(e,l,h,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:te(e,i,N,l,a,null)}return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(l=0;l<Tl.length;l++)Vt(Tl[l],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:te(e,i,B,l,a,null)}return;default:if(ma(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Qd(e,i,X,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&te(e,i,S,l,a,null))}function Tb(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,N=null,B=null,X=null;for(Q in a){var tt=a[Q];if(a.hasOwnProperty(Q)&&tt!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=tt;default:l.hasOwnProperty(Q)||te(e,i,Q,null,l,tt)}}for(var q in l){var Q=l[q];if(tt=a[q],l.hasOwnProperty(q)&&(Q!=null||tt!=null))switch(q){case"type":d=Q;break;case"name":h=Q;break;case"checked":B=Q;break;case"defaultChecked":X=Q;break;case"value":_=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==tt&&te(e,i,q,Q,l,tt)}}da(e,_,S,N,B,X,d,h);return;case"select":Q=_=S=q=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Q=N;default:l.hasOwnProperty(d)||te(e,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":q=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==N&&te(e,i,h,d,l,N)}i=S,a=_,l=Q,q!=null?yr(e,!!a,q,!1):!!l!=!!a&&(i!=null?yr(e,!!a,i,!0):yr(e,!!a,a?[]:"",!1));return;case"textarea":Q=q=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:te(e,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":q=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&te(e,i,_,h,l,d)}Mu(e,q,Q);return;case"option":for(var dt in a)if(q=a[dt],a.hasOwnProperty(dt)&&q!=null&&!l.hasOwnProperty(dt))switch(dt){case"selected":e.selected=!1;break;default:te(e,i,dt,null,l,q)}for(N in l)if(q=l[N],Q=a[N],l.hasOwnProperty(N)&&q!==Q&&(q!=null||Q!=null))switch(N){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:te(e,i,N,q,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in a)q=a[Et],a.hasOwnProperty(Et)&&q!=null&&!l.hasOwnProperty(Et)&&te(e,i,Et,null,l,q);for(B in l)if(q=l[B],Q=a[B],l.hasOwnProperty(B)&&q!==Q&&(q!=null||Q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:te(e,i,B,q,l,Q)}return;default:if(ma(i)){for(var ee in a)q=a[ee],a.hasOwnProperty(ee)&&q!==void 0&&!l.hasOwnProperty(ee)&&Qd(e,i,ee,void 0,l,q);for(X in l)q=l[X],Q=a[X],!l.hasOwnProperty(X)||q===Q||q===void 0&&Q===void 0||Qd(e,i,X,q,l,Q);return}}for(var k in a)q=a[k],a.hasOwnProperty(k)&&q!=null&&!l.hasOwnProperty(k)&&te(e,i,k,null,l,q);for(tt in l)q=l[tt],Q=a[tt],!l.hasOwnProperty(tt)||q===Q||q==null&&Q==null||te(e,i,tt,q,l,Q)}function tv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Sb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&tv(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],B=N.startTime;if(B>S)break;var X=N.transferSize,tt=N.initiatorType;X&&tv(tt)&&(N=N.responseEnd,_+=X*(N<S?1:(S-B)/(N-B)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Kd=null,Yd=null;function Pc(e){return e.nodeType===9?e:e.ownerDocument}function ev(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function $d(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Xd=null;function Ab(){var e=window.event;return e&&e.type==="popstate"?e===Xd?!1:(Xd=e,!0):(Xd=null,!1)}var iv=typeof setTimeout=="function"?setTimeout:void 0,bb=typeof clearTimeout=="function"?clearTimeout:void 0,rv=typeof Promise=="function"?Promise:void 0,wb=typeof queueMicrotask=="function"?queueMicrotask:typeof rv<"u"?function(e){return rv.resolve(null).then(e).catch(Rb)}:iv;function Rb(e){setTimeout(function(){throw e})}function Br(e){return e==="head"}function sv(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),$a(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Al(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Al(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[mi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Al(e.ownerDocument.body);a=h}while(a);$a(i)}function av(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Jd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Jd(a),ha(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Cb(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[mi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function Ib(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=jn(e.nextSibling),e===null))return null;return e}function ov(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=jn(e.nextSibling),e===null))return null;return e}function Zd(e){return e.data==="$?"||e.data==="$~"}function Wd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Nb(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function jn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var tm=null;function lv(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return jn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function uv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function cv(e,i,a){switch(i=Pc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Al(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ha(e)}var Bn=new Map,hv=new Set;function Lc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var nr=ut.d;ut.d={f:Db,r:Ob,D:Mb,C:Vb,L:xb,m:Pb,X:Ub,S:Lb,M:kb};function Db(){var e=nr.f(),i=Cc();return e||i}function Ob(e){var i=Dn(e);i!==null&&i.tag===5&&i.type==="form"?Iy(i):nr.r(e)}var Qa=typeof document>"u"?null:document;function fv(e,i,a){var l=Qa;if(l&&typeof i=="string"&&i){var h=un(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),hv.has(h)||(hv.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ge(i,"link",e),Ae(i),l.head.appendChild(i)))}}function Mb(e){nr.D(e),fv("dns-prefetch",e,null)}function Vb(e,i){nr.C(e,i),fv("preconnect",e,i)}function xb(e,i,a){nr.L(e,i,a);var l=Qa;if(l&&e&&i){var h='link[rel="preload"][as="'+un(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+un(a.imageSizes)+'"]')):h+='[href="'+un(e)+'"]';var d=h;switch(i){case"style":d=Ka(e);break;case"script":d=Ya(e)}Bn.has(d)||(e=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Bn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(bl(d))||i==="script"&&l.querySelector(wl(d))||(i=l.createElement("link"),Ge(i,"link",e),Ae(i),l.head.appendChild(i)))}}function Pb(e,i){nr.m(e,i);var a=Qa;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+un(l)+'"][href="'+un(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ya(e)}if(!Bn.has(d)&&(e=T({rel:"modulepreload",href:e},i),Bn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wl(d)))return}l=a.createElement("link"),Ge(l,"link",e),Ae(l),a.head.appendChild(l)}}}function Lb(e,i,a){nr.S(e,i,a);var l=Qa;if(l&&e){var h=gi(l).hoistableStyles,d=Ka(e);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(bl(d)))S.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Bn.get(d))&&em(e,a);var N=_=l.createElement("link");Ae(N),Ge(N,"link",e),N._p=new Promise(function(B,X){N.onload=B,N.onerror=X}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Uc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function Ub(e,i){nr.X(e,i);var a=Qa;if(a&&e){var l=gi(a).hoistableScripts,h=Ya(e),d=l.get(h);d||(d=a.querySelector(wl(h)),d||(e=T({src:e,async:!0},i),(i=Bn.get(h))&&nm(e,i),d=a.createElement("script"),Ae(d),Ge(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function kb(e,i){nr.M(e,i);var a=Qa;if(a&&e){var l=gi(a).hoistableScripts,h=Ya(e),d=l.get(h);d||(d=a.querySelector(wl(h)),d||(e=T({src:e,async:!0,type:"module"},i),(i=Bn.get(h))&&nm(e,i),d=a.createElement("script"),Ae(d),Ge(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function dv(e,i,a,l){var h=(h=ft.current)?Lc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ka(a.href),a=gi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ka(a.href);var d=gi(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(bl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Bn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(e,a),d||zb(h,e,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ya(a),a=gi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ka(e){return'href="'+un(e)+'"'}function bl(e){return'link[rel="stylesheet"]['+e+"]"}function mv(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function zb(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ge(i,"link",a),Ae(i),e.head.appendChild(i))}function Ya(e){return'[src="'+un(e)+'"]'}function wl(e){return"script[async]"+e}function pv(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+un(a.href)+'"]');if(l)return i.instance=l,Ae(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ae(l),Ge(l,"style",h),Uc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Ka(a.href);var d=e.querySelector(bl(h));if(d)return i.state.loading|=4,i.instance=d,Ae(d),d;l=mv(a),(h=Bn.get(h))&&em(l,h),d=(e.ownerDocument||e).createElement("link"),Ae(d);var _=d;return _._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Ge(d,"link",l),i.state.loading|=4,Uc(d,a.precedence,e),i.instance=d;case"script":return d=Ya(a.src),(h=e.querySelector(wl(d)))?(i.instance=h,Ae(h),h):(l=a,(h=Bn.get(d))&&(l=T({},a),nm(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ae(h),Ge(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Uc(l,a.precedence,e));return i.instance}function Uc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function em(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function nm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var kc=null;function gv(e,i,a){if(kc===null){var l=new Map,h=kc=new Map;h.set(a,l)}else h=kc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[mi]||d[Se]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function yv(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function jb(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function _v(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Bb(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ka(l.href),d=i.querySelector(bl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=zc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Ae(d);return}d=i.ownerDocument||i,l=mv(l),(h=Bn.get(h))&&em(l,h),d=d.createElement("link"),Ae(d);var _=d;_._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Ge(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=zc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var im=0;function qb(e,i){return e.stylesheets&&e.count===0&&Bc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Bc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&im===0&&(im=62500*Sb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Bc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>im?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function zc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var jc=null;function Bc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,jc=new Map,i.forEach(Hb,e),jc=null,zc.call(e))}function Hb(e,i){if(!(i.state.loading&4)){var a=jc.get(e);if(a)var l=a.get(null);else{a=new Map,jc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=zc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Rl={$$typeof:it,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function Fb(e,i,a,l,h,d,_,S,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function vv(e,i,a,l,h,d,_,S,N,B,X,tt){return e=new Fb(e,i,a,_,N,B,X,tt,S),i=1,d===!0&&(i|=24),d=En(3,null,null,i),e.current=d,d.stateNode=e,i=Lf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},jf(d),e}function Ev(e){return e?(e=wa,e):wa}function Tv(e,i,a,l,h,d){h=Ev(h),l.context===null?l.context=h:l.pendingContext=h,l=Dr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Or(e,l,i),a!==null&&(pn(a,e,i),rl(a,e,i))}function Sv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function rm(e,i){Sv(e,i),(e=e.alternate)&&Sv(e,i)}function Av(e){if(e.tag===13||e.tag===31){var i=Ls(e,67108864);i!==null&&pn(i,e,67108864),rm(e,67108864)}}function bv(e){if(e.tag===13||e.tag===31){var i=wn();i=bs(i);var a=Ls(e,i);a!==null&&pn(a,e,i),rm(e,i)}}var qc=!0;function Gb(e,i,a,l){var h=$.T;$.T=null;var d=ut.p;try{ut.p=2,sm(e,i,a,l)}finally{ut.p=d,$.T=h}}function Qb(e,i,a,l){var h=$.T;$.T=null;var d=ut.p;try{ut.p=8,sm(e,i,a,l)}finally{ut.p=d,$.T=h}}function sm(e,i,a,l){if(qc){var h=am(l);if(h===null)Gd(e,i,l,Hc,a),Rv(e,l);else if(Yb(h,e,i,a,l))l.stopPropagation();else if(Rv(e,l),i&4&&-1<Kb.indexOf(e)){for(;h!==null;){var d=Dn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ci(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var N=1<<31-pe(_);S.entanglements[1]|=N,_&=~N}Ni(d),(Kt&6)===0&&(wc=en()+500,El(0))}}break;case 31:case 13:S=Ls(d,2),S!==null&&pn(S,d,2),Cc(),rm(d,2)}if(d=am(l),d===null&&Gd(e,i,l,Hc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Gd(e,i,l,null,a)}}function am(e){return e=On(e),om(e)}var Hc=null;function om(e){if(Hc=null,e=pi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Hc=e,null}function wv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Es()){case No:return 2;case Do:return 8;case pr:case df:return 32;case Tu:return 268435456;default:return 32}default:return 32}}var lm=!1,qr=null,Hr=null,Fr=null,Cl=new Map,Il=new Map,Gr=[],Kb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rv(e,i){switch(e){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":Cl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(i.pointerId)}}function Nl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Dn(i),i!==null&&Av(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function Yb(e,i,a,l,h){switch(i){case"focusin":return qr=Nl(qr,e,i,a,l,h),!0;case"dragenter":return Hr=Nl(Hr,e,i,a,l,h),!0;case"mouseover":return Fr=Nl(Fr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Cl.set(d,Nl(Cl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Il.set(d,Nl(Il.get(d)||null,e,i,a,l,h)),!0}return!1}function Cv(e){var i=pi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Qn(e.priority,function(){bv(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,Qn(e.priority,function(){bv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=am(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);qo=l,a.target.dispatchEvent(l),qo=null}else return i=Dn(a),i!==null&&Av(i),e.blockedOn=a,!1;i.shift()}return!0}function Iv(e,i,a){Fc(e)&&a.delete(i)}function $b(){lm=!1,qr!==null&&Fc(qr)&&(qr=null),Hr!==null&&Fc(Hr)&&(Hr=null),Fr!==null&&Fc(Fr)&&(Fr=null),Cl.forEach(Iv),Il.forEach(Iv)}function Gc(e,i){e.blockedOn===i&&(e.blockedOn=null,lm||(lm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,$b)))}var Qc=null;function Nv(e){Qc!==e&&(Qc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Qc===e&&(Qc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(om(l||a)===null)continue;break}var d=Dn(a);d!==null&&(e.splice(i,3),i-=3,ad(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function $a(e){function i(N){return Gc(N,e)}qr!==null&&Gc(qr,e),Hr!==null&&Gc(Hr,e),Fr!==null&&Gc(Fr,e),Cl.forEach(i),Il.forEach(i);for(var a=0;a<Gr.length;a++){var l=Gr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Gr.length&&(a=Gr[0],a.blockedOn===null);)Cv(a),a.blockedOn===null&&Gr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Pe]||null;if(typeof d=="function")_||Nv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Pe]||null)S=_.formAction;else if(om(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Nv(a)}}}function Dv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function um(e){this._internalRoot=e}Kc.prototype.render=um.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=wn();Tv(a,l,e,i,null,null)},Kc.prototype.unmount=um.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Tv(e.current,2,null,e,null,null),Cc(),i[di]=null}};function Kc(e){this._internalRoot=e}Kc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Cu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Gr.length&&i!==0&&i<Gr[a].priority;a++);Gr.splice(a,0,e),a===0&&Cv(e)}};var Ov=t.version;if(Ov!=="19.2.0")throw Error(s(527,Ov,"19.2.0"));ut.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var Xb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yc.isDisabled&&Yc.supportsFiber)try{Fn=Yc.inject(Xb),je=Yc}catch{}}return Ol.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=ky,d=zy,_=jy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=vv(e,1,!1,null,null,a,l,null,h,d,_,Dv),e[di]=i.current,Fd(e),new um(i)},Ol.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=ky,_=zy,S=jy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=vv(e,1,!0,i,a??null,l,h,N,d,_,S,Dv),i.context=Ev(null),a=i.current,l=wn(),l=bs(l),h=Dr(l),h.callback=null,Or(a,h,l),a=l,i.current.lanes=a,Ss(i,a),Ni(i),e[di]=i.current,Fd(e),new Kc(i)},Ol.version="19.2.0",Ol}var qv;function uw(){if(qv)return fm.exports;qv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),fm.exports=lw(),fm.exports}var cw=uw();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Hv="popstate";function hw(r={}){function t(s,o){let{pathname:u,search:f,hash:m}=s.location;return Lm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Yl(o)}return dw(t,n,null,r)}function ue(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function ri(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function fw(){return Math.random().toString(36).substring(2,10)}function Fv(r,t){return{usr:r.state,key:r.key,idx:t}}function Lm(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?go(t):t,state:n,key:t&&t.key||s||fw()}}function Yl({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function go(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function dw(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let H=E(),rt=H==null?null:H-y;y=H,p&&p({action:m,location:Z.location,delta:rt})}function b(H,rt){m="PUSH";let lt=Lm(Z.location,H,rt);y=E()+1;let it=Fv(lt,y),_t=Z.createHref(lt);try{f.pushState(it,"",_t)}catch(Dt){if(Dt instanceof DOMException&&Dt.name==="DataCloneError")throw Dt;o.location.assign(_t)}u&&p&&p({action:m,location:Z.location,delta:1})}function L(H,rt){m="REPLACE";let lt=Lm(Z.location,H,rt);y=E();let it=Fv(lt,y),_t=Z.createHref(lt);f.replaceState(it,"",_t),u&&p&&p({action:m,location:Z.location,delta:0})}function Y(H){return mw(H)}let Z={get action(){return m},get location(){return r(o,f)},listen(H){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Hv,T),p=H,()=>{o.removeEventListener(Hv,T),p=null}},createHref(H){return t(o,H)},createURL:Y,encodeLocation(H){let rt=Y(H);return{pathname:rt.pathname,search:rt.search,hash:rt.hash}},push:b,replace:L,go(H){return f.go(H)}};return Z}function mw(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ue(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Yl(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function NT(r,t,n="/"){return pw(r,t,n,!1)}function pw(r,t,n,s){let o=typeof t=="string"?go(t):t,u=ar(o.pathname||"/",n);if(u==null)return null;let f=DT(r);gw(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=Cw(u);m=ww(f[p],y,s)}return m}function DT(r,t=[],n=[],s="",o=!1){let u=(f,m,p=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ue(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=sr([s,E.relativePath]),b=n.concat(E);f.children&&f.children.length>0&&(ue(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),DT(f.children,t,b,T,p)),!(f.path==null&&!f.index)&&t.push({path:T,score:Aw(T,f.index),routesMeta:b})};return r.forEach((f,m)=>{var p;if(f.path===""||!((p=f.path)!=null&&p.includes("?")))u(f,m);else for(let y of OT(f.path))u(f,m,!0,y)}),t}function OT(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=OT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function gw(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:bw(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var yw=/^:[\w-]+$/,_w=3,vw=2,Ew=1,Tw=10,Sw=-2,Gv=r=>r==="*";function Aw(r,t){let n=r.split("/"),s=n.length;return n.some(Gv)&&(s+=Sw),t&&(s+=vw),n.filter(o=>!Gv(o)).reduce((o,u)=>o+(yw.test(u)?_w:u===""?Ew:Tw),s)}function bw(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function ww(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",T=yh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),b=p.route;if(!T&&y&&n&&!s[s.length-1].route.index&&(T=yh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:sr([u,T.pathname]),pathnameBase:Ow(sr([u,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(u=sr([u,T.pathnameBase]))}return f}function yh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Rw(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:T},b)=>{if(E==="*"){let Y=m[b]||"";f=u.slice(0,u.length-Y.length).replace(/(.)\/+$/,"$1")}const L=m[b];return T&&!L?y[E]=void 0:y[E]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function Rw(r,t=!1,n=!0){ri(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function Cw(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ri(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function ar(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function Iw(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?go(r):r;return{pathname:n?n.startsWith("/")?n:Nw(n,t):t,search:Mw(s),hash:Vw(o)}}function Nw(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function gm(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Dw(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function cp(r){let t=Dw(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function hp(r,t,n,s=!1){let o;typeof r=="string"?o=go(r):(o={...r},ue(!o.pathname||!o.pathname.includes("?"),gm("?","pathname","search",o)),ue(!o.pathname||!o.pathname.includes("#"),gm("#","pathname","hash",o)),ue(!o.search||!o.search.includes("#"),gm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=t.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),T-=1;o.pathname=b.join("/")}m=T>=0?t[T]:"/"}let p=Iw(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var sr=r=>r.join("/").replace(/\/\/+/g,"/"),Ow=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Mw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Vw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function xw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var MT=["POST","PUT","PATCH","DELETE"];new Set(MT);var Pw=["GET",...MT];new Set(Pw);var yo=K.createContext(null);yo.displayName="DataRouter";var Bh=K.createContext(null);Bh.displayName="DataRouterState";K.createContext(!1);var VT=K.createContext({isTransitioning:!1});VT.displayName="ViewTransition";var Lw=K.createContext(new Map);Lw.displayName="Fetchers";var Uw=K.createContext(null);Uw.displayName="Await";var ai=K.createContext(null);ai.displayName="Navigation";var ru=K.createContext(null);ru.displayName="Location";var oi=K.createContext({outlet:null,matches:[],isDataRoute:!1});oi.displayName="Route";var fp=K.createContext(null);fp.displayName="RouteError";function kw(r,{relative:t}={}){ue(_o(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=K.useContext(ai),{hash:o,pathname:u,search:f}=su(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:sr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function _o(){return K.useContext(ru)!=null}function gs(){return ue(_o(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(ru).location}var xT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function PT(r){K.useContext(ai).static||K.useLayoutEffect(r)}function LT(){let{isDataRoute:r}=K.useContext(oi);return r?Ww():zw()}function zw(){ue(_o(),"useNavigate() may be used only in the context of a <Router> component.");let r=K.useContext(yo),{basename:t,navigator:n}=K.useContext(ai),{matches:s}=K.useContext(oi),{pathname:o}=gs(),u=JSON.stringify(cp(s)),f=K.useRef(!1);return PT(()=>{f.current=!0}),K.useCallback((p,y={})=>{if(ri(f.current,xT),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=hp(p,JSON.parse(u),o,y.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:sr([t,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[t,n,u,o,r])}var jw=K.createContext(null);function Bw(r){let t=K.useContext(oi).outlet;return K.useMemo(()=>t&&K.createElement(jw.Provider,{value:r},t),[t,r])}function su(r,{relative:t}={}){let{matches:n}=K.useContext(oi),{pathname:s}=gs(),o=JSON.stringify(cp(n));return K.useMemo(()=>hp(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function qw(r,t){return UT(r,t)}function UT(r,t,n,s,o){var lt;ue(_o(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=K.useContext(ai),{matches:f}=K.useContext(oi),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let it=T&&T.path||"";kT(y,!T||it.endsWith("*")||it.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${it}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${it}"> to <Route path="${it==="/"?"*":`${it}/*`}">.`)}let b=gs(),L;if(t){let it=typeof t=="string"?go(t):t;ue(E==="/"||((lt=it.pathname)==null?void 0:lt.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${it.pathname}" was given in the \`location\` prop.`),L=it}else L=b;let Y=L.pathname||"/",Z=Y;if(E!=="/"){let it=E.replace(/^\//,"").split("/");Z="/"+Y.replace(/^\//,"").split("/").slice(it.length).join("/")}let H=NT(r,{pathname:Z});ri(T||H!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),ri(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let rt=Kw(H&&H.map(it=>Object.assign({},it,{params:Object.assign({},p,it.params),pathname:sr([E,u.encodeLocation?u.encodeLocation(it.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:it.pathname]),pathnameBase:it.pathnameBase==="/"?E:sr([E,u.encodeLocation?u.encodeLocation(it.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:it.pathnameBase])})),f,n,s,o);return t&&rt?K.createElement(ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},rt):rt}function Hw(){let r=Zw(),t=xw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:u},"ErrorBoundary")," or"," ",K.createElement("code",{style:u},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},t),n?K.createElement("pre",{style:o},n):null,f)}var Fw=K.createElement(Hw,null),Gw=class extends K.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.unstable_onError?this.props.unstable_onError(r,t):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?K.createElement(oi.Provider,{value:this.props.routeContext},K.createElement(fp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Qw({routeContext:r,match:t,children:n}){let s=K.useContext(yo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),K.createElement(oi.Provider,{value:r},n)}function Kw(r,t=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n==null?void 0:n.errors;if(f!=null){let y=u.findIndex(E=>E.route.id&&(f==null?void 0:f[E.route.id])!==void 0);ue(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let m=!1,p=-1;if(n)for(let y=0;y<u.length;y++){let E=u[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=y),E.route.id){let{loaderData:T,errors:b}=n,L=E.route.loader&&!T.hasOwnProperty(E.route.id)&&(!b||b[E.route.id]===void 0);if(E.route.lazy||L){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((y,E,T)=>{let b,L=!1,Y=null,Z=null;n&&(b=f&&E.route.id?f[E.route.id]:void 0,Y=E.route.errorElement||Fw,m&&(p<0&&T===0?(kT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,Z=null):p===T&&(L=!0,Z=E.route.hydrateFallbackElement||null)));let H=t.concat(u.slice(0,T+1)),rt=()=>{let lt;return b?lt=Y:L?lt=Z:E.route.Component?lt=K.createElement(E.route.Component,null):E.route.element?lt=E.route.element:lt=y,K.createElement(Qw,{match:E,routeContext:{outlet:y,matches:H,isDataRoute:n!=null},children:lt})};return n&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?K.createElement(Gw,{location:n.location,revalidation:n.revalidation,component:Y,error:b,children:rt(),routeContext:{outlet:null,matches:H,isDataRoute:!0},unstable_onError:s}):rt()},null)}function dp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yw(r){let t=K.useContext(yo);return ue(t,dp(r)),t}function $w(r){let t=K.useContext(Bh);return ue(t,dp(r)),t}function Xw(r){let t=K.useContext(oi);return ue(t,dp(r)),t}function mp(r){let t=Xw(r),n=t.matches[t.matches.length-1];return ue(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Jw(){return mp("useRouteId")}function Zw(){var s;let r=K.useContext(fp),t=$w("useRouteError"),n=mp("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[n]}function Ww(){let{router:r}=Yw("useNavigate"),t=mp("useNavigate"),n=K.useRef(!1);return PT(()=>{n.current=!0}),K.useCallback(async(o,u={})=>{ri(n.current,xT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var Qv={};function kT(r,t,n){!t&&!Qv[r]&&(Qv[r]=!0,ri(!1,n))}K.memo(t1);function t1({routes:r,future:t,state:n,unstable_onError:s}){return UT(r,void 0,n,s,t)}function Kv({to:r,replace:t,state:n,relative:s}){ue(_o(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=K.useContext(ai);ri(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=K.useContext(oi),{pathname:f}=gs(),m=LT(),p=hp(r,cp(u),f,s==="path"),y=JSON.stringify(p);return K.useEffect(()=>{m(JSON.parse(y),{replace:t,state:n,relative:s})},[m,y,s,t,n]),null}function e1(r){return Bw(r.context)}function $r(r){ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function n1({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ue(!_o(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=K.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=go(n));let{pathname:p="/",search:y="",hash:E="",state:T=null,key:b="default"}=n,L=K.useMemo(()=>{let Y=ar(p,f);return Y==null?null:{location:{pathname:Y,search:y,hash:E,state:T,key:b},navigationType:s}},[f,p,y,E,T,b,s]);return ri(L!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:K.createElement(ai.Provider,{value:m},K.createElement(ru.Provider,{children:t,value:L}))}function i1({children:r,location:t}){return qw(Um(r),t)}function Um(r,t=[]){let n=[];return K.Children.forEach(r,(s,o)=>{if(!K.isValidElement(s))return;let u=[...t,o];if(s.type===K.Fragment){n.push.apply(n,Um(s.props.children,u));return}ue(s.type===$r,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ue(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Um(s.props.children,u)),n.push(f)}),n}var rh="get",sh="application/x-www-form-urlencoded";function qh(r){return r!=null&&typeof r.tagName=="string"}function r1(r){return qh(r)&&r.tagName.toLowerCase()==="button"}function s1(r){return qh(r)&&r.tagName.toLowerCase()==="form"}function a1(r){return qh(r)&&r.tagName.toLowerCase()==="input"}function o1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function l1(r,t){return r.button===0&&(!t||t==="_self")&&!o1(r)}var Xc=null;function u1(){if(Xc===null)try{new FormData(document.createElement("form"),0),Xc=!1}catch{Xc=!0}return Xc}var c1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ym(r){return r!=null&&!c1.has(r)?(ri(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sh}"`),null):r}function h1(r,t){let n,s,o,u,f;if(s1(r)){let m=r.getAttribute("action");s=m?ar(m,t):null,n=r.getAttribute("method")||rh,o=ym(r.getAttribute("enctype"))||sh,u=new FormData(r)}else if(r1(r)||a1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?ar(p,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||rh,o=ym(r.getAttribute("formenctype"))||ym(m.getAttribute("enctype"))||sh,u=new FormData(m,r),!u1()){let{name:y,type:E,value:T}=r;if(E==="image"){let b=y?`${y}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else y&&u.append(y,T)}}else{if(qh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rh,s=null,o=sh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function pp(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function f1(r,t,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&ar(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function d1(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function m1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function p1(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await d1(u,n);return f.links?f.links():[]}return[]}));return v1(s.flat(1).filter(m1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Yv(r,t,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>{var E;return n[y].pathname!==p.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?t.filter((p,y)=>{var T;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function g1(r,t,{includeHydrateFallback:n}={}){return y1(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function y1(r){return[...new Set(r)]}function _1(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function v1(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(_1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function zT(){let r=K.useContext(yo);return pp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function E1(){let r=K.useContext(Bh);return pp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var gp=K.createContext(void 0);gp.displayName="FrameworkContext";function jT(){let r=K.useContext(gp);return pp(r,"You must render this element inside a <HydratedRouter> element"),r}function T1(r,t){let n=K.useContext(gp),[s,o]=K.useState(!1),[u,f]=K.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:T}=t,b=K.useRef(null);K.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Z=rt=>{rt.forEach(lt=>{f(lt.isIntersecting)})},H=new IntersectionObserver(Z,{threshold:.5});return b.current&&H.observe(b.current),()=>{H.disconnect()}}},[r]),K.useEffect(()=>{if(s){let Z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Z)}}},[s]);let L=()=>{o(!0)},Y=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Ml(m,L),onBlur:Ml(p,Y),onMouseEnter:Ml(y,L),onMouseLeave:Ml(E,Y),onTouchStart:Ml(T,L)}]:[!1,b,{}]}function Ml(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function S1({page:r,...t}){let{router:n}=zT(),s=K.useMemo(()=>NT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?K.createElement(b1,{page:r,matches:s,...t}):null}function A1(r){let{manifest:t,routeModules:n}=jT(),[s,o]=K.useState([]);return K.useEffect(()=>{let u=!1;return p1(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function b1({page:r,matches:t,...n}){let s=gs(),{manifest:o,routeModules:u}=jT(),{basename:f}=zT(),{loaderData:m,matches:p}=E1(),y=K.useMemo(()=>Yv(r,t,p,o,s,"data"),[r,t,p,o,s]),E=K.useMemo(()=>Yv(r,t,p,o,s,"assets"),[r,t,p,o,s]),T=K.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let Y=new Set,Z=!1;if(t.forEach(rt=>{var it;let lt=o.routes[rt.route.id];!lt||!lt.hasLoader||(!y.some(_t=>_t.route.id===rt.route.id)&&rt.route.id in m&&((it=u[rt.route.id])!=null&&it.shouldRevalidate)||lt.hasClientLoader?Z=!0:Y.add(rt.route.id))}),Y.size===0)return[];let H=f1(r,f,"data");return Z&&Y.size>0&&H.searchParams.set("_routes",t.filter(rt=>Y.has(rt.route.id)).map(rt=>rt.route.id).join(",")),[H.pathname+H.search]},[f,m,s,o,y,t,r,u]),b=K.useMemo(()=>g1(E,o),[E,o]),L=A1(E);return K.createElement(K.Fragment,null,T.map(Y=>K.createElement("link",{key:Y,rel:"prefetch",as:"fetch",href:Y,...n})),b.map(Y=>K.createElement("link",{key:Y,rel:"modulepreload",href:Y,...n})),L.map(({key:Y,link:Z})=>K.createElement("link",{key:Y,nonce:n.nonce,...Z})))}function w1(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var BT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{BT&&(window.__reactRouterVersion="7.9.4")}catch{}function R1({basename:r,children:t,window:n}){let s=K.useRef();s.current==null&&(s.current=hw({window:n,v5Compat:!0}));let o=s.current,[u,f]=K.useState({action:o.action,location:o.location}),m=K.useCallback(p=>{K.startTransition(()=>f(p))},[f]);return K.useLayoutEffect(()=>o.listen(m),[o,m]),K.createElement(n1,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var qT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HT=K.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:T,...b},L){let{basename:Y}=K.useContext(ai),Z=typeof y=="string"&&qT.test(y),H,rt=!1;if(typeof y=="string"&&Z&&(H=y,BT))try{let w=new URL(window.location.href),O=y.startsWith("//")?new URL(w.protocol+y):new URL(y),M=ar(O.pathname,Y);O.origin===w.origin&&M!=null?y=M+O.search+O.hash:rt=!0}catch{ri(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let lt=kw(y,{relative:o}),[it,_t,Dt]=T1(s,b),nt=N1(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T});function C(w){t&&t(w),w.defaultPrevented||nt(w)}let R=K.createElement("a",{...b,...Dt,href:H||lt,onClick:rt||u?t:C,ref:w1(L,_t),target:p,"data-discover":!Z&&n==="render"?"true":void 0});return it&&!Z?K.createElement(K.Fragment,null,R,K.createElement(S1,{page:lt})):R});HT.displayName="Link";var Pl=K.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let T=su(f,{relative:y.relative}),b=gs(),L=K.useContext(Bh),{navigator:Y,basename:Z}=K.useContext(ai),H=L!=null&&x1(T)&&m===!0,rt=Y.encodeLocation?Y.encodeLocation(T).pathname:T.pathname,lt=b.pathname,it=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(lt=lt.toLowerCase(),it=it?it.toLowerCase():null,rt=rt.toLowerCase()),it&&Z&&(it=ar(it,Z)||it);const _t=rt!=="/"&&rt.endsWith("/")?rt.length-1:rt.length;let Dt=lt===rt||!o&&lt.startsWith(rt)&&lt.charAt(_t)==="/",nt=it!=null&&(it===rt||!o&&it.startsWith(rt)&&it.charAt(rt.length)==="/"),C={isActive:Dt,isPending:nt,isTransitioning:H},R=Dt?t:void 0,w;typeof s=="function"?w=s(C):w=[s,Dt?"active":null,nt?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(C):u;return K.createElement(HT,{...y,"aria-current":R,className:w,ref:E,style:O,to:f,viewTransition:m},typeof p=="function"?p(C):p)});Pl.displayName="NavLink";var C1=K.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=rh,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:T,...b},L)=>{let Y=M1(),Z=V1(m,{relative:y}),H=f.toLowerCase()==="get"?"get":"post",rt=typeof m=="string"&&qT.test(m),lt=it=>{if(p&&p(it),it.defaultPrevented)return;it.preventDefault();let _t=it.nativeEvent.submitter,Dt=(_t==null?void 0:_t.getAttribute("formmethod"))||f;Y(_t||it.currentTarget,{fetcherKey:t,method:Dt,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:T})};return K.createElement("form",{ref:L,method:H,action:Z,onSubmit:s?p:lt,...b,"data-discover":!rt&&r==="render"?"true":void 0})});C1.displayName="Form";function I1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FT(r){let t=K.useContext(yo);return ue(t,I1(r)),t}function N1(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=LT(),p=gs(),y=su(r,{relative:u});return K.useCallback(E=>{if(l1(E,t)){E.preventDefault();let T=n!==void 0?n:Yl(p)===Yl(y);m(r,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,y,n,s,t,r,o,u,f])}var D1=0,O1=()=>`__${String(++D1)}__`;function M1(){let{router:r}=FT("useSubmit"),{basename:t}=K.useContext(ai),n=Jw();return K.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=h1(s,t);if(o.navigate===!1){let E=o.fetcherKey||O1();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,n])}function V1(r,{relative:t}={}){let{basename:n}=K.useContext(ai),s=K.useContext(oi);ue(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...su(r||".",{relative:t})},f=gs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:sr([n,u.pathname])),Yl(u)}function x1(r,{relative:t}={}){let n=K.useContext(VT);ue(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=FT("useViewTransitionState"),o=su(r,{relative:t});if(!n.isTransitioning)return!1;let u=ar(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ar(n.nextLocation.pathname,s)||n.nextLocation.pathname;return yh(o.pathname,f)!=null||yh(o.pathname,u)!=null}const $v=r=>{let t;const n=new Set,s=(y,E)=>{const T=typeof y=="function"?y(t):y;if(!Object.is(T,t)){const b=t;t=E??(typeof T!="object"||T===null)?T:Object.assign({},t,T),n.forEach(L=>L(t,b))}},o=()=>t,m={setState:s,getState:o,getInitialState:()=>p,subscribe:y=>(n.add(y),()=>n.delete(y))},p=t=r(s,o,m);return m},P1=(r=>r?$v(r):$v),L1=r=>r;function U1(r,t=L1){const n=$c.useSyncExternalStore(r.subscribe,$c.useCallback(()=>t(r.getState()),[r,t]),$c.useCallback(()=>t(r.getInitialState()),[r,t]));return $c.useDebugValue(n),n}const Xv=r=>{const t=P1(r),n=s=>U1(t,s);return Object.assign(n,t),n},k1=(r=>r?Xv(r):Xv),z1=[{id:"player-1",name:"Maayan"},{id:"player-2",name:"Nevo"},{id:"player-3",name:"Assaf"},{id:"player-4",name:"Gilad"}],j1=[{id:"pair-1",players:["player-1","player-2"]},{id:"pair-2",players:["player-1","player-3"]},{id:"pair-3",players:["player-1","player-4"]},{id:"pair-4",players:["player-2","player-3"]},{id:"pair-5",players:["player-2","player-4"]},{id:"pair-6",players:["player-3","player-4"]}],_m=r=>{if(typeof crypto<"u"&&"randomUUID"in crypto)return`${r}-${crypto.randomUUID()}`;const t=Math.random().toString(36).slice(2,11);return`${r}-${t}`},B1=()=>{};var Jv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},q1=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},QT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let b=(m&15)<<2|y>>6,L=y&63;p||(L=64,f||(b=64)),s.push(n[E],n[T],n[b],n[L])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(GT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):q1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||T==null)throw new H1;const b=u<<2|m>>4;if(s.push(b),y!==64){const L=m<<4&240|y>>2;if(s.push(L),T!==64){const Y=y<<6&192|T;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class H1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const F1=function(r){const t=GT(r);return QT.encodeByteArray(t,!0)},_h=function(r){return F1(r).replace(/\./g,"")},KT=function(r){try{return QT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=()=>G1().__FIREBASE_DEFAULTS__,K1=()=>{if(typeof process>"u"||typeof Jv>"u")return;const r=Jv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Y1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&KT(r[1]);return t&&JSON.parse(t)},Hh=()=>{try{return B1()||Q1()||K1()||Y1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},YT=r=>{var t,n;return(n=(t=Hh())==null?void 0:t.emulatorHosts)==null?void 0:n[r]},$1=r=>{const t=YT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},$T=()=>{var r;return(r=Hh())==null?void 0:r.config},XT=r=>{var t;return(t=Hh())==null?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function JT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[_h(JSON.stringify(n)),_h(JSON.stringify(f)),""].join(".")}const Bl={};function Z1(){const r={prod:[],emulator:[]};for(const t of Object.keys(Bl))Bl[t]?r.emulator.push(t):r.prod.push(t);return r}function W1(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let Zv=!1;function ZT(r,t){if(typeof window>"u"||typeof document>"u"||!vo(window.location.host)||Bl[r]===t||Bl[r]||Zv)return;Bl[r]=t;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=Z1().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,L){b.setAttribute("width","24"),b.setAttribute("id",L),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function y(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Zv=!0,f()},b}function E(b,L){b.setAttribute("id",L),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=W1(s),L=n("text"),Y=document.getElementById(L)||document.createElement("span"),Z=n("learnmore"),H=document.getElementById(Z)||document.createElement("a"),rt=n("preprendIcon"),lt=document.getElementById(rt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const it=b.element;m(it),E(H,Z);const _t=y();p(lt,rt),it.append(lt,Y,H,_t),document.body.appendChild(it)}u?(Y.innerText="Preview backend disconnected.",lt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(lt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function eR(){var t;const r=(t=Hh())==null?void 0:t.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function rR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sR(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function aR(){return!eR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oR(){try{return typeof indexedDB=="object"}catch{return!1}}function lR(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)==null?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="FirebaseError";class fr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=uR,Object.setPrototypeOf(this,fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,au.prototype.create)}}class au{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?cR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new fr(o,m,s)}}function cR(r,t){return r.replace(hR,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const hR=/\{\$([^}]+)}/g;function fR(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ws(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(Wv(u)&&Wv(f)){if(!Ws(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Wv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function dR(r,t){const n=new mR(r,t);return n.subscribe.bind(n)}class mR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");pR(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=vm),o.error===void 0&&(o.error=vm),o.complete===void 0&&(o.complete=vm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pR(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function vm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(r){return r&&r._delegate?r._delegate:r}class ta{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new X1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(_R(t))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Xs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xs){return this.instances.has(t)}getOptions(t=Xs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:yR(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Xs){return this.component?this.component.multipleInstances?t:Xs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yR(r){return r===Xs?void 0:r}function _R(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new gR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Lt||(Lt={}));const ER={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},TR=Lt.INFO,SR={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},AR=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=SR[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class yp{constructor(t){this.name=t,this._logLevel=TR,this._logHandler=AR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ER[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const bR=(r,t)=>t.some(n=>r instanceof n);let tE,eE;function wR(){return tE||(tE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RR(){return eE||(eE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WT=new WeakMap,km=new WeakMap,t0=new WeakMap,Em=new WeakMap,_p=new WeakMap;function CR(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(es(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&WT.set(n,r)}).catch(()=>{}),_p.set(t,r),t}function IR(r){if(km.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});km.set(r,t)}let zm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return km.get(r);if(t==="objectStoreNames")return r.objectStoreNames||t0.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return es(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function NR(r){zm=r(zm)}function DR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Tm(this),t,...n);return t0.set(s,t.sort?t.sort():[t]),es(s)}:RR().includes(r)?function(...t){return r.apply(Tm(this),t),es(WT.get(this))}:function(...t){return es(r.apply(Tm(this),t))}}function OR(r){return typeof r=="function"?DR(r):(r instanceof IDBTransaction&&IR(r),bR(r,wR())?new Proxy(r,zm):r)}function es(r){if(r instanceof IDBRequest)return CR(r);if(Em.has(r))return Em.get(r);const t=OR(r);return t!==r&&(Em.set(r,t),_p.set(t,r)),t}const Tm=r=>_p.get(r);function MR(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=es(f);return s&&f.addEventListener("upgradeneeded",p=>{s(es(f.result),p.oldVersion,p.newVersion,es(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const VR=["get","getKey","getAll","getAllKeys","count"],xR=["put","add","delete","clear"],Sm=new Map;function nE(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Sm.get(t))return Sm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=xR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||VR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return Sm.set(t,u),u}NR(r=>({...r,get:(t,n,s)=>nE(t,n)||r.get(t,n,s),has:(t,n)=>!!nE(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function LR(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const jm="@firebase/app",iE="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new yp("@firebase/app"),UR="@firebase/app-compat",kR="@firebase/analytics-compat",zR="@firebase/analytics",jR="@firebase/app-check-compat",BR="@firebase/app-check",qR="@firebase/auth",HR="@firebase/auth-compat",FR="@firebase/database",GR="@firebase/data-connect",QR="@firebase/database-compat",KR="@firebase/functions",YR="@firebase/functions-compat",$R="@firebase/installations",XR="@firebase/installations-compat",JR="@firebase/messaging",ZR="@firebase/messaging-compat",WR="@firebase/performance",tC="@firebase/performance-compat",eC="@firebase/remote-config",nC="@firebase/remote-config-compat",iC="@firebase/storage",rC="@firebase/storage-compat",sC="@firebase/firestore",aC="@firebase/ai",oC="@firebase/firestore-compat",lC="firebase",uC="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="[DEFAULT]",cC={[jm]:"fire-core",[UR]:"fire-core-compat",[zR]:"fire-analytics",[kR]:"fire-analytics-compat",[BR]:"fire-app-check",[jR]:"fire-app-check-compat",[qR]:"fire-auth",[HR]:"fire-auth-compat",[FR]:"fire-rtdb",[GR]:"fire-data-connect",[QR]:"fire-rtdb-compat",[KR]:"fire-fn",[YR]:"fire-fn-compat",[$R]:"fire-iid",[XR]:"fire-iid-compat",[JR]:"fire-fcm",[ZR]:"fire-fcm-compat",[WR]:"fire-perf",[tC]:"fire-perf-compat",[eC]:"fire-rc",[nC]:"fire-rc-compat",[iC]:"fire-gcs",[rC]:"fire-gcs-compat",[sC]:"fire-fst",[oC]:"fire-fst-compat",[aC]:"fire-vertex","fire-js":"fire-js",[lC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=new Map,hC=new Map,qm=new Map;function rE(r,t){try{r.container.addComponent(t)}catch(n){or.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function lo(r){const t=r.name;if(qm.has(t))return or.debug(`There were multiple attempts to register component ${t}.`),!1;qm.set(t,r);for(const n of vh.values())rE(n,r);for(const n of hC.values())rE(n,r);return!0}function vp(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function ni(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ns=new au("app","Firebase",fC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ns.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=uC;function e0(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:Bm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw ns.create("bad-app-name",{appName:String(o)});if(n||(n=$T()),!n)throw ns.create("no-options");const u=vh.get(o);if(u){if(Ws(n,u.options)&&Ws(s,u.config))return u;throw ns.create("duplicate-app",{appName:o})}const f=new vR(o);for(const p of qm.values())f.addComponent(p);const m=new dC(n,s,f);return vh.set(o,m),m}function n0(r=Bm){const t=vh.get(r);if(!t&&r===Bm&&$T())return e0();if(!t)throw ns.create("no-app",{appName:r});return t}function is(r,t,n){let s=cC[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),or.warn(f.join(" "));return}lo(new ta(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="firebase-heartbeat-database",pC=1,$l="firebase-heartbeat-store";let Am=null;function i0(){return Am||(Am=MR(mC,pC,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore($l)}catch(n){console.warn(n)}}}}).catch(r=>{throw ns.create("idb-open",{originalErrorMessage:r.message})})),Am}async function gC(r){try{const n=(await i0()).transaction($l),s=await n.objectStore($l).get(r0(r));return await n.done,s}catch(t){if(t instanceof fr)or.warn(t.message);else{const n=ns.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});or.warn(n.message)}}}async function sE(r,t){try{const s=(await i0()).transaction($l,"readwrite");await s.objectStore($l).put(t,r0(r)),await s.done}catch(n){if(n instanceof fr)or.warn(n.message);else{const s=ns.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});or.warn(s.message)}}}function r0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=1024,_C=30;class vC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=aE();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>_C){const f=SC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){or.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=aE(),{heartbeatsToSend:s,unsentEntries:o}=EC(this._heartbeatsCache.heartbeats),u=_h(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return or.warn(n),""}}}function aE(){return new Date().toISOString().substring(0,10)}function EC(r,t=yC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),oE(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),oE(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class TC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oR()?lR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return sE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return sE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function oE(r){return _h(JSON.stringify({version:2,heartbeats:r})).length}function SC(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(r){lo(new ta("platform-logger",t=>new PR(t),"PRIVATE")),lo(new ta("heartbeat",t=>new vC(t),"PRIVATE")),is(jm,iE,r),is(jm,iE,"esm2020"),is("fire-js","")}AC("");var lE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rs,s0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,R){function w(){}w.prototype=R.prototype,C.F=R.prototype,C.prototype=new w,C.prototype.constructor=C,C.D=function(O,M,U){for(var I=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)I[qt-2]=arguments[qt];return R.prototype[M].apply(O,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,R,w){w||(w=0);const O=Array(16);if(typeof R=="string")for(var M=0;M<16;++M)O[M]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(M=0;M<16;++M)O[M]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=C.g[0],w=C.g[1],M=C.g[2];let U=C.g[3],I;I=R+(U^w&(M^U))+O[0]+3614090360&4294967295,R=w+(I<<7&4294967295|I>>>25),I=U+(M^R&(w^M))+O[1]+3905402710&4294967295,U=R+(I<<12&4294967295|I>>>20),I=M+(w^U&(R^w))+O[2]+606105819&4294967295,M=U+(I<<17&4294967295|I>>>15),I=w+(R^M&(U^R))+O[3]+3250441966&4294967295,w=M+(I<<22&4294967295|I>>>10),I=R+(U^w&(M^U))+O[4]+4118548399&4294967295,R=w+(I<<7&4294967295|I>>>25),I=U+(M^R&(w^M))+O[5]+1200080426&4294967295,U=R+(I<<12&4294967295|I>>>20),I=M+(w^U&(R^w))+O[6]+2821735955&4294967295,M=U+(I<<17&4294967295|I>>>15),I=w+(R^M&(U^R))+O[7]+4249261313&4294967295,w=M+(I<<22&4294967295|I>>>10),I=R+(U^w&(M^U))+O[8]+1770035416&4294967295,R=w+(I<<7&4294967295|I>>>25),I=U+(M^R&(w^M))+O[9]+2336552879&4294967295,U=R+(I<<12&4294967295|I>>>20),I=M+(w^U&(R^w))+O[10]+4294925233&4294967295,M=U+(I<<17&4294967295|I>>>15),I=w+(R^M&(U^R))+O[11]+2304563134&4294967295,w=M+(I<<22&4294967295|I>>>10),I=R+(U^w&(M^U))+O[12]+1804603682&4294967295,R=w+(I<<7&4294967295|I>>>25),I=U+(M^R&(w^M))+O[13]+4254626195&4294967295,U=R+(I<<12&4294967295|I>>>20),I=M+(w^U&(R^w))+O[14]+2792965006&4294967295,M=U+(I<<17&4294967295|I>>>15),I=w+(R^M&(U^R))+O[15]+1236535329&4294967295,w=M+(I<<22&4294967295|I>>>10),I=R+(M^U&(w^M))+O[1]+4129170786&4294967295,R=w+(I<<5&4294967295|I>>>27),I=U+(w^M&(R^w))+O[6]+3225465664&4294967295,U=R+(I<<9&4294967295|I>>>23),I=M+(R^w&(U^R))+O[11]+643717713&4294967295,M=U+(I<<14&4294967295|I>>>18),I=w+(U^R&(M^U))+O[0]+3921069994&4294967295,w=M+(I<<20&4294967295|I>>>12),I=R+(M^U&(w^M))+O[5]+3593408605&4294967295,R=w+(I<<5&4294967295|I>>>27),I=U+(w^M&(R^w))+O[10]+38016083&4294967295,U=R+(I<<9&4294967295|I>>>23),I=M+(R^w&(U^R))+O[15]+3634488961&4294967295,M=U+(I<<14&4294967295|I>>>18),I=w+(U^R&(M^U))+O[4]+3889429448&4294967295,w=M+(I<<20&4294967295|I>>>12),I=R+(M^U&(w^M))+O[9]+568446438&4294967295,R=w+(I<<5&4294967295|I>>>27),I=U+(w^M&(R^w))+O[14]+3275163606&4294967295,U=R+(I<<9&4294967295|I>>>23),I=M+(R^w&(U^R))+O[3]+4107603335&4294967295,M=U+(I<<14&4294967295|I>>>18),I=w+(U^R&(M^U))+O[8]+1163531501&4294967295,w=M+(I<<20&4294967295|I>>>12),I=R+(M^U&(w^M))+O[13]+2850285829&4294967295,R=w+(I<<5&4294967295|I>>>27),I=U+(w^M&(R^w))+O[2]+4243563512&4294967295,U=R+(I<<9&4294967295|I>>>23),I=M+(R^w&(U^R))+O[7]+1735328473&4294967295,M=U+(I<<14&4294967295|I>>>18),I=w+(U^R&(M^U))+O[12]+2368359562&4294967295,w=M+(I<<20&4294967295|I>>>12),I=R+(w^M^U)+O[5]+4294588738&4294967295,R=w+(I<<4&4294967295|I>>>28),I=U+(R^w^M)+O[8]+2272392833&4294967295,U=R+(I<<11&4294967295|I>>>21),I=M+(U^R^w)+O[11]+1839030562&4294967295,M=U+(I<<16&4294967295|I>>>16),I=w+(M^U^R)+O[14]+4259657740&4294967295,w=M+(I<<23&4294967295|I>>>9),I=R+(w^M^U)+O[1]+2763975236&4294967295,R=w+(I<<4&4294967295|I>>>28),I=U+(R^w^M)+O[4]+1272893353&4294967295,U=R+(I<<11&4294967295|I>>>21),I=M+(U^R^w)+O[7]+4139469664&4294967295,M=U+(I<<16&4294967295|I>>>16),I=w+(M^U^R)+O[10]+3200236656&4294967295,w=M+(I<<23&4294967295|I>>>9),I=R+(w^M^U)+O[13]+681279174&4294967295,R=w+(I<<4&4294967295|I>>>28),I=U+(R^w^M)+O[0]+3936430074&4294967295,U=R+(I<<11&4294967295|I>>>21),I=M+(U^R^w)+O[3]+3572445317&4294967295,M=U+(I<<16&4294967295|I>>>16),I=w+(M^U^R)+O[6]+76029189&4294967295,w=M+(I<<23&4294967295|I>>>9),I=R+(w^M^U)+O[9]+3654602809&4294967295,R=w+(I<<4&4294967295|I>>>28),I=U+(R^w^M)+O[12]+3873151461&4294967295,U=R+(I<<11&4294967295|I>>>21),I=M+(U^R^w)+O[15]+530742520&4294967295,M=U+(I<<16&4294967295|I>>>16),I=w+(M^U^R)+O[2]+3299628645&4294967295,w=M+(I<<23&4294967295|I>>>9),I=R+(M^(w|~U))+O[0]+4096336452&4294967295,R=w+(I<<6&4294967295|I>>>26),I=U+(w^(R|~M))+O[7]+1126891415&4294967295,U=R+(I<<10&4294967295|I>>>22),I=M+(R^(U|~w))+O[14]+2878612391&4294967295,M=U+(I<<15&4294967295|I>>>17),I=w+(U^(M|~R))+O[5]+4237533241&4294967295,w=M+(I<<21&4294967295|I>>>11),I=R+(M^(w|~U))+O[12]+1700485571&4294967295,R=w+(I<<6&4294967295|I>>>26),I=U+(w^(R|~M))+O[3]+2399980690&4294967295,U=R+(I<<10&4294967295|I>>>22),I=M+(R^(U|~w))+O[10]+4293915773&4294967295,M=U+(I<<15&4294967295|I>>>17),I=w+(U^(M|~R))+O[1]+2240044497&4294967295,w=M+(I<<21&4294967295|I>>>11),I=R+(M^(w|~U))+O[8]+1873313359&4294967295,R=w+(I<<6&4294967295|I>>>26),I=U+(w^(R|~M))+O[15]+4264355552&4294967295,U=R+(I<<10&4294967295|I>>>22),I=M+(R^(U|~w))+O[6]+2734768916&4294967295,M=U+(I<<15&4294967295|I>>>17),I=w+(U^(M|~R))+O[13]+1309151649&4294967295,w=M+(I<<21&4294967295|I>>>11),I=R+(M^(w|~U))+O[4]+4149444226&4294967295,R=w+(I<<6&4294967295|I>>>26),I=U+(w^(R|~M))+O[11]+3174756917&4294967295,U=R+(I<<10&4294967295|I>>>22),I=M+(R^(U|~w))+O[2]+718787259&4294967295,M=U+(I<<15&4294967295|I>>>17),I=w+(U^(M|~R))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+U&4294967295}s.prototype.v=function(C,R){R===void 0&&(R=C.length);const w=R-this.blockSize,O=this.C;let M=this.h,U=0;for(;U<R;){if(M==0)for(;U<=w;)o(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<R;)if(O[M++]=C.charCodeAt(U++),M==this.blockSize){o(this,O),M=0;break}}else for(;U<R;)if(O[M++]=C[U++],M==this.blockSize){o(this,O),M=0;break}}this.h=M,this.o+=R},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;R=this.o*8;for(var w=C.length-8;w<C.length;++w)C[w]=R&255,R/=256;for(this.v(C),C=Array(16),R=0,w=0;w<4;++w)for(let O=0;O<32;O+=8)C[R++]=this.g[w]>>>O&255;return C};function u(C,R){var w=m;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=R(C)}function f(C,R){this.h=R;const w=[];let O=!0;for(let M=C.length-1;M>=0;M--){const U=C[M]|0;O&&U==R||(w[M]=U,O=!1)}this.g=w}var m={};function p(C){return-128<=C&&C<128?u(C,function(R){return new f([R|0],R<0?-1:0)}):new f([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return H(y(-C));const R=[];let w=1;for(let O=0;C>=w;O++)R[O]=C/w|0,w*=4294967296;return new f(R,0)}function E(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return H(E(C.substring(1),R));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=y(Math.pow(R,8));let O=T;for(let U=0;U<C.length;U+=8){var M=Math.min(8,C.length-U);const I=parseInt(C.substring(U,U+M),R);M<8?(M=y(Math.pow(R,M)),O=O.j(M).add(y(I))):(O=O.j(w),O=O.add(y(I)))}return O}var T=p(0),b=p(1),L=p(16777216);r=f.prototype,r.m=function(){if(Z(this))return-H(this).m();let C=0,R=1;for(let w=0;w<this.g.length;w++){const O=this.i(w);C+=(O>=0?O:4294967296+O)*R,R*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Y(this))return"0";if(Z(this))return"-"+H(this).toString(C);const R=y(Math.pow(C,6));var w=this;let O="";for(;;){const M=_t(w,R).g;w=rt(w,M.j(R));let U=((w.g.length>0?w.g[0]:w.h)>>>0).toString(C);if(w=M,Y(w))return U+O;for(;U.length<6;)U="0"+U;O=U+O}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Y(C){if(C.h!=0)return!1;for(let R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function Z(C){return C.h==-1}r.l=function(C){return C=rt(this,C),Z(C)?-1:Y(C)?0:1};function H(C){const R=C.g.length,w=[];for(let O=0;O<R;O++)w[O]=~C.g[O];return new f(w,~C.h).add(b)}r.abs=function(){return Z(this)?H(this):this},r.add=function(C){const R=Math.max(this.g.length,C.g.length),w=[];let O=0;for(let M=0;M<=R;M++){let U=O+(this.i(M)&65535)+(C.i(M)&65535),I=(U>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);O=I>>>16,U&=65535,I&=65535,w[M]=I<<16|U}return new f(w,w[w.length-1]&-2147483648?-1:0)};function rt(C,R){return C.add(H(R))}r.j=function(C){if(Y(this)||Y(C))return T;if(Z(this))return Z(C)?H(this).j(H(C)):H(H(this).j(C));if(Z(C))return H(this.j(H(C)));if(this.l(L)<0&&C.l(L)<0)return y(this.m()*C.m());const R=this.g.length+C.g.length,w=[];for(var O=0;O<2*R;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(let M=0;M<C.g.length;M++){const U=this.i(O)>>>16,I=this.i(O)&65535,qt=C.i(M)>>>16,he=C.i(M)&65535;w[2*O+2*M]+=I*he,lt(w,2*O+2*M),w[2*O+2*M+1]+=U*he,lt(w,2*O+2*M+1),w[2*O+2*M+1]+=I*qt,lt(w,2*O+2*M+1),w[2*O+2*M+2]+=U*qt,lt(w,2*O+2*M+2)}for(C=0;C<R;C++)w[C]=w[2*C+1]<<16|w[2*C];for(C=R;C<2*R;C++)w[C]=0;return new f(w,0)};function lt(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function it(C,R){this.g=C,this.h=R}function _t(C,R){if(Y(R))throw Error("division by zero");if(Y(C))return new it(T,T);if(Z(C))return R=_t(H(C),R),new it(H(R.g),H(R.h));if(Z(R))return R=_t(C,H(R)),new it(H(R.g),R.h);if(C.g.length>30){if(Z(C)||Z(R))throw Error("slowDivide_ only works with positive integers.");for(var w=b,O=R;O.l(C)<=0;)w=Dt(w),O=Dt(O);var M=nt(w,1),U=nt(O,1);for(O=nt(O,2),w=nt(w,2);!Y(O);){var I=U.add(O);I.l(C)<=0&&(M=M.add(w),U=I),O=nt(O,1),w=nt(w,1)}return R=rt(C,M.j(R)),new it(M,R)}for(M=T;C.l(R)>=0;){for(w=Math.max(1,Math.floor(C.m()/R.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),U=y(w),I=U.j(R);Z(I)||I.l(C)>0;)w-=O,U=y(w),I=U.j(R);Y(U)&&(U=b),M=M.add(U),C=rt(C,I)}return new it(M,C)}r.B=function(C){return _t(this,C).h},r.and=function(C){const R=Math.max(this.g.length,C.g.length),w=[];for(let O=0;O<R;O++)w[O]=this.i(O)&C.i(O);return new f(w,this.h&C.h)},r.or=function(C){const R=Math.max(this.g.length,C.g.length),w=[];for(let O=0;O<R;O++)w[O]=this.i(O)|C.i(O);return new f(w,this.h|C.h)},r.xor=function(C){const R=Math.max(this.g.length,C.g.length),w=[];for(let O=0;O<R;O++)w[O]=this.i(O)^C.i(O);return new f(w,this.h^C.h)};function Dt(C){const R=C.g.length+1,w=[];for(let O=0;O<R;O++)w[O]=C.i(O)<<1|C.i(O-1)>>>31;return new f(w,C.h)}function nt(C,R){const w=R>>5;R%=32;const O=C.g.length-w,M=[];for(let U=0;U<O;U++)M[U]=R>0?C.i(U+w)>>>R|C.i(U+w+1)<<32-R:C.i(U+w);return new f(M,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,s0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,rs=f}).apply(typeof lE<"u"?lE:typeof self<"u"?self:typeof window<"u"?window:{});var Jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var a0,Ll,o0,ah,Hm,l0,u0,c0;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jc=="object"&&Jc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)t:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in v))break t;v=v[z]}c=c[c.length-1],A=v[c],g=g(A),g!=A&&g!=null&&t(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],A;for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&v.push([A,g[A]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,v){return c.call.apply(c.bind,arguments)}function y(c,g,v){return y=p,y.apply(null,arguments)}function E(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,z,G){for(var ot=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)ot[Ct-2]=arguments[Ct];return g.prototype[z].apply(A,ot)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function L(c){const g=c.length;if(g>0){const v=Array(g);for(let A=0;A<g;A++)v[A]=c[A];return v}return[]}function Y(c,g){for(let A=1;A<arguments.length;A++){const z=arguments[A];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=c.length||0;const G=z.length||0;c.length=v+G;for(let ot=0;ot<G;ot++)c[v+ot]=z[ot]}else c.push(z)}}class Z{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function H(c){f.setTimeout(()=>{throw c},0)}function rt(){var c=C;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class lt{constructor(){this.h=this.g=null}add(g,v){const A=it.get();A.set(g,v),this.h?this.h.next=A:this.g=A,this.h=A}}var it=new Z(()=>new _t,c=>c.reset());class _t{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Dt,nt=!1,C=new lt,R=()=>{const c=Promise.resolve(void 0);Dt=()=>{c.then(w)}};function w(){for(var c;c=rt();){try{c.h.call(c.g)}catch(v){H(v)}var g=it;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}nt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,g),f.removeEventListener("test",v,g)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function qt(c,g){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}T(qt,M),qt.prototype.init=function(c,g){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&qt.Z.h.call(this)},qt.prototype.h=function(){qt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),$=0;function ut(c,g,v,A,z){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!A,this.ha=z,this.key=++$,this.da=this.fa=!1}function gt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ot(c,g,v){for(const A in c)g.call(v,c[A],A,c)}function Ht(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function x(c){const g={};for(const v in c)g[v]=c[v];return g}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(c,g){let v,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(v in A)c[v]=A[v];for(let G=0;G<P.length;G++)v=P[G],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function st(c){this.src=c,this.g={},this.h=0}st.prototype.add=function(c,g,v,A,z){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const ot=ft(c,g,A,z);return ot>-1?(g=c[ot],v||(g.fa=!1)):(g=new ut(g,this.src,G,!!A,z),g.fa=v,c.push(g)),g};function at(c,g){const v=g.type;if(v in c.g){var A=c.g[v],z=Array.prototype.indexOf.call(A,g,void 0),G;(G=z>=0)&&Array.prototype.splice.call(A,z,1),G&&(gt(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ft(c,g,v,A){for(let z=0;z<c.length;++z){const G=c[z];if(!G.da&&G.listener==g&&G.capture==!!v&&G.ha==A)return z}return-1}var St="closure_lm_"+(Math.random()*1e6|0),bt={};function Yt(c,g,v,A,z){if(Array.isArray(g)){for(let G=0;G<g.length;G++)Yt(c,g[G],v,A,z);return null}return v=Io(v),c&&c[he]?c.J(g,v,m(A)?!!A.capture:!1,z):Hn(c,g,v,!1,A,z)}function Hn(c,g,v,A,z,G){if(!g)throw Error("Invalid event type");const ot=m(z)?!!z.capture:!!z;let Ct=vs(c);if(Ct||(c[St]=Ct=new st(c)),v=Ct.add(g,v,A,ot,G),v.proxy)return v;if(A=dr(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)U||(z=ot),z===void 0&&(z=!1),c.addEventListener(g.toString(),A,z);else if(c.attachEvent)c.attachEvent(li(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function dr(){function c(v){return g.call(c.src,c.listener,v)}const g=Ro;return c}function oa(c,g,v,A,z){if(Array.isArray(g))for(var G=0;G<g.length;G++)oa(c,g[G],v,A,z);else A=m(A)?!!A.capture:!!A,v=Io(v),c&&c[he]?(c=c.i,G=String(g).toString(),G in c.g&&(g=c.g[G],v=ft(g,v,A,z),v>-1&&(gt(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[G],c.h--)))):c&&(c=vs(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ft(g,v,A,z)),(v=c>-1?g[c]:null)&&la(v))}function la(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[he])at(g.i,c);else{var v=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(v,A,c.capture):g.detachEvent?g.detachEvent(li(v),A):g.addListener&&g.removeListener&&g.removeListener(A),(v=vs(g))?(at(v,c),v.h==0&&(v.src=null,g[St]=null)):gt(c)}}}function li(c){return c in bt?bt[c]:bt[c]="on"+c}function Ro(c,g){if(c.da)c=!0;else{g=new qt(g,this);const v=c.listener,A=c.ha||c.src;c.fa&&la(c),c=v.call(A,g)}return c}function vs(c){return c=c[St],c instanceof st?c:null}var Co="__closure_events_fn_"+(Math.random()*1e9>>>0);function Io(c){return typeof c=="function"?c:(c[Co]||(c[Co]=function(g){return c.handleEvent(g)}),c[Co])}function Ee(){O.call(this),this.i=new st(this),this.M=this,this.G=null}T(Ee,O),Ee.prototype[he]=!0,Ee.prototype.removeEventListener=function(c,g,v,A){oa(this,c,g,v,A)};function Me(c,g){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new M(g,c);else if(g instanceof M)g.target=g.target||c;else{var z=g;g=new M(A,c),F(g,z)}z=!0;let G,ot;if(v)for(ot=v.length-1;ot>=0;ot--)G=g.g=v[ot],z=mr(G,A,!0,g)&&z;if(G=g.g=c,z=mr(G,A,!0,g)&&z,z=mr(G,A,!1,g)&&z,v)for(ot=0;ot<v.length;ot++)G=g.g=v[ot],z=mr(G,A,!1,g)&&z}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let A=0;A<v.length;A++)gt(v[A]);delete c.g[g],c.h--}}this.G=null},Ee.prototype.J=function(c,g,v,A){return this.i.add(String(c),g,!1,v,A)},Ee.prototype.K=function(c,g,v,A){return this.i.add(String(c),g,!0,v,A)};function mr(c,g,v,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let z=!0;for(let G=0;G<g.length;++G){const ot=g[G];if(ot&&!ot.da&&ot.capture==v){const Ct=ot.listener,ge=ot.ha||ot.src;ot.fa&&at(c.i,ot),z=Ct.call(ge,A)!==!1&&z}}return z&&!A.defaultPrevented}function ff(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function Eu(c){c.g=ff(()=>{c.g=null,c.i&&(c.i=!1,Eu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class en extends O{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Eu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Es(c){O.call(this),this.h=c,this.g={}}T(Es,O);var No=[];function Do(c){Ot(c.g,function(g,v){this.g.hasOwnProperty(v)&&la(g)},c),c.g={}}Es.prototype.N=function(){Es.Z.N.call(this),Do(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pr=f.JSON.stringify,df=f.JSON.parse,Tu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Su(){}function Au(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){M.call(this,"d")}T(je,M);function Nn(){M.call(this,"c")}T(Nn,M);var pe={},bu=null;function ua(){return bu=bu||new Ee}pe.Ia="serverreachability";function wu(c){M.call(this,pe.Ia,c)}T(wu,M);function ui(c){const g=ua();Me(g,new wu(g))}pe.STAT_EVENT="statevent";function Ts(c,g){M.call(this,pe.STAT_EVENT,c),this.stat=g}T(Ts,M);function Te(c){const g=ua();Me(g,new Ts(g,c))}pe.Ja="timingevent";function ci(c,g){M.call(this,pe.Ja,c),this.size=g}T(ci,M);function hi(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function mf(c,g,v,A,z,G){c.info(function(){if(c.g)if(G){var ot="",Ct=G.split("&");for(let Qt=0;Qt<Ct.length;Qt++){var ge=Ct[Qt].split("=");if(ge.length>1){const oe=ge[0];ge=ge[1];const Vn=oe.split("_");ot=Vn.length>=2&&Vn[1]=="type"?ot+(oe+"="+ge+"&"):ot+(oe+"=redacted&")}}}else ot=null;else ot=G;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+g+`
`+v+`
`+ot})}function Ru(c,g,v,A,z,G,ot){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+g+`
`+v+`
`+G+" "+ot})}function fi(c,g,v,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+pf(c,v)+(A?" "+A:"")})}function Ss(c,g){c.info(function(){return"TIMEOUT: "+g})}Gn.prototype.info=function(){};function pf(c,g){if(!c.g)return g;if(!g)return null;try{const G=JSON.parse(g);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var v=G[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ot=1;ot<A.length;ot++)A[ot]=""}}}}return pr(G)}catch{return g}}var As={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Oo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Mo;function bs(){}T(bs,Su),bs.prototype.g=function(){return new XMLHttpRequest},Mo=new bs;function ki(c){return encodeURIComponent(String(c))}function Cu(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function Qn(c,g,v,A){this.j=c,this.i=g,this.l=v,this.S=A||1,this.V=new Es(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var Se={},Pe={};function di(c,g,v){c.M=1,c.A=ws(be(g)),c.u=v,c.R=!0,ca(c,null)}function ca(c,g){c.F=Date.now(),mi(c),c.B=be(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ma(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Kn,c.g=qu(c.j,v?g:null,!c.u),c.P>0&&(c.O=new en(y(c.Y,c,c.g),c.P)),g=c.V,v=c.g,A=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(No[0]=z.toString()),z=No);for(let G=0;G<z.length;G++){const ot=Yt(v,z[G],A||g.handleEvent,!1,g.h||g);if(!ot)break;g.g[ot.key]=ot}g=c.J?x(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),ui(),mf(c.i,c.v,c.B,c.l,c.S,c.u)}Qn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Xn(c)==3?g.j():this.Y(c)},Qn.prototype.Y=function(c){try{if(c==this.g)t:{const Ct=Xn(this.g),ge=this.g.ya(),Qt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||Ct!=4||ge==7||(ge==8||Qt<=0?ui(3):ui(2)),pi(this);var g=this.g.ca();this.X=g;var v=gf(this);if(this.o=g==200,Ru(this.i,this.v,this.B,this.l,this.S,Ct,g),this.o){if(this.U&&!this.L){e:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var G=A;break e}}G=null}if(c=G)fi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,c);else{this.o=!1,this.m=3,Te(12),yn(this),Dn(this);break t}}if(this.R){c=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=Nu(this,v),oe==Pe){Ct==4&&(this.m=4,Te(14),c=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Se){this.m=4,Te(15),fi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else fi(this.i,this.l,oe,null),gi(this,oe);if(Iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||v.length!=0||this.h.h||(this.m=1,Te(16),c=!1),this.o=this.o&&c,!c)fi(this.i,this.l,v,"[Invalid Chunked Response]"),yn(this),Dn(this);else if(v.length>0&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.aa&&!ot.P&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Ko(ot),ot.P=!0,Te(11))}}else fi(this.i,this.l,v,null),gi(this,v);Ct==4&&yn(this),this.o&&!this.K&&(Ct==4?ku(this.j,this):(this.o=!1,mi(this)))}else ji(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,Te(12)):(this.m=0,Te(13)),yn(this),Dn(this)}}}catch{}finally{}};function gf(c){if(!Iu(c))return c.g.la();const g=Be(c.g);if(g==="")return"";let v="";const A=g.length,z=Xn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return yn(c),Dn(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<A;G++)c.h.h=!0,v+=c.h.i.decode(g[G],{stream:!(z&&G==A-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function Iu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Nu(c,g){var v=c.C,A=g.indexOf(`
`,v);return A==-1?Pe:(v=Number(g.substring(v,A)),isNaN(v)?Se:(A+=1,A+v>g.length?Pe:(g=g.slice(A,A+v),c.C=A+v,g)))}Qn.prototype.cancel=function(){this.K=!0,yn(this)};function mi(c){c.T=Date.now()+c.H,ha(c,c.H)}function ha(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=hi(y(c.aa,c),g)}function pi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ss(this.i,this.B),this.M!=2&&(ui(),Te(17)),yn(this),this.m=2,Dn(this)):ha(this,this.T-c)};function Dn(c){c.j.I==0||c.K||ku(c.j,c)}function yn(c){pi(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Do(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function gi(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||_i(v.h,c))){if(!c.L&&_i(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)va(v),Ar(v);else break t;Ms(v),Te(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=hi(y(v.Va,v),6e3));yi(v.h)<=1&&v.ta&&(v.ta=void 0)}else bi(v,11)}else if((c.L||v.g==c)&&va(v),!I(g))for(z=v.Ba.g.parse(g),g=0;g<z.length;g++){let Qt=z[g];const oe=Qt[0];if(!(oe<=v.K))if(v.K=oe,Qt=Qt[1],v.I==2)if(Qt[0]=="c"){v.M=Qt[1],v.ba=Qt[2];const Vn=Qt[3];Vn!=null&&(v.ka=Vn,v.j.info("VER="+v.ka));const wi=Qt[4];wi!=null&&(v.za=wi,v.j.info("SVER="+v.za));const Jn=Qt[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(A=1.5*Jn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Zn=c.g;if(Zn){const Vs=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vs){var G=A.h;G.g||Vs.indexOf("spdy")==-1&&Vs.indexOf("quic")==-1&&Vs.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Po(G,G.h),G.h=null))}if(A.G){const Ea=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(A.wa=Ea,$t(A.J,A.G,Ea))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ot=c;if(A.na=Bu(A,A.L?A.ba:null,A.W),ot.L){Lo(A.h,ot);var Ct=ot,ge=A.O;ge&&(Ct.H=ge),Ct.D&&(pi(Ct),mi(Ct)),A.g=ot}else Lu(A);v.i.length>0&&Ai(v)}else Qt[0]!="stop"&&Qt[0]!="close"||bi(v,7);else v.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?bi(v,7):Go(v):Qt[0]!="noop"&&v.l&&v.l.qa(Qt),v.A=0)}}ui(4)}catch{}}var Ae=class{constructor(c,g){this.g=c,this.map=g}};function Vo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function yi(c){return c.h?1:c.g?c.g.size:0}function _i(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Po(c,g){c.g?c.g.add(g):c.h=g}function Lo(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Vo.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Uo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return L(c.i)}var Du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let z,G=null;A>=0?(z=c[v].substring(0,A),G=c[v].substring(A+1)):z=c[v],g(z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function _n(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof _n?(this.l=c.l,Le(this,c.j),this.o=c.o,this.g=c.g,gr(this,c.u),this.h=c.h,ko(this,xu(c.i)),this.m=c.m):c&&(g=String(c).match(Du))?(this.l=!1,Le(this,g[1]||"",!0),this.o=vi(g[2]||""),this.g=vi(g[3]||"",!0),gr(this,g[4]),this.h=vi(g[5]||"",!0),ko(this,g[6]||"",!0),this.m=vi(g[7]||"")):(this.l=!1,this.i=new _r(null,this.l))}_n.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Rs(g,da,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Rs(g,da,!0),"@"),c.push(ki(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Rs(v,v.charAt(0)=="/"?zo:Ou,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Rs(v,Mu)),c.join("")},_n.prototype.resolve=function(c){const g=be(this);let v=!!c.j;v?Le(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var A=c.h;if(v)gr(g,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=g.h.lastIndexOf("/");z!=-1&&(A=g.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const G=[];for(let ot=0;ot<z.length;){const Ct=z[ot++];Ct=="."?A&&ot==z.length&&G.push(""):Ct==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),A&&ot==z.length&&G.push("")):(G.push(Ct),A=!0)}A=G.join("/")}else A=z}return v?g.h=A:v=c.i.toString()!=="",v?ko(g,xu(c.i)):v=!!c.m,v&&(g.m=c.m),g};function be(c){return new _n(c)}function Le(c,g,v){c.j=v?vi(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function gr(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function ko(c,g,v){g instanceof _r?(c.i=g,pa(c.i,c.l)):(v||(g=Rs(g,yr)),c.i=new _r(g,c.l))}function $t(c,g,v){c.i.set(g,v)}function ws(c){return $t(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function vi(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Rs(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,un),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function un(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var da=/[#\/\?@]/g,Ou=/[#\?:]/g,zo=/[#\?]/g,yr=/[#\?@]/g,Mu=/#/g;function _r(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function cn(c){c.g||(c.g=new Map,c.h=0,c.i&&fa(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=_r.prototype,r.add=function(c,g){cn(this),this.i=null,c=vr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Vu(c,g){cn(c),g=vr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function jo(c,g){return cn(c),g=vr(c,g),c.g.has(g)}r.forEach=function(c,g){cn(this),this.g.forEach(function(v,A){v.forEach(function(z){c.call(g,z,A,this)},this)},this)};function Bo(c,g){cn(c);let v=[];if(typeof g=="string")jo(c,g)&&(v=v.concat(c.g.get(vr(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}r.set=function(c,g){return cn(this),this.i=null,c=vr(this,c),jo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=Bo(this,c),c.length>0?String(c[0]):g):g};function ma(c,g,v){Vu(c,g),v.length>0&&(c.i=null,c.g.set(vr(c,g),L(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let A=0;A<g.length;A++){var v=g[A];const z=ki(v);v=Bo(this,v);for(let G=0;G<v.length;G++){let ot=z;v[G]!==""&&(ot+="="+ki(v[G])),c.push(ot)}}return this.i=c.join("&")};function xu(c){const g=new _r;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function vr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function pa(c,g){g&&!c.j&&(cn(c),c.i=null,c.g.forEach(function(v,A){const z=A.toLowerCase();A!=z&&(Vu(this,A),ma(this,z,v))},c)),c.j=g}function Yn(c,g){const v=new Gn;if(f.Image){const A=new Image;A.onload=E(On,v,"TestLoadImage: loaded",!0,g,A),A.onerror=E(On,v,"TestLoadImage: error",!1,g,A),A.onabort=E(On,v,"TestLoadImage: abort",!1,g,A),A.ontimeout=E(On,v,"TestLoadImage: timeout",!1,g,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function qo(c,g){const v=new Gn,A=new AbortController,z=setTimeout(()=>{A.abort(),On(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(z),G.ok?On(v,"TestPingServer: ok",!0,g):On(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),On(v,"TestPingServer: error",!1,g)})}function On(c,g,v,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(v)}catch{}}function Er(){this.g=new Tu}function Ei(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Ei,Su),Ei.prototype.g=function(){return new Cs(this.i,this.h)};function Cs(c,g){Ee.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Cs,Ee),r=Cs.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,$n(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Tr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ga(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ga(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Tr(this):$n(this),this.readyState==3&&ga(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Tr(this))},r.Na=function(c){this.g&&(this.response=c,Tr(this))},r.ga=function(){this.g&&Tr(this)};function Tr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,$n(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function $n(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Mn(c){let g="";return Ot(c,function(v,A){g+=A,g+=":",g+=v,g+=`\r
`}),g}function Is(c,g,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Mn(v),typeof c=="string"?v!=null&&ki(v):$t(c,g,v))}function Zt(c){Ee.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Zt,Ee);var Ti=/^https?$/i,Ho=["POST","PUT"];r=Zt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Mo.g(),this.g.onreadystatechange=b(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){Ns(this,G);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)v.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())v.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),z=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Ho,g,void 0)>=0)||A||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ot]of v)this.g.setRequestHeader(G,ot);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){Ns(this,G)}};function Ns(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Fo(c),zi(c)}function Fo(c){c.A||(c.A=!0,Me(c,"complete"),Me(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Me(this,"complete"),Me(this,"abort"),zi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),Zt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ds(this):this.Xa())},r.Xa=function(){Ds(this)};function Ds(c){if(c.h&&typeof u<"u"){if(c.v&&Xn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Me(c,"readystatechange"),Xn(c)==4){c.h=!1;try{const G=c.ca();t:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var v;if(!(v=g)){var A;if(A=G===0){let ot=String(c.D).match(Du)[1]||null;!ot&&f.self&&f.self.location&&(ot=f.self.location.protocol.slice(0,-1)),A=!Ti.test(ot?ot.toLowerCase():"")}v=A}if(v)Me(c,"complete"),Me(c,"success");else{c.o=6;try{var z=Xn(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",Fo(c)}}finally{zi(c)}}}}function zi(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||Me(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Xn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),df(g)}};function Be(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(c){const g={};c=(c.g&&Xn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(I(c[A]))continue;var v=Cu(c[A]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=g[z]||[];g[z]=G,G.push(v)}Ht(g,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Sr(c){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,c),this.Za=Si("retryDelaySeedMs",1e4,c),this.Ta=Si("forwardChannelMaxRetries",2,c),this.va=Si("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Vo(c&&c.concurrentRequestLimit),this.Ba=new Er,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Sr.prototype,r.ka=8,r.I=1,r.connect=function(c,g,v,A){Te(0),this.W=c,this.H=g||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Bu(this,null,this.W),Ai(this)};function Go(c){if(ya(c),c.I==3){var g=c.V++,v=be(c.J);if($t(v,"SID",c.M),$t(v,"RID",g),$t(v,"TYPE","terminate"),Os(c,v),g=new Qn(c,c.j,g),g.M=2,g.A=ws(be(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=g.A,v=!0),v||(g.g=qu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),mi(g)}ju(c)}function Ar(c){c.g&&(Ko(c),c.g.cancel(),c.g=null)}function ya(c){Ar(c),c.v&&(f.clearTimeout(c.v),c.v=null),va(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ai(c){if(!xo(c.h)&&!c.m){c.m=!0;var g=c.Ea;Dt||R(),nt||(Dt(),nt=!0),C.add(g,c),c.D=0}}function _a(c,g){return yi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=hi(y(c.Ea,c,g),zu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Qn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=x(G),F(G,this.U)):G=this.U),this.u!==null||this.R||(z.J=G,G=null),this.S)t:{for(var g=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,g>4096){g=v;break t}if(g===4096||v===this.i.length-1){g=v+1;break t}}g=1e3}else g=1e3;g=Pu(this,z,g),v=be(this.J),$t(v,"RID",c),$t(v,"CVER",22),this.G&&$t(v,"X-HTTP-Session-Id",this.G),Os(this,v),G&&(this.R?g="headers="+ki(Mn(G))+"&"+g:this.u&&Is(v,this.u,G)),Po(this.h,z),this.Ra&&$t(v,"TYPE","init"),this.S?($t(v,"$req",g),$t(v,"SID","null"),z.U=!0,di(z,v,null)):di(z,v,g),this.I=2}}else this.I==3&&(c?Qo(this,c):this.i.length==0||xo(this.h)||Qo(this))};function Qo(c,g){var v;g?v=g.l:v=c.V++;const A=be(c.J);$t(A,"SID",c.M),$t(A,"RID",v),$t(A,"AID",c.K),Os(c,A),c.u&&c.o&&Is(A,c.u,c.o),v=new Qn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Pu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Po(c.h,v),di(v,A,g)}function Os(c,g){c.H&&Ot(c.H,function(v,A){$t(g,A,v)}),c.l&&Ot({},function(v,A){$t(g,A,v)})}function Pu(c,g,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;t:{var z=c.i;let Ct=-1;for(;;){const ge=["count="+v];Ct==-1?v>0?(Ct=z[0].g,ge.push("ofs="+Ct)):Ct=0:ge.push("ofs="+Ct);let Qt=!0;for(let oe=0;oe<v;oe++){var G=z[oe].g;const Vn=z[oe].map;if(G-=Ct,G<0)Ct=Math.max(0,z[oe].g-100),Qt=!1;else try{G="req"+G+"_"||"";try{var ot=Vn instanceof Map?Vn:Object.entries(Vn);for(const[wi,Jn]of ot){let Zn=Jn;m(Jn)&&(Zn=pr(Jn)),ge.push(G+wi+"="+encodeURIComponent(Zn))}}catch(wi){throw ge.push(G+"type="+encodeURIComponent("_badmap")),wi}}catch{A&&A(Vn)}}if(Qt){ot=ge.join("&");break t}}ot=void 0}return c=c.i.splice(0,v),g.G=c,ot}function Lu(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;Dt||R(),nt||(Dt(),nt=!0),C.add(g,c),c.A=0}}function Ms(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=hi(y(c.Da,c),zu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Uu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=hi(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Te(10),Ar(this),Uu(this))};function Ko(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Uu(c){c.g=new Qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=be(c.na);$t(g,"RID","rpc"),$t(g,"SID",c.M),$t(g,"AID",c.K),$t(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&$t(g,"TO",c.ia),$t(g,"TYPE","xmlhttp"),Os(c,g),c.u&&c.o&&Is(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=ws(be(g)),v.u=null,v.R=!0,ca(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Ar(this),Ms(this),Te(19))};function va(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function ku(c,g){var v=null;if(c.g==g){va(c),Ko(c),c.g=null;var A=2}else if(_i(c.h,g))v=g.G,Lo(c.h,g),A=1;else return;if(c.I!=0){if(g.o)if(A==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var z=c.D;A=ua(),Me(A,new ci(A,v)),Ai(c)}else Lu(c);else if(z=g.m,z==3||z==0&&g.X>0||!(A==1&&_a(c,g)||A==2&&Ms(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),z){case 1:bi(c,5);break;case 4:bi(c,10);break;case 3:bi(c,6);break;default:bi(c,2)}}}function zu(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function bi(c,g){if(c.j.info("Error code "+g),g==2){var v=y(c.bb,c),A=c.Ua;const z=!A;A=new _n(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Le(A,"https"),ws(A),z?Yn(A.toString(),v):qo(A.toString(),v)}else Te(2);c.I=0,c.l&&c.l.pa(g),ju(c),ya(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function ju(c){if(c.I=0,c.ja=[],c.l){const g=Uo(c.h);(g.length!=0||c.i.length!=0)&&(Y(c.ja,g),Y(c.ja,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.oa()}}function Bu(c,g,v){var A=v instanceof _n?be(v):new _n(v);if(A.g!="")g&&(A.g=g+"."+A.g),gr(A,A.u);else{var z=f.location;A=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;const G=new _n(null);A&&Le(G,A),g&&(G.g=g),z&&gr(G,z),v&&(G.h=v),A=G}return v=c.G,g=c.wa,v&&g&&$t(A,v,g),$t(A,"VER",c.ka),Os(c,A),A}function qu(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new Zt(new Ei({ab:v})):new Zt(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hu(){}r=Hu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function br(){}br.prototype.g=function(c,g){return new nn(c,g)};function nn(c,g){Ee.call(this),this.g=new Sr(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!I(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!I(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Bi(this)}T(nn,Ee),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Go(this.g)},nn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=pr(c),c=v);g.i.push(new Ae(g.Ya++,c)),g.I==3&&Ai(g)},nn.prototype.N=function(){this.g.l=null,delete this.j,Go(this.g),delete this.g,nn.Z.N.call(this)};function Fu(c){je.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const v in g){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}T(Fu,je);function Gu(){Nn.call(this),this.status=1}T(Gu,Nn);function Bi(c){this.g=c}T(Bi,Hu),Bi.prototype.ra=function(){Me(this.g,"a")},Bi.prototype.qa=function(c){Me(this.g,new Fu(c))},Bi.prototype.pa=function(c){Me(this.g,new Gu)},Bi.prototype.oa=function(){Me(this.g,"b")},br.prototype.createWebChannel=br.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,c0=function(){return new br},u0=function(){return ua()},l0=pe,Hm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},As.NO_ERROR=0,As.TIMEOUT=8,As.HTTP_ERROR=6,ah=As,Oo.COMPLETE="complete",o0=Oo,Au.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,Ll=Au,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,a0=Zt}).apply(typeof Jc<"u"?Jc:typeof self<"u"?self:typeof window<"u"?window:{});const uE="@firebase/firestore",cE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new yp("@firebase/firestore");function Ja(){return ea.logLevel}function ht(r,...t){if(ea.logLevel<=Lt.DEBUG){const n=t.map(Ep);ea.debug(`Firestore (${To}): ${r}`,...n)}}function lr(r,...t){if(ea.logLevel<=Lt.ERROR){const n=t.map(Ep);ea.error(`Firestore (${To}): ${r}`,...n)}}function uo(r,...t){if(ea.logLevel<=Lt.WARN){const n=t.map(Ep);ea.warn(`Firestore (${To}): ${r}`,...n)}}function Ep(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,h0(r,s,n)}function h0(r,t,n){let s=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw lr(s),new Error(s)}function Bt(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||h0(t,o,s)}function wt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends fr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class bC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(We.UNAUTHENTICATED)))}shutdown(){}}class wC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class RC{constructor(t){this.t=t,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Bt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Oi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Oi,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Oi)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Bt(typeof s.accessToken=="string",31837,{l:s}),new f0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Bt(t===null||typeof t=="string",2055,{h:t}),new We(t)}}class CC{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=We.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class IC{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new CC(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(We.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class hE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NC{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ni(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Bt(this.o===void 0,3512);const s=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new hE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Bt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new hE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=DC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Ut(r,t){return r<t?-1:r>t?1:0}function Fm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return bm(o)===bm(u)?Ut(o,u):bm(o)?1:-1}return Ut(r.length,t.length)}const OC=55296,MC=57343;function bm(r){const t=r.charCodeAt(0);return t>=OC&&t<=MC}function co(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="__name__";class Di{constructor(t,n,s){n===void 0?n=0:n>t.length&&vt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&vt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Di.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Di?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Di.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Ut(t.length,n.length)}static compareSegments(t,n){const s=Di.isNumericId(t),o=Di.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Di.extractNumericId(t).compare(Di.extractNumericId(n)):Fm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return rs.fromString(t.substring(4,t.length-2))}}class ne extends Di{construct(t,n,s){return new ne(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ne(n)}static emptyPath(){return new ne([])}}const VC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends Di{construct(t,n,s){return new Ye(t,n,s)}static isValidIdentifier(t){return VC.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fE}static keyField(){return new Ye([fE])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ct(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ct(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ct(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ct(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(n)}static emptyPath(){return new Ye([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.path=t}static fromPath(t){return new pt(ne.fromString(t))}static fromName(t){return new pt(ne.fromString(t).popFirst(5))}static empty(){return new pt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new ne(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(r,t,n){if(!n)throw new ct(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function xC(r,t,n,s){if(t===!0&&s===!0)throw new ct(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function dE(r){if(!pt.isDocumentKey(r))throw new ct(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function mE(r){if(pt.isDocumentKey(r))throw new ct(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function m0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Fh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function qn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fh(r);throw new ct(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(r,t){const n={typeString:r};return t&&(n.value=t),n}function lu(r,t){if(!m0(r))throw new ct(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ct(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=-62135596800,gE=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*gE);return new re(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<pE)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gE}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(lu(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-pE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Oe("string",re._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new re(0,0))}static max(){return new Tt(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=-1;function PC(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(s===1e9?new re(n+1,0):new re(n,s));return new ls(o,pt.empty(),t)}function LC(r){return new ls(r.readTime,r.key,Xl)}class ls{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new ls(Tt.min(),pt.empty(),Xl)}static max(){return new ls(Tt.max(),pt.empty(),Xl)}}function UC(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=pt.comparator(r.documentKey,t.documentKey),n!==0?n:Ut(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==kC)throw r;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new et(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof et?n:et.resolve(n)}catch(n){return et.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):et.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):et.reject(n)}static resolve(t){return new et(((n,s)=>{n(t)}))}static reject(t){return new et(((n,s)=>{s(t)}))}static waitFor(t){return new et(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(t){let n=et.resolve(!1);for(const s of t)n=n.next((o=>o?et.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new et(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(t[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new et(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function jC(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ao(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Gh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp=-1;function uu(r){return r==null}function Eh(r){return r===0&&1/r==-1/0}function BC(r){return typeof r=="number"&&Number.isInteger(r)&&!Eh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="";function qC(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=yE(t)),t=HC(r.get(n),t);return yE(t)}function HC(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case p0:n+="";break;default:n+=u}}return n}function yE(r){return r+p0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function ys(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function g0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,n){this.comparator=t,this.root=n||Qe.EMPTY}insert(t,n){return new ce(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Zc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Zc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Zc(this.root,t,this.comparator,!0)}}class Zc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Qe.RED,this.left=o??Qe.EMPTY,this.right=u??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Qe(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Qe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Qe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new vE(this.data.getIterator())}getIteratorFrom(t){return new vE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof xe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new xe(this.comparator);return n.data=t,n}}class vE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new Cn([])}unionWith(t){let n=new xe(Ye.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Cn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return co(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new y0("Invalid base64 string: "+u):u}})(t);return new Xe(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Xe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const FC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function us(r){if(Bt(!!r,39018),typeof r=="string"){let t=0;const n=FC.exec(r);if(Bt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ve(r.seconds),nanos:ve(r.nanos)}}function ve(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function cs(r){return typeof r=="string"?Xe.fromBase64String(r):Xe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="server_timestamp",v0="__type__",E0="__previous_value__",T0="__local_write_time__";function Ap(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[v0])==null?void 0:s.stringValue)===_0}function Qh(r){const t=r.mapValue.fields[E0];return Ap(t)?Qh(t):t}function Jl(r){const t=us(r.mapValue.fields[T0].timestampValue);return new re(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(t,n,s,o,u,f,m,p,y,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const Th="(default)";class Zl{constructor(t,n){this.projectId=t,this.database=n||Th}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===Th}isEqual(t){return t instanceof Zl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="__type__",QC="__max__",Wc={mapValue:{}},A0="__vector__",Sh="value";function hs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ap(r)?4:YC(r)?9007199254740991:KC(r)?10:11:vt(28295,{value:r})}function Ui(r,t){if(r===t)return!0;const n=hs(r);if(n!==hs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Jl(r).isEqual(Jl(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=us(o.timestampValue),m=us(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return cs(o.bytesValue).isEqual(cs(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return ve(o.geoPointValue.latitude)===ve(u.geoPointValue.latitude)&&ve(o.geoPointValue.longitude)===ve(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ve(o.integerValue)===ve(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ve(o.doubleValue),m=ve(u.doubleValue);return f===m?Eh(f)===Eh(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return co(r.arrayValue.values||[],t.arrayValue.values||[],Ui);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(_E(f)!==_E(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ui(f[p],m[p])))return!1;return!0})(r,t);default:return vt(52216,{left:r})}}function Wl(r,t){return(r.values||[]).find((n=>Ui(n,t)))!==void 0}function ho(r,t){if(r===t)return 0;const n=hs(r),s=hs(t);if(n!==s)return Ut(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ut(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=ve(u.integerValue||u.doubleValue),p=ve(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,t);case 3:return EE(r.timestampValue,t.timestampValue);case 4:return EE(Jl(r),Jl(t));case 5:return Fm(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=cs(u),p=cs(f);return m.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Ut(m[y],p[y]);if(E!==0)return E}return Ut(m.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=Ut(ve(u.latitude),ve(f.latitude));return m!==0?m:Ut(ve(u.longitude),ve(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return TE(r.arrayValue,t.arrayValue);case 10:return(function(u,f){var b,L,Y,Z;const m=u.fields||{},p=f.fields||{},y=(b=m[Sh])==null?void 0:b.arrayValue,E=(L=p[Sh])==null?void 0:L.arrayValue,T=Ut(((Y=y==null?void 0:y.values)==null?void 0:Y.length)||0,((Z=E==null?void 0:E.values)==null?void 0:Z.length)||0);return T!==0?T:TE(y,E)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===Wc.mapValue&&f===Wc.mapValue)return 0;if(u===Wc.mapValue)return 1;if(f===Wc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const b=Fm(p[T],E[T]);if(b!==0)return b;const L=ho(m[p[T]],y[E[T]]);if(L!==0)return L}return Ut(p.length,E.length)})(r.mapValue,t.mapValue);default:throw vt(23264,{he:n})}}function EE(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ut(r,t);const n=us(r),s=us(t),o=Ut(n.seconds,s.seconds);return o!==0?o:Ut(n.nanos,s.nanos)}function TE(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=ho(n[o],s[o]);if(u)return u}return Ut(n.length,s.length)}function fo(r){return Gm(r)}function Gm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=us(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return cs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return pt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Gm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Gm(n.fields[f])}`;return o+"}"})(r.mapValue):vt(61005,{value:r})}function oh(r){switch(hs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Qh(r);return t?16+oh(t):16;case 5:return 2*r.stringValue.length;case 6:return cs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+oh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ys(s.fields,((u,f)=>{o+=u.length+oh(f)})),o})(r.mapValue);default:throw vt(13486,{value:r})}}function SE(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Qm(r){return!!r&&"integerValue"in r}function bp(r){return!!r&&"arrayValue"in r}function AE(r){return!!r&&"nullValue"in r}function bE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function lh(r){return!!r&&"mapValue"in r}function KC(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[S0])==null?void 0:s.stringValue)===A0}function ql(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return ys(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=ql(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ql(r.arrayValue.values[n]);return t}return{...r}}function YC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===QC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.value=t}static empty(){return new an({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!lh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ql(n)}setAll(t){let n=Ye.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=ql(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());lh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ui(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];lh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){ys(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new an(ql(this.value))}}function b0(r){const t=[];return ys(r.fields,((n,s)=>{const o=new Ye([n]);if(lh(s)){const u=b0(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new Cn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new ze(t,0,Tt.min(),Tt.min(),Tt.min(),an.empty(),0)}static newFoundDocument(t,n,s,o){return new ze(t,1,n,Tt.min(),s,o,0)}static newNoDocument(t,n){return new ze(t,2,n,Tt.min(),Tt.min(),an.empty(),0)}static newUnknownDocument(t,n){return new ze(t,3,n,Tt.min(),Tt.min(),an.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(t,n){this.position=t,this.inclusive=n}}function wE(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=pt.comparator(pt.fromName(f.referenceValue),n.key):s=ho(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function RE(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ui(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(t,n="asc"){this.field=t,this.dir=n}}function $C(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{}class De extends w0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new JC(t,n,s):n==="array-contains"?new tI(t,s):n==="in"?new eI(t,s):n==="not-in"?new nI(t,s):n==="array-contains-any"?new iI(t,s):new De(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new ZC(t,s):new WC(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ho(n,this.value)):n!==null&&hs(this.value)===hs(n)&&this.matchesComparison(ho(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends w0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new si(t,n)}matches(t){return R0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function R0(r){return r.op==="and"}function C0(r){return XC(r)&&R0(r)}function XC(r){for(const t of r.filters)if(t instanceof si)return!1;return!0}function Km(r){if(r instanceof De)return r.field.canonicalString()+r.op.toString()+fo(r.value);if(C0(r))return r.filters.map((t=>Km(t))).join(",");{const t=r.filters.map((n=>Km(n))).join(",");return`${r.op}(${t})`}}function I0(r,t){return r instanceof De?(function(s,o){return o instanceof De&&s.op===o.op&&s.field.isEqual(o.field)&&Ui(s.value,o.value)})(r,t):r instanceof si?(function(s,o){return o instanceof si&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&I0(f,o.filters[m])),!0):!1})(r,t):void vt(19439)}function N0(r){return r instanceof De?(function(n){return`${n.field.canonicalString()} ${n.op} ${fo(n.value)}`})(r):r instanceof si?(function(n){return n.op.toString()+" {"+n.getFilters().map(N0).join(" ,")+"}"})(r):"Filter"}class JC extends De{constructor(t,n,s){super(t,n,s),this.key=pt.fromName(s.referenceValue)}matches(t){const n=pt.comparator(t.key,this.key);return this.matchesComparison(n)}}class ZC extends De{constructor(t,n){super(t,"in",n),this.keys=D0("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class WC extends De{constructor(t,n){super(t,"not-in",n),this.keys=D0("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function D0(r,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map((s=>pt.fromName(s.referenceValue)))}class tI extends De{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return bp(n)&&Wl(n.arrayValue,this.value)}}class eI extends De{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Wl(this.value.arrayValue,n)}}class nI extends De{constructor(t,n){super(t,"not-in",n)}matches(t){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wl(this.value.arrayValue,n)}}class iI extends De{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!bp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Wl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function CE(r,t=null,n=[],s=[],o=null,u=null,f=null){return new rI(r,t,n,s,o,u,f)}function wp(r){const t=wt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Km(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),uu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>fo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>fo(s))).join(",")),t.Te=n}return t.Te}function Rp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!$C(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!I0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!RE(r.startAt,t.startAt)&&RE(r.endAt,t.endAt)}function Ym(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function sI(r,t,n,s,o,u,f,m){return new cu(r,t,n,s,o,u,f,m)}function Kh(r){return new cu(r)}function IE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function O0(r){return r.collectionGroup!==null}function Hl(r){const t=wt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new xe(Ye.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new bh(u,s))})),n.has(Ye.keyField().canonicalString())||t.Ie.push(new bh(Ye.keyField(),s))}return t.Ie}function Mi(r){const t=wt(r);return t.Ee||(t.Ee=aI(t,Hl(r))),t.Ee}function aI(r,t){if(r.limitType==="F")return CE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new bh(o.field,u)}));const n=r.endAt?new Ah(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ah(r.startAt.position,r.startAt.inclusive):null;return CE(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function $m(r,t){const n=r.filters.concat([t]);return new cu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Xm(r,t,n){return new cu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Yh(r,t){return Rp(Mi(r),Mi(t))&&r.limitType===t.limitType}function M0(r){return`${wp(Mi(r))}|lt:${r.limitType}`}function Za(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>N0(o))).join(", ")}]`),uu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>fo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>fo(o))).join(",")),`Target(${s})`})(Mi(r))}; limitType=${r.limitType})`}function $h(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of Hl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const y=wE(f,m,p);return f.inclusive?y<=0:y<0})(s.startAt,Hl(s),o)||s.endAt&&!(function(f,m,p){const y=wE(f,m,p);return f.inclusive?y>=0:y>0})(s.endAt,Hl(s),o))})(r,t)}function oI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function V0(r){return(t,n)=>{let s=!1;for(const o of Hl(r)){const u=lI(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function lI(r,t,n){const s=r.field.isKeyField()?pt.comparator(t.key,n.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?ho(p,y):vt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return vt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ys(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return g0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=new ce(pt.comparator);function ur(){return uI}const x0=new ce(pt.comparator);function Ul(...r){let t=x0;for(const n of r)t=t.insert(n.key,n);return t}function P0(r){let t=x0;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Js(){return Fl()}function L0(){return Fl()}function Fl(){return new ra((r=>r.toString()),((r,t)=>r.isEqual(t)))}const cI=new ce(pt.comparator),hI=new xe(pt.comparator);function kt(...r){let t=hI;for(const n of r)t=t.add(n);return t}const fI=new xe(Ut);function dI(){return fI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eh(t)?"-0":t}}function U0(r){return{integerValue:""+r}}function mI(r,t){return BC(t)?U0(t):Cp(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(){this._=void 0}}function pI(r,t,n){return r instanceof wh?(function(o,u){const f={fields:{[v0]:{stringValue:_0},[T0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ap(u)&&(u=Qh(u)),u&&(f.fields[E0]=u),{mapValue:f}})(n,t):r instanceof tu?z0(r,t):r instanceof eu?j0(r,t):(function(o,u){const f=k0(o,u),m=NE(f)+NE(o.Ae);return Qm(f)&&Qm(o.Ae)?U0(m):Cp(o.serializer,m)})(r,t)}function gI(r,t,n){return r instanceof tu?z0(r,t):r instanceof eu?j0(r,t):n}function k0(r,t){return r instanceof Rh?(function(s){return Qm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class wh extends Xh{}class tu extends Xh{constructor(t){super(),this.elements=t}}function z0(r,t){const n=B0(t);for(const s of r.elements)n.some((o=>Ui(o,s)))||n.push(s);return{arrayValue:{values:n}}}class eu extends Xh{constructor(t){super(),this.elements=t}}function j0(r,t){let n=B0(t);for(const s of r.elements)n=n.filter((o=>!Ui(o,s)));return{arrayValue:{values:n}}}class Rh extends Xh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function NE(r){return ve(r.integerValue||r.doubleValue)}function B0(r){return bp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function yI(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof tu&&o instanceof tu||s instanceof eu&&o instanceof eu?co(s.elements,o.elements,Ui):s instanceof Rh&&o instanceof Rh?Ui(s.Ae,o.Ae):s instanceof wh&&o instanceof wh})(r.transform,t.transform)}class _I{constructor(t,n){this.version=t,this.transformResults=n}}class on{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new on}static exists(t){return new on(void 0,t)}static updateTime(t){return new on(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function uh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Jh{}function q0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Zh(r.key,on.none()):new hu(r.key,r.data,on.none());{const n=r.data,s=an.empty();let o=new xe(Ye.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new _s(r.key,s,new Cn(o.toArray()),on.none())}}function vI(r,t,n){r instanceof hu?(function(o,u,f){const m=o.value.clone(),p=OE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,n):r instanceof _s?(function(o,u,f){if(!uh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=OE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(H0(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Gl(r,t,n,s){return r instanceof hu?(function(u,f,m,p){if(!uh(u.precondition,f))return m;const y=u.value.clone(),E=ME(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof _s?(function(u,f,m,p){if(!uh(u.precondition,f))return m;const y=ME(u.fieldTransforms,p,f),E=f.data;return E.setAll(H0(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,t,n,s):(function(u,f,m){return uh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,n)}function EI(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=k0(s.transform,o||null);u!=null&&(n===null&&(n=an.empty()),n.set(s.field,u))}return n||null}function DE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&co(s,o,((u,f)=>yI(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class hu extends Jh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _s extends Jh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function H0(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function OE(r,t,n){const s=new Map;Bt(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,gI(f,m,n[o]))}return s}function ME(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,pI(u,f,t))}return s}class Zh extends Jh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class F0 extends Jh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&vI(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Gl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Gl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=L0();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=q0(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Tt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),kt())}isEqual(t){return this.batchId===t.batchId&&co(this.mutations,t.mutations,((n,s)=>DE(n,s)))&&co(this.baseMutations,t.baseMutations,((n,s)=>DE(n,s)))}}class Ip{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Bt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return cI})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Ip(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne,jt;function G0(r){switch(r){case J.OK:return vt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function Q0(r){if(r===void 0)return lr("GRPC error has no .code"),J.UNKNOWN;switch(r){case Ne.OK:return J.OK;case Ne.CANCELLED:return J.CANCELLED;case Ne.UNKNOWN:return J.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return J.INTERNAL;case Ne.UNAVAILABLE:return J.UNAVAILABLE;case Ne.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ne.NOT_FOUND:return J.NOT_FOUND;case Ne.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ne.ABORTED:return J.ABORTED;case Ne.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ne.DATA_LOSS:return J.DATA_LOSS;default:return vt(39323,{code:r})}}(jt=Ne||(Ne={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=new rs([4294967295,4294967295],0);function VE(r){const t=bI().encode(r),n=new s0;return n.update(t),new Uint8Array(n.digest())}function xE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new rs([n,s],0),new rs([o,u],0)]}class Np{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new kl(`Invalid padding: ${n}`);if(s<0)throw new kl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new kl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=rs.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(rs.fromNumber(s)));return o.compare(wI)===1&&(o=new rs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=VE(t),[s,o]=xE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Np(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=VE(t),[s,o]=xE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,fu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Wh(Tt.min(),o,new ce(Ut),ur(),kt())}}class fu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new fu(s,n,kt(),kt(),kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class K0{constructor(t,n){this.targetId=t,this.Ce=n}}class Y0{constructor(t,n,s=Xe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class PE{constructor(){this.ve=0,this.Fe=LE(),this.Me=Xe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),n=kt(),s=kt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:vt(38017,{changeType:u})}})),new fu(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=LE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Bt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class RI{constructor(t){this.Ge=t,this.ze=new Map,this.je=ur(),this.Je=th(),this.He=th(),this.Ye=new ce(Ut)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Ym(u))if(s===0){const f=new pt(u.path);this.et(n,f,ze.newNoDocument(f,Tt.min()))}else Bt(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),p=m?this.ct(m,t,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=cs(s).toUint8Array()}catch(p){if(p instanceof y0)return uo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Np(f,o,u)}catch(p){return uo(p instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Ym(m.target)){const p=new pt(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,ze.newNoDocument(p,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=kt();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new Wh(t,n,this.Ye,this.je,s);return this.je=ur(),this.Je=th(),this.He=th(),this.Ye=new ce(Ut),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new PE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new xe(Ut),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new xe(Ut),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ht("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new PE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function th(){return new ce(pt.comparator)}function LE(){return new ce(pt.comparator)}const CI={asc:"ASCENDING",desc:"DESCENDING"},II={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NI={and:"AND",or:"OR"};class DI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Jm(r,t){return r.useProto3Json||uu(t)?t:{value:t}}function Ch(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function $0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function OI(r,t){return Ch(r,t.toTimestamp())}function In(r){return Bt(!!r,49232),Tt.fromTimestamp((function(n){const s=us(n);return new re(s.seconds,s.nanos)})(r))}function Dp(r,t){return Zm(r,t).canonicalString()}function Zm(r,t){const n=(function(o){return new ne(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function X0(r){const t=ne.fromString(r);return Bt(nS(t),10190,{key:t.toString()}),t}function Ih(r,t){return Dp(r.databaseId,t.path)}function Ql(r,t){const n=X0(t);if(n.get(1)!==r.databaseId.projectId)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pt(Z0(n))}function J0(r,t){return Dp(r.databaseId,t)}function MI(r){const t=X0(r);return t.length===4?ne.emptyPath():Z0(t)}function Wm(r){return new ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Z0(r){return Bt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function UE(r,t,n){return{name:Ih(r,t),fields:n.value.mapValue.fields}}function VI(r,t){return"found"in t?(function(s,o){Bt(!!o.found,43571),o.found.name,o.found.updateTime;const u=Ql(s,o.found.name),f=In(o.found.updateTime),m=o.found.createTime?In(o.found.createTime):Tt.min(),p=new an({mapValue:{fields:o.found.fields}});return ze.newFoundDocument(u,f,m,p)})(r,t):"missing"in t?(function(s,o){Bt(!!o.missing,3894),Bt(!!o.readTime,22933);const u=Ql(s,o.missing),f=In(o.readTime);return ze.newNoDocument(u,f)})(r,t):vt(7234,{result:t})}function xI(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:vt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Bt(E===void 0||typeof E=="string",58123),Xe.fromBase64String(E||"")):(Bt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xe.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?J.UNKNOWN:Q0(y.code);return new ct(E,y.message||"")})(f);n=new Y0(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Ql(r,s.document.name),u=In(s.document.updateTime),f=s.document.createTime?In(s.document.createTime):Tt.min(),m=new an({mapValue:{fields:s.document.fields}}),p=ze.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new ch(y,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Ql(r,s.document),u=s.readTime?In(s.readTime):Tt.min(),f=ze.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ch([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Ql(r,s.document),u=s.removedTargetIds||[];n=new ch([],u,o,null)}else{if(!("filter"in t))return vt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new AI(o,u),m=s.targetId;n=new K0(m,f)}}return n}function W0(r,t){let n;if(t instanceof hu)n={update:UE(r,t.key,t.value)};else if(t instanceof Zh)n={delete:Ih(r,t.key)};else if(t instanceof _s)n={update:UE(r,t.key,t.data),updateMask:HI(t.fieldMask)};else{if(!(t instanceof F0))return vt(16599,{Vt:t.type});n={verify:Ih(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof wh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof tu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof eu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Rh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw vt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:OI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:vt(27497)})(r,t.precondition)),n}function PI(r,t){return r&&r.length>0?(Bt(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?In(o.updateTime):In(u);return f.isEqual(Tt.min())&&(f=In(u)),new _I(f,o.transformResults||[])})(n,t)))):[]}function LI(r,t){return{documents:[J0(r,t.path)]}}function UI(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=J0(r,o);const u=(function(y){if(y.length!==0)return eS(si.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(b){return{field:Wa(b.field),direction:jI(b.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Jm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:o}}function kI(r){let t=MI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Bt(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const b=tS(T);return b instanceof si&&C0(b)?b.getFilters():[b]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((b=>(function(Y){return new bh(to(Y.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(b)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let b;return b=typeof T=="object"?T.value:T,uu(b)?null:b})(n.limit));let p=null;n.startAt&&(p=(function(T){const b=!!T.before,L=T.values||[];return new Ah(L,b)})(n.startAt));let y=null;return n.endAt&&(y=(function(T){const b=!T.before,L=T.values||[];return new Ah(L,b)})(n.endAt)),sI(t,o,f,u,m,"F",p,y)}function zI(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function tS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=to(n.unaryFilter.field);return De.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=to(n.unaryFilter.field);return De.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=to(n.unaryFilter.field);return De.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=to(n.unaryFilter.field);return De.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return De.create(to(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return si.create(n.compositeFilter.filters.map((s=>tS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(n.compositeFilter.op))})(r):vt(30097,{filter:r})}function jI(r){return CI[r]}function BI(r){return II[r]}function qI(r){return NI[r]}function Wa(r){return{fieldPath:r.canonicalString()}}function to(r){return Ye.fromServerFormat(r.fieldPath)}function eS(r){return r instanceof De?(function(n){if(n.op==="=="){if(bE(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NAN"}};if(AE(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bE(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NAN"}};if(AE(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(n.field),op:BI(n.op),value:n.value}}})(r):r instanceof si?(function(n){const s=n.getFilters().map((o=>eS(o)));return s.length===1?s[0]:{compositeFilter:{op:qI(n.op),filters:s}}})(r):vt(54877,{filter:r})}function HI(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function nS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(t,n,s,o,u=Tt.min(),f=Tt.min(),m=Xe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new ts(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t){this.yt=t}}function GI(r){const t=kI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Xm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(){this.Cn=new KI}addToCollectionParentIndex(t,n){return this.Cn.add(n),et.resolve()}getCollectionParents(t,n){return et.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return et.resolve()}deleteFieldIndex(t,n){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,n){return et.resolve()}getDocumentsMatchingTarget(t,n){return et.resolve(null)}getIndexType(t,n){return et.resolve(0)}getFieldIndexes(t,n){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,n){return et.resolve(ls.min())}getMinOffsetFromCollectionGroup(t,n){return et.resolve(ls.min())}updateCollectionGroup(t,n,s){return et.resolve()}updateIndexEntries(t,n){return et.resolve()}}class KI{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new xe(ne.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new xe(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iS=41943040;class gn{static withCacheSize(t){return new gn(t,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(iS,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new mo(0)}static cr(){return new mo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="LruGarbageCollector",YI=1048576;function jE([r,t],[n,s]){const o=Ut(r,n);return o===0?Ut(t,s):o}class $I{constructor(t){this.Ir=t,this.buffer=new xe(jE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();jE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class XI{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ht(zE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ao(n)?ht(zE,"Ignoring IndexedDB error during garbage collection: ",n):await So(n)}await this.Vr(3e5)}))}}class JI{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return et.resolve(Gh.ce);const s=new $I(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(kE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(t,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(y=Date.now(),Ja()<=Lt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function ZI(r,t){return new JI(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(){this.changes=new ra((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ze.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?et.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Gl(s.mutation,o,Cn.empty(),re.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,kt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=kt()){const o=Js();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=Ul();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=Js();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,kt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=ur();const f=Fl(),m=(function(){return Fl()})();return n.forEach(((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof _s)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Gl(E.mutation,y,E.mutation.getFieldMask(),re.now())):f.set(y.key,Cn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new t2(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=Fl();let o=new ce(((f,m)=>f-m)),u=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||Cn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const T=(o.get(m.batchId)||kt()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,T=L0();E.forEach((b=>{if(!u.has(b)){const L=q0(n.get(b),s.get(b));L!==null&&T.set(b,L),u=u.add(b)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,T))}return et.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(f){return pt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):O0(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):et.resolve(Js());let m=Xl,p=u;return f.next((y=>et.forEach(y,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?et.resolve():this.remoteDocumentCache.getEntry(t,E).next((b=>{p=p.insert(E,b)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,p,y,kt()))).next((E=>({batchId:m,changes:P0(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new pt(n)).next((s=>{let o=Ul();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Ul();return this.indexManager.getCollectionParents(t,u).next((m=>et.forEach(m,(p=>{const y=(function(T,b){return new cu(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next((E=>{E.forEach(((T,b)=>{f=f.insert(T,b)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,ze.newInvalidDocument(E)))}));let m=Ul();return f.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&Gl(E.mutation,y,Cn.empty(),re.now()),$h(n,y)&&(m=m.insert(p,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return et.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:In(o.createTime)}})(n)),et.resolve()}getNamedQuery(t,n){return et.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:GI(o.bundledQuery),readTime:In(o.readTime)}})(n)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.overlays=new ce(pt.comparator),this.qr=new Map}getOverlay(t,n){return et.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Js();return et.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),et.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),et.resolve()}getOverlaysForCollection(t,n,s){const o=Js(),u=n.length+1,f=new pt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return et.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ce(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Js(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Js(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return et.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new SI(n,s));let u=this.qr.get(n);u===void 0&&(u=kt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(){this.Qr=new xe(ke.$r),this.Ur=new xe(ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new ke(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new ke(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new pt(new ne([])),s=new ke(n,t),o=new ke(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new pt(new ne([])),s=new ke(n,t),o=new ke(n,t+1);let u=kt();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new ke(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class ke{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return pt.comparator(t.key,n.key)||Ut(t.Yr,n.Yr)}static Kr(t,n){return Ut(t.Yr,n.Yr)||pt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new xe(ke.$r)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new TI(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new ke(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return et.resolve(f)}lookupMutationBatch(t,n){return et.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return et.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?Sp:this.tr-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new ke(n,0),o=new ke(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),et.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new xe(Ut);return n.forEach((o=>{const u=new ke(o,0),f=new ke(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),et.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;pt.isDocumentKey(u)||(u=u.child(""));const f=new ke(new pt(u),0);let m=new xe(Ut);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)}),f),et.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Bt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return et.forEach(n.mutations,(o=>{const u=new ke(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new ke(n,0),o=this.Zr.firstAfterOrEqual(s);return et.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t){this.ri=t,this.docs=(function(){return new ce(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return et.resolve(s?s.document.mutableCopy():ze.newInvalidDocument(n))}getEntries(t,n){let s=ur();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():ze.newInvalidDocument(o))})),et.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=ur();const f=n.path,m=new pt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||UC(LC(E),s)<=0||(o.has(E.key)||$h(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return et.resolve(u)}getAllFromCollectionGroup(t,n,s,o){vt(9500)}ii(t,n){return et.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new o2(this)}getSize(t){return et.resolve(this.size)}}class o2 extends WI{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),et.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(t){this.persistence=t,this.si=new ra((n=>wp(n)),Rp),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new Op,this.targetCount=0,this.ai=mo.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),et.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new mo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,et.resolve()}updateTargetData(t,n){return this.Pr(n),et.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),et.waitFor(u).next((()=>o))}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return et.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),et.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),et.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),et.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return et.resolve(s)}containsKey(t,n){return et.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(t,n){this.ui={},this.overlays={},this.ci=new Gh(0),this.li=!1,this.li=!0,this.hi=new r2,this.referenceDelegate=t(this),this.Pi=new l2(this),this.indexManager=new QI,this.remoteDocumentCache=(function(o){return new a2(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new FI(n),this.Ii=new n2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new i2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new s2(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ht("MemoryPersistence","Starting transaction:",t);const o=new u2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return et.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class u2 extends zC{constructor(t){super(),this.currentSequenceNumber=t}}class Mp{constructor(t){this.persistence=t,this.Ri=new Op,this.Vi=null}static mi(t){return new Mp(t)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),et.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),et.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),et.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.fi,(s=>{const o=pt.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,Tt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return et.or([()=>et.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Nh{constructor(t,n){this.persistence=t,this.pi=new ra((s=>qC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=ZI(this,n)}static mi(t,n){return new Nh(t,n)}Ei(){}di(t){return et.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return et.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?et.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((m=>{m||(s++,u.removeEntry(f,Tt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),et.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),et.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),et.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=oh(t.data.value)),n}br(t,n,s){return et.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return et.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=kt(),o=kt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Vp(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return aR()?8:jC(tn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new c2;return this.Ss(t,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(Ja()<=Lt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),et.resolve()):(Ja()<=Lt.DEBUG&&ht("QueryEngine","Query:",Za(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ja()<=Lt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Mi(n))):et.resolve())}ys(t,n){if(IE(n))return et.resolve(null);let s=Mi(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Xm(n,null,"F"),s=Mi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=kt(...u);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const y=this.Ds(n,m);return this.Cs(n,y,f,p.readTime)?this.ys(t,Xm(n,null,"F")):this.vs(t,y,n,p)}))))})))))}ws(t,n,s,o){return IE(n)||o.isEqual(Tt.min())?et.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?et.resolve(null):(Ja()<=Lt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Za(n)),this.vs(t,f,n,PC(o,Xl)).next((m=>m)))}))}Ds(t,n){let s=new xe(V0(t));return n.forEach(((o,u)=>{$h(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return Ja()<=Lt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Za(n)),this.ps.getDocumentsMatchingQuery(t,n,ls.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="LocalStore",f2=3e8;class d2{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new ce(Ut),this.xs=new ra((u=>wp(u)),Rp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new e2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function m2(r,t,n,s){return new d2(r,t,n,s)}async function sS(r,t){const n=wt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=kt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function p2(r,t){const n=wt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const T=y.batch,b=T.keys();let L=et.resolve();return b.forEach((Y=>{L=L.next((()=>E.getEntry(p,Y))).next((Z=>{const H=y.docVersions.get(Y);Bt(H!==null,48541),Z.version.compareTo(H)<0&&(T.applyToRemoteDocument(Z,y),Z.isValidDocument()&&(Z.setReadTime(y.commitVersion),E.addEntry(Z)))}))})),L.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=kt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function aS(r){const t=wt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function g2(r,t){const n=wt(r),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((E,T)=>{const b=o.get(T);if(!b)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let L=b.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?L=L.withResumeToken(Xe.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(T,L),(function(Z,H,rt){return Z.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=f2?!0:rt.addedDocuments.size+rt.modifiedDocuments.size+rt.removedDocuments.size>0})(b,L,E)&&m.push(n.Pi.updateTargetData(u,L))}));let p=ur(),y=kt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(y2(u,f,t.documentUpdates).next((E=>{p=E.ks,y=E.qs}))),!s.isEqual(Tt.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return et.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function y2(r,t,n){let s=kt(),o=kt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=ur();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Tt.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):ht(xp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function _2(r,t){const n=wt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Sp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function v2(r,t){const n=wt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,et.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new ts(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function tp(r,t,n){const s=wt(r),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Ao(f))throw f;ht(xp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function BE(r,t,n){const s=wt(r);let o=Tt.min(),u=kt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const T=wt(p),b=T.xs.get(E);return b!==void 0?et.resolve(T.Ms.get(b)):T.Pi.getTargetData(y,E)})(s,f,Mi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:Tt.min(),n?u:kt()))).next((m=>(E2(s,oI(t),m),{documents:m,Qs:u})))))}function E2(r,t,n){let s=r.Os.get(t)||Tt.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class qE{constructor(){this.activeTargetIds=dI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class T2{constructor(){this.Mo=new qE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new qE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="ConnectivityMonitor";class FE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht(HE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ht(HE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh=null;function ep(){return eh===null?eh=(function(){return 268435456+Math.round(2147483648*Math.random())})():eh++,"0x"+eh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="RestConnection",A2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class b2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Th?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=ep(),m=this.zo(t,n.toUriEncodedString());ht(wm,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(m),E=vo(y);return this.Jo(t,m,p,s,E).then((T=>(ht(wm,`Received RPC '${t}' ${f}: `,T),T)),(T=>{throw uo(wm,`RPC '${t}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+To})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=A2[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze="WebChannelConnection";class R2 extends b2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=ep();return new Promise(((m,p)=>{const y=new a0;y.setWithCredentials(!0),y.listenOnce(o0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case ah.NO_ERROR:const T=y.getResponseJson();ht(Ze,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(T)),m(T);break;case ah.TIMEOUT:ht(Ze,`RPC '${t}' ${f} timed out`),p(new ct(J.DEADLINE_EXCEEDED,"Request time out"));break;case ah.HTTP_ERROR:const b=y.getStatus();if(ht(Ze,`RPC '${t}' ${f} failed with status:`,b,"response text:",y.getResponseText()),b>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const Y=L==null?void 0:L.error;if(Y&&Y.status&&Y.message){const Z=(function(rt){const lt=rt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(lt)>=0?lt:J.UNKNOWN})(Y.status);p(new ct(Z,Y.message))}else p(new ct(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ct(J.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ht(Ze,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);ht(Ze,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=ep(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=c0(),m=u0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ht(Ze,`Creating RPC '${t}' stream ${o}: ${E}`,p);const T=f.createWebChannel(E,p);this.I_(T);let b=!1,L=!1;const Y=new w2({Yo:H=>{L?ht(Ze,`Not sending because RPC '${t}' stream ${o} is closed:`,H):(b||(ht(Ze,`Opening RPC '${t}' stream ${o} transport.`),T.open(),b=!0),ht(Ze,`RPC '${t}' stream ${o} sending:`,H),T.send(H))},Zo:()=>T.close()}),Z=(H,rt,lt)=>{H.listen(rt,(it=>{try{lt(it)}catch(_t){setTimeout((()=>{throw _t}),0)}}))};return Z(T,Ll.EventType.OPEN,(()=>{L||(ht(Ze,`RPC '${t}' stream ${o} transport opened.`),Y.o_())})),Z(T,Ll.EventType.CLOSE,(()=>{L||(L=!0,ht(Ze,`RPC '${t}' stream ${o} transport closed`),Y.a_(),this.E_(T))})),Z(T,Ll.EventType.ERROR,(H=>{L||(L=!0,uo(Ze,`RPC '${t}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),Y.a_(new ct(J.UNAVAILABLE,"The operation could not be completed")))})),Z(T,Ll.EventType.MESSAGE,(H=>{var rt;if(!L){const lt=H.data[0];Bt(!!lt,16349);const it=lt,_t=(it==null?void 0:it.error)||((rt=it[0])==null?void 0:rt.error);if(_t){ht(Ze,`RPC '${t}' stream ${o} received error:`,_t);const Dt=_t.status;let nt=(function(w){const O=Ne[w];if(O!==void 0)return Q0(O)})(Dt),C=_t.message;nt===void 0&&(nt=J.INTERNAL,C="Unknown error status: "+Dt+" with message "+_t.message),L=!0,Y.a_(new ct(nt,C)),T.close()}else ht(Ze,`RPC '${t}' stream ${o} received:`,lt),Y.u_(lt)}})),Z(m,l0.STAT_EVENT,(H=>{H.stat===Hm.PROXY?ht(Ze,`RPC '${t}' stream ${o} detected buffering proxy`):H.stat===Hm.NOPROXY&&ht(Ze,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Y.__()}),0),Y}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Rm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(r){return new DI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="PersistentStream";class oS{constructor(t,n,s,o,u,f,m,p){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Pp(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(lr(n.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new ct(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ht(GE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ht(GE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class C2 extends oS{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=xI(this.serializer,t),s=(function(u){if(!("targetChange"in u))return Tt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Tt.min():f.readTime?In(f.readTime):Tt.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Wm(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Ym(p)?{documents:LI(u,p)}:{query:UI(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=$0(u,f.resumeToken);const y=Jm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Tt.min())>0){m.readTime=Ch(u,f.snapshotVersion.toTimestamp());const y=Jm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const s=zI(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Wm(this.serializer),n.removeTarget=t,this.q_(n)}}class I2 extends oS{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Bt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Bt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Bt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=PI(t.writeResults,t.commitTime),s=In(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Wm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>W0(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{}class D2 extends N2{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,Zm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(J.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,Zm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ct(J.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class O2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(lr(n),this.aa=!1):ht("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="RemoteStore";class M2{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{sa(this)&&(ht(na,"Restarting streams for network reachability change."),await(async function(p){const y=wt(p);y.Ea.add(4),await du(y),y.Ra.set("Unknown"),y.Ea.delete(4),await ef(y)})(this))}))})),this.Ra=new O2(s,o)}}async function ef(r){if(sa(r))for(const t of r.da)await t(!0)}async function du(r){for(const t of r.da)await t(!1)}function lS(r,t){const n=wt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),zp(n)?kp(n):bo(n).O_()&&Up(n,t))}function Lp(r,t){const n=wt(r),s=bo(n);n.Ia.delete(t),s.O_()&&uS(n,t),n.Ia.size===0&&(s.O_()?s.L_():sa(n)&&n.Ra.set("Unknown"))}function Up(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}bo(r).Y_(t)}function uS(r,t){r.Va.Ue(t),bo(r).Z_(t)}function kp(r){r.Va=new RI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),bo(r).start(),r.Ra.ua()}function zp(r){return sa(r)&&!bo(r).x_()&&r.Ia.size>0}function sa(r){return wt(r).Ea.size===0}function cS(r){r.Va=void 0}async function V2(r){r.Ra.set("Online")}async function x2(r){r.Ia.forEach(((t,n)=>{Up(r,t)}))}async function P2(r,t){cS(r),zp(r)?(r.Ra.ha(t),kp(r)):r.Ra.set("Unknown")}async function L2(r,t,n){if(r.Ra.set("Online"),t instanceof Y0&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,t)}catch(s){ht(na,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Dh(r,s)}else if(t instanceof ch?r.Va.Ze(t):t instanceof K0?r.Va.st(t):r.Va.tt(t),!n.isEqual(Tt.min()))try{const s=await aS(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Xe.EMPTY_BYTE_STRING,E.snapshotVersion)),uS(u,p);const T=new ts(E.target,p,y,E.sequenceNumber);Up(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ht(na,"Failed to raise snapshot:",s),await Dh(r,s)}}async function Dh(r,t,n){if(!Ao(t))throw t;r.Ea.add(1),await du(r),r.Ra.set("Offline"),n||(n=()=>aS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ht(na,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await ef(r)}))}function hS(r,t){return t().catch((n=>Dh(r,n,t)))}async function nf(r){const t=wt(r),n=fs(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Sp;for(;U2(t);)try{const o=await _2(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,k2(t,o)}catch(o){await Dh(t,o)}fS(t)&&dS(t)}function U2(r){return sa(r)&&r.Ta.length<10}function k2(r,t){r.Ta.push(t);const n=fs(r);n.O_()&&n.X_&&n.ea(t.mutations)}function fS(r){return sa(r)&&!fs(r).x_()&&r.Ta.length>0}function dS(r){fs(r).start()}async function z2(r){fs(r).ra()}async function j2(r){const t=fs(r);for(const n of r.Ta)t.ea(n.mutations)}async function B2(r,t,n){const s=r.Ta.shift(),o=Ip.from(s,t,n);await hS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await nf(r)}async function q2(r,t){t&&fs(r).X_&&await(async function(s,o){if((function(f){return G0(f)&&f!==J.ABORTED})(o.code)){const u=s.Ta.shift();fs(s).B_(),await hS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await nf(s)}})(r,t),fS(r)&&dS(r)}async function QE(r,t){const n=wt(r);n.asyncQueue.verifyOperationInProgress(),ht(na,"RemoteStore received new credentials");const s=sa(n);n.Ea.add(3),await du(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await ef(n)}async function H2(r,t){const n=wt(r);t?(n.Ea.delete(2),await ef(n)):t||(n.Ea.add(2),await du(n),n.Ra.set("Unknown"))}function bo(r){return r.ma||(r.ma=(function(n,s,o){const u=wt(n);return u.sa(),new C2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:V2.bind(null,r),t_:x2.bind(null,r),r_:P2.bind(null,r),H_:L2.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),zp(r)?kp(r):r.Ra.set("Unknown")):(await r.ma.stop(),cS(r))}))),r.ma}function fs(r){return r.fa||(r.fa=(function(n,s,o){const u=wt(n);return u.sa(),new I2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:z2.bind(null,r),r_:q2.bind(null,r),ta:j2.bind(null,r),na:B2.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await nf(r)):(await r.fa.stop(),r.Ta.length>0&&(ht(na,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new jp(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bp(r,t){if(lr("AsyncQueue",`${t}: ${r}`),Ao(r))return new ct(J.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{static emptySet(t){return new ro(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||pt.comparator(n.key,s.key):(n,s)=>pt.comparator(n.key,s.key),this.keyedMap=Ul(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ro)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new ro;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(){this.ga=new ce(pt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):vt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class po{constructor(t,n,s,o,u,f,m,p,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new po(t,n,ro.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Yh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class G2{constructor(){this.queries=YE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=wt(n),u=o.queries;o.queries=YE(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new ct(J.ABORTED,"Firestore shutting down"))}}function YE(){return new ra((r=>M0(r)),Yh)}async function qp(r,t){const n=wt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new F2,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Bp(f,`Initialization of query '${Za(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Fp(n)}async function Hp(r,t){const n=wt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Q2(r,t){const n=wt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Fp(n)}function K2(r,t,n){const s=wt(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function Fp(r){r.Ca.forEach((t=>{t.next()}))}var np,$E;($E=np||(np={})).Ma="default",$E.Cache="cache";class Gp{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new po(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=po.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==np.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(t){this.key=t}}class pS{constructor(t){this.key=t}}class Y2{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=kt(),this.mutatedKeys=kt(),this.eu=V0(t),this.tu=new ro(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new KE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,T)=>{const b=o.get(E),L=$h(this.query,T)?T:null,Y=!!b&&this.mutatedKeys.has(b.key),Z=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let H=!1;b&&L?b.data.isEqual(L.data)?Y!==Z&&(s.track({type:3,doc:L}),H=!0):this.su(b,L)||(s.track({type:2,doc:L}),H=!0,(p&&this.eu(L,p)>0||y&&this.eu(L,y)<0)&&(m=!0)):!b&&L?(s.track({type:0,doc:L}),H=!0):b&&!L&&(s.track({type:1,doc:b}),H=!0,(p||y)&&(m=!0)),H&&(L?(f=f.add(L),u=Z?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,T)=>(function(L,Y){const Z=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:H})}};return Z(L)-Z(Y)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new po(this.query,t.tu,u,f,t.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new KE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=kt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new pS(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new mS(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=kt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return po.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qp="SyncEngine";class $2{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class X2{constructor(t){this.key=t,this.hu=!1}}class J2{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ra((m=>M0(m)),Yh),this.Iu=new Map,this.Eu=new Set,this.du=new ce(pt.comparator),this.Au=new Map,this.Ru=new Op,this.Vu={},this.mu=new Map,this.fu=mo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Z2(r,t,n=!0){const s=TS(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await gS(s,t,n,!0),o}async function W2(r,t){const n=TS(r);await gS(n,t,!0,!1)}async function gS(r,t,n,s){const o=await v2(r.localStore,Mi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await tN(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&lS(r.remoteStore,o),m}async function tN(r,t,n,s,o){r.pu=(T,b,L)=>(async function(Z,H,rt,lt){let it=H.view.ru(rt);it.Cs&&(it=await BE(Z.localStore,H.query,!1).then((({documents:C})=>H.view.ru(C,it))));const _t=lt&&lt.targetChanges.get(H.targetId),Dt=lt&&lt.targetMismatches.get(H.targetId)!=null,nt=H.view.applyChanges(it,Z.isPrimaryClient,_t,Dt);return JE(Z,H.targetId,nt.au),nt.snapshot})(r,T,b,L);const u=await BE(r.localStore,t,!0),f=new Y2(t,u.Qs),m=f.ru(u.documents),p=fu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);JE(r,n,y.au);const E=new $2(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function eN(r,t,n){const s=wt(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Yh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await tp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Lp(s.remoteStore,o.targetId),ip(s,o.targetId)})).catch(So)):(ip(s,o.targetId),await tp(s.localStore,o.targetId,!0))}async function nN(r,t){const n=wt(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Lp(n.remoteStore,s.targetId))}async function iN(r,t,n){const s=cN(r);try{const o=await(function(f,m){const p=wt(f),y=re.now(),E=m.reduce(((L,Y)=>L.add(Y.key)),kt());let T,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let Y=ur(),Z=kt();return p.Ns.getEntries(L,E).next((H=>{Y=H,Y.forEach(((rt,lt)=>{lt.isValidDocument()||(Z=Z.add(rt))}))})).next((()=>p.localDocuments.getOverlayedDocuments(L,Y))).next((H=>{T=H;const rt=[];for(const lt of m){const it=EI(lt,T.get(lt.key).overlayedDocument);it!=null&&rt.push(new _s(lt.key,it,b0(it.value.mapValue),on.exists(!0)))}return p.mutationQueue.addMutationBatch(L,y,rt,m)})).next((H=>{b=H;const rt=H.applyToLocalDocumentSet(T,Z);return p.documentOverlayCache.saveOverlays(L,H.batchId,rt)}))})).then((()=>({batchId:b.batchId,changes:P0(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new ce(Ut)),y=y.insert(m,p),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await mu(s,o.changes),await nf(s.remoteStore)}catch(o){const u=Bp(o,"Failed to persist write");n.reject(u)}}async function yS(r,t){const n=wt(r);try{const s=await g2(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Bt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Bt(f.hu,14607):o.removedDocuments.size>0&&(Bt(f.hu,42227),f.hu=!1))})),await mu(n,s,t)}catch(s){await So(s)}}function XE(r,t,n){const s=wt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=wt(f);p.onlineState=m;let y=!1;p.queries.forEach(((E,T)=>{for(const b of T.Sa)b.va(m)&&(y=!0)})),y&&Fp(p)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function rN(r,t,n){const s=wt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new ce(pt.comparator);f=f.insert(u,ze.newNoDocument(u,Tt.min()));const m=kt().add(u),p=new Wh(Tt.min(),new Map,new ce(Ut),f,m);await yS(s,p),s.du=s.du.remove(u),s.Au.delete(t),Kp(s)}else await tp(s.localStore,t,!1).then((()=>ip(s,t,n))).catch(So)}async function sN(r,t){const n=wt(r),s=t.batch.batchId;try{const o=await p2(n.localStore,t);vS(n,s,null),_S(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await mu(n,o)}catch(o){await So(o)}}async function aN(r,t,n){const s=wt(r);try{const o=await(function(f,m){const p=wt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((T=>(Bt(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(y,T)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(s.localStore,t);vS(s,t,n),_S(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await mu(s,o)}catch(o){await So(o)}}function _S(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function vS(r,t,n){const s=wt(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function ip(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||ES(r,s)}))}function ES(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Lp(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),Kp(r))}function JE(r,t,n){for(const s of n)s instanceof mS?(r.Ru.addReference(s.key,t),oN(r,s)):s instanceof pS?(ht(Qp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||ES(r,s.key)):vt(19791,{wu:s})}function oN(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ht(Qp,"New document in limbo: "+n),r.Eu.add(s),Kp(r))}function Kp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new pt(ne.fromString(t)),s=r.fu.next();r.Au.set(s,new X2(n)),r.du=r.du.insert(n,s),lS(r.remoteStore,new ts(Mi(Kh(n.path)),s,"TargetPurposeLimboResolution",Gh.ce))}}async function mu(r,t,n){const s=wt(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,t,n).then((y=>{var E;if((y||n)&&s.isPrimaryClient){const T=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){o.push(y);const T=Vp.As(p.targetId,y);u.push(T)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,y){const E=wt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>et.forEach(y,(b=>et.forEach(b.Es,(L=>E.persistence.referenceDelegate.addReference(T,b.targetId,L))).next((()=>et.forEach(b.ds,(L=>E.persistence.referenceDelegate.removeReference(T,b.targetId,L)))))))))}catch(T){if(!Ao(T))throw T;ht(xp,"Failed to update sequence numbers: "+T)}for(const T of y){const b=T.targetId;if(!T.fromCache){const L=E.Ms.get(b),Y=L.snapshotVersion,Z=L.withLastLimboFreeSnapshotVersion(Y);E.Ms=E.Ms.insert(b,Z)}}})(s.localStore,u))}async function lN(r,t){const n=wt(r);if(!n.currentUser.isEqual(t)){ht(Qp,"User change. New user:",t.toKey());const s=await sS(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ct(J.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await mu(n,s.Ls)}}function uN(r,t){const n=wt(r),s=n.Au.get(t);if(s&&s.hu)return kt().add(s.key);{let o=kt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function TS(r){const t=wt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=yS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rN.bind(null,t),t.Pu.H_=Q2.bind(null,t.eventManager),t.Pu.yu=K2.bind(null,t.eventManager),t}function cN(r){const t=wt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=aN.bind(null,t),t}class Oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=tf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return m2(this.persistence,new h2,t.initialUser,this.serializer)}Cu(t){return new rS(Mp.mi,this.serializer)}Du(t){return new T2}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oh.provider={build:()=>new Oh};class hN extends Oh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Bt(this.persistence.referenceDelegate instanceof Nh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new XI(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new rS((s=>Nh.mi(s,n)),this.serializer)}}class rp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>XE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=lN.bind(null,this.syncEngine),await H2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new G2})()}createDatastore(t){const n=tf(t.databaseInfo.databaseId),s=(function(u){return new R2(u)})(t.databaseInfo);return(function(u,f,m,p){return new D2(u,f,m,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new M2(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>XE(this.syncEngine,n,0)),(function(){return FE.v()?new FE:new S2})())}createSyncEngine(t,n){return(function(o,u,f,m,p,y,E){const T=new J2(o,u,f,m,p,y);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await(async function(o){const u=wt(o);ht(na,"RemoteStore shutting down."),u.Ea.add(5),await du(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}rp.provider={build:()=>new rp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):lr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ct(J.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,u){const f=wt(o),m={documents:u.map((T=>Ih(f.serializer,T)))},p=await f.Ho("BatchGetDocuments",f.serializer.databaseId,ne.emptyPath(),m,u.length),y=new Map;p.forEach((T=>{const b=VI(f.serializer,T);y.set(b.key.toString(),b)}));const E=[];return u.forEach((T=>{const b=y.get(T.toString());Bt(!!b,55234,{key:T}),E.push(b)})),E})(this.datastore,t);return n.forEach((s=>this.recordVersion(s))),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new Zh(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((n=>{t.delete(n.key.toString())})),t.forEach(((n,s)=>{const o=pt.fromPath(s);this.mutations.push(new F0(o,this.precondition(o)))})),await(async function(s,o){const u=wt(s),f={writes:o.map((m=>W0(u.serializer,m)))};await u.Go("Commit",u.serializer.databaseId,ne.emptyPath(),f)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw vt(50498,{Gu:t.constructor.name});n=Tt.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!n.isEqual(s))throw new ct(J.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(Tt.min())?on.exists(!1):on.updateTime(n):on.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(Tt.min()))throw new ct(J.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return on.updateTime(n)}return on.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(t,n,s,o,u){this.asyncQueue=t,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=u,this.zu=s.maxAttempts,this.M_=new Pp(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const t=new fN(this.datastore),n=this.Hu(t);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Yu(o)}))))})).catch((s=>{this.Yu(s)}))}))}Hu(t){try{const n=this.updateFunction(t);return!uu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(t){this.zu>0&&this.Zu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(t)}Zu(t){if((t==null?void 0:t.name)==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!G0(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="FirestoreClient";class mN{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=We.UNAUTHENTICATED,this.clientId=Tp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ht(ds,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ht(ds,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Bp(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Cm(r,t){r.asyncQueue.verifyOperationInProgress(),ht(ds,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await sS(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function ZE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await pN(r);ht(ds,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>QE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>QE(t.remoteStore,o))),r._onlineComponents=t}async function pN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ht(ds,"Using user provided OfflineComponentProvider");try{await Cm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;uo("Error using user provided cache. Falling back to memory cache: "+n),await Cm(r,new Oh)}}else ht(ds,"Using default OfflineComponentProvider"),await Cm(r,new hN(void 0));return r._offlineComponents}async function $p(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ht(ds,"Using user provided OnlineComponentProvider"),await ZE(r,r._uninitializedComponentsProvider._online)):(ht(ds,"Using default OnlineComponentProvider"),await ZE(r,new rp))),r._onlineComponents}function gN(r){return $p(r).then((t=>t.syncEngine))}function yN(r){return $p(r).then((t=>t.datastore))}async function Mh(r){const t=await $p(r),n=t.eventManager;return n.onListen=Z2.bind(null,t.syncEngine),n.onUnlisten=eN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=W2.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=nN.bind(null,t.syncEngine),n}function _N(r,t,n={}){const s=new Oi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new Yp({next:b=>{E.Nu(),f.enqueueAndForget((()=>Hp(u,T)));const L=b.docs.has(m);!L&&b.fromCache?y.reject(new ct(J.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&b.fromCache&&p&&p.source==="server"?y.reject(new ct(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(b)},error:b=>y.reject(b)}),T=new Gp(Kh(m.path),E,{includeMetadataChanges:!0,qa:!0});return qp(u,T)})(await Mh(r),r.asyncQueue,t,n,s))),s.promise}function vN(r,t,n={}){const s=new Oi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new Yp({next:b=>{E.Nu(),f.enqueueAndForget((()=>Hp(u,T))),b.fromCache&&p.source==="server"?y.reject(new ct(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(b)},error:b=>y.reject(b)}),T=new Gp(m,E,{includeMetadataChanges:!0,qa:!0});return qp(u,T)})(await Mh(r),r.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="firestore.googleapis.com",tT=!0;class eT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AS,this.ssl=tT}else this.host=t.host,this.ssl=t.ssl??tT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=iS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<YI)throw new ct(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}xC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SS(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class rf{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new bC;switch(s.type){case"firstParty":return new IC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=WE.get(n);s&&(ht("ComponentProvider","Removing Datastore"),WE.delete(n),s.terminate())})(this),Promise.resolve()}}function EN(r,t,n,s={}){var y;r=qn(r,rf);const o=vo(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${n}`;o&&(JT(`https://${m}`),ZT("Firestore",!0)),u.host!==AS&&u.host!==m&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Ws(p,f)&&(r._setSettings(p),s.mockUserToken)){let E,T;if(typeof s.mockUserToken=="string")E=s.mockUserToken,T=We.MOCK_USER;else{E=J1(s.mockUserToken,(y=r._app)==null?void 0:y.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ct(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new We(b)}r._authCredentials=new wC(new f0(E,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new aa(this.firestore,t,this._query)}}class me{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new me(this.firestore,t,this._key)}toJSON(){return{type:me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(lu(n,me._jsonSchema))return new me(t,s||null,new pt(ne.fromString(n.referencePath)))}}me._jsonSchemaVersion="firestore/documentReference/1.0",me._jsonSchema={type:Oe("string",me._jsonSchemaVersion),referencePath:Oe("string")};class ss extends aa{constructor(t,n,s){super(t,n,Kh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new me(this.firestore,null,new pt(t))}withConverter(t){return new ss(this.firestore,t,this._path)}}function Xp(r,t,...n){if(r=$e(r),d0("collection","path",t),r instanceof rf){const s=ne.fromString(t,...n);return mE(s),new ss(r,null,s)}{if(!(r instanceof me||r instanceof ss))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...n));return mE(s),new ss(r.firestore,null,s)}}function Xa(r,t,...n){if(r=$e(r),arguments.length===1&&(t=Tp.newId()),d0("doc","path",t),r instanceof rf){const s=ne.fromString(t,...n);return dE(s),new me(r,null,new pt(s))}{if(!(r instanceof me||r instanceof ss))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...n));return dE(s),new me(r.firestore,r instanceof ss?r.converter:null,new pt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="AsyncQueue";class iT{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Pp(this,"async_queue_retry"),this._c=()=>{const s=Rm();s&&ht(nT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Rm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Rm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Oi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Ao(t))throw t;ht(nT,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,lr("INTERNAL UNHANDLED ERROR: ",rT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=jp.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&vt(47125,{Pc:rT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function rT(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class ms extends rf{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new iT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new iT(t),this._firestoreClient=void 0,await t}}}function TN(r,t){const n=typeof r=="object"?r:n0(),s=typeof r=="string"?r:Th,o=vp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=$1("firestore");u&&EN(o,...u)}return o}function pu(r){if(r._terminated)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||SN(r),r._firestoreClient}function SN(r){var s,o,u;const t=r._freezeSettings(),n=(function(m,p,y,E){return new GC(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,SS(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,t);r._componentsProvider||(o=t.localCache)!=null&&o._offlineComponentProvider&&((u=t.localCache)!=null&&u._onlineComponentProvider)&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new mN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Rn(Xe.fromBase64String(t))}catch(n){throw new ct(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Rn(Xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Rn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(lu(t,Rn._jsonSchema))return Rn.fromBase64String(t.bytes)}}Rn._jsonSchemaVersion="firestore/bytes/1.0",Rn._jsonSchema={type:Oe("string",Rn._jsonSchemaVersion),bytes:Oe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(t){if(lu(t,Vi._jsonSchema))return new Vi(t.latitude,t.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:Oe("string",Vi._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(lu(t,xi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new xi(t.vectorValues);throw new ct(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xi._jsonSchemaVersion="firestore/vectorValue/1.0",xi._jsonSchema={type:Oe("string",xi._jsonSchemaVersion),vectorValues:Oe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=/^__.*__$/;class bN{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new _s(t,this.data,this.fieldMask,n,this.fieldTransforms):new hu(t,this.data,n,this.fieldTransforms)}}class bS{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new _s(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function wS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:r})}}class Zp{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Zp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var o;const n=(o=this.path)==null?void 0:o.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){var o;const n=(o=this.path)==null?void 0:o.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Vh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(wS(this.Ac)&&AN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class wN{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||tf(t)}Cc(t,n,s,o=!1){return new Zp({Ac:t,methodName:n,Dc:s,path:Ye.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wp(r){const t=r._freezeSettings(),n=tf(r._databaseId);return new wN(r._databaseId,!!t.ignoreUndefinedProperties,n)}function RS(r,t,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,n,o);tg("Data must be an object, but it was:",f,s);const m=CS(s,f);let p,y;if(u.merge)p=new Cn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const b=sp(t,T,n);if(!f.contains(b))throw new ct(J.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);NS(E,b)||E.push(b)}p=new Cn(E),y=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,y=f.fieldTransforms;return new bN(new an(m),p,y)}class af extends Jp{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof af}}function RN(r,t,n,s){const o=r.Cc(1,t,n);tg("Data must be an object, but it was:",o,s);const u=[],f=an.empty();ys(s,((p,y)=>{const E=eg(t,p,n);y=$e(y);const T=o.yc(E);if(y instanceof af)u.push(E);else{const b=gu(y,T);b!=null&&(u.push(E),f.set(E,b))}}));const m=new Cn(u);return new bS(f,m,o.fieldTransforms)}function CN(r,t,n,s,o,u){const f=r.Cc(1,t,n),m=[sp(t,s,n)],p=[o];if(u.length%2!=0)throw new ct(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(sp(t,u[b])),p.push(u[b+1]);const y=[],E=an.empty();for(let b=m.length-1;b>=0;--b)if(!NS(y,m[b])){const L=m[b];let Y=p[b];Y=$e(Y);const Z=f.yc(L);if(Y instanceof af)y.push(L);else{const H=gu(Y,Z);H!=null&&(y.push(L),E.set(L,H))}}const T=new Cn(y);return new bS(E,T,f.fieldTransforms)}function IN(r,t,n,s=!1){return gu(n,r.Cc(s?4:3,t))}function gu(r,t){if(IS(r=$e(r)))return tg("Unsupported field value:",t,r),CS(r,t);if(r instanceof Jp)return(function(s,o){if(!wS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=gu(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=$e(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return mI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=re.fromDate(s);return{timestampValue:Ch(o.serializer,u)}}if(s instanceof re){const u=new re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ch(o.serializer,u)}}if(s instanceof Vi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Rn)return{bytesValue:$0(o.serializer,s._byteString)};if(s instanceof me){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Dp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof xi)return(function(f,m){return{mapValue:{fields:{[S0]:{stringValue:A0},[Sh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Cp(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Fh(s)}`)})(r,t)}function CS(r,t){const n={};return g0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ys(r,((s,o)=>{const u=gu(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function IS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof re||r instanceof Vi||r instanceof Rn||r instanceof me||r instanceof Jp||r instanceof xi)}function tg(r,t,n){if(!IS(n)||!m0(n)){const s=Fh(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function sp(r,t,n){if((t=$e(t))instanceof sf)return t._internalPath;if(typeof t=="string")return eg(r,t);throw Vh("Field path arguments must be of type string or ",r,!1,void 0,n)}const NN=new RegExp("[~\\*/\\[\\]]");function eg(r,t,n){if(t.search(NN)>=0)throw Vh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new sf(...t.split("."))._internalPath}catch{throw Vh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Vh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ct(J.INVALID_ARGUMENT,m+r+p)}function NS(r,t){return r.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new DN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(DS("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class DN extends xh{data(){return super.data()}}function DS(r,t){return typeof t=="string"?eg(r,t):t instanceof sf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ng{}class ON extends ng{}function Vl(r,t,...n){let s=[];t instanceof ng&&s.push(t),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof rg)).length,m=u.filter((p=>p instanceof ig)).length;if(f>1||f>0&&m>0)throw new ct(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class ig extends ON{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new ig(t,n,s)}_apply(t){const n=this._parse(t);return MS(t._query,n),new aa(t.firestore,t.converter,$m(t._query,n))}_parse(t){const n=Wp(t.firestore);return(function(u,f,m,p,y,E,T){let b;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ct(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){oT(T,E);const Y=[];for(const Z of T)Y.push(aT(p,u,Z));b={arrayValue:{values:Y}}}else b=aT(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||oT(T,E),b=IN(m,f,T,E==="in"||E==="not-in");return De.create(y,E,b)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class rg extends ng{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new rg(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:si.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)MS(f,p),f=$m(f,p)})(t._query,n),new aa(t.firestore,t.converter,$m(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function aT(r,t,n){if(typeof(n=$e(n))=="string"){if(n==="")throw new ct(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!O0(t)&&n.indexOf("/")!==-1)throw new ct(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ne.fromString(n));if(!pt.isDocumentKey(s))throw new ct(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return SE(r,new pt(s))}if(n instanceof me)return SE(r,n._key);throw new ct(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fh(n)}.`)}function oT(r,t){if(!Array.isArray(r)||r.length===0)throw new ct(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function MS(r,t){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ct(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class VS{convertValue(t,n="none"){switch(hs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(cs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return ys(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){var s,o,u;const n=(u=(o=(s=t.fields)==null?void 0:s[Sh].arrayValue)==null?void 0:o.values)==null?void 0:u.map((f=>ve(f.doubleValue)));return new xi(n)}convertGeoPoint(t){return new Vi(ve(t.latitude),ve(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Qh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Jl(t));default:return null}}convertTimestamp(t){const n=us(t);return new re(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ne.fromString(t);Bt(nS(s),9688,{name:t});const o=new Zl(s.get(1),s.get(3)),u=new pt(s.popFirst(5));return o.isEqual(n)||lr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}class MN extends VS{constructor(t){super(),this.firestore=t}convertBytes(t){return new Rn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new me(this.firestore,null,n)}}class no{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class as extends xh{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(DS("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=as._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}as._jsonSchemaVersion="firestore/documentSnapshot/1.0",as._jsonSchema={type:Oe("string",as._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class hh extends as{data(t={}){return super.data(t)}}class Zs{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new no(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new hh(this._firestore,this._userDataWriter,s.key,s,new no(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new hh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new no(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new hh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new no(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:VN(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Zs._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Tp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function VN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(r){r=qn(r,me);const t=qn(r.firestore,ms);return _N(pu(t),r._key).then((n=>LS(t,r,n)))}Zs._jsonSchemaVersion="firestore/querySnapshot/1.0",Zs._jsonSchema={type:Oe("string",Zs._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class of extends VS{constructor(t){super(),this.firestore=t}convertBytes(t){return new Rn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new me(this.firestore,null,n)}}function xl(r){r=qn(r,aa);const t=qn(r.firestore,ms),n=pu(t),s=new of(t);return OS(r._query),vN(n,r._query).then((o=>new Zs(t,s,r,o)))}function Nm(r,t,n){r=qn(r,me);const s=qn(r.firestore,ms),o=xS(r.converter,t,n);return PS(s,[RS(Wp(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,on.none())])}function xN(r){return PS(qn(r.firestore,ms),[new Zh(r._key,on.none())])}function PN(r,...t){var p,y,E;r=$e(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||sT(t[s])||(n=t[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(sT(t[s])){const T=t[s];t[s]=(p=T.next)==null?void 0:p.bind(T),t[s+1]=(y=T.error)==null?void 0:y.bind(T),t[s+2]=(E=T.complete)==null?void 0:E.bind(T)}let u,f,m;if(r instanceof me)f=qn(r.firestore,ms),m=Kh(r._key.path),u={next:T=>{t[s]&&t[s](LS(f,r,T))},error:t[s+1],complete:t[s+2]};else{const T=qn(r,aa);f=qn(T.firestore,ms),m=T._query;const b=new of(f);u={next:L=>{t[s]&&t[s](new Zs(f,b,T,L))},error:t[s+1],complete:t[s+2]},OS(r._query)}return(function(b,L,Y,Z){const H=new Yp(Z),rt=new Gp(L,H,Y);return b.asyncQueue.enqueueAndForget((async()=>qp(await Mh(b),rt))),()=>{H.Nu(),b.asyncQueue.enqueueAndForget((async()=>Hp(await Mh(b),rt)))}})(pu(f),m,o,u)}function PS(r,t){return(function(s,o){const u=new Oi;return s.asyncQueue.enqueueAndForget((async()=>iN(await gN(s),o,u))),u.promise})(pu(r),t)}function LS(r,t,n){const s=n.docs.get(t._key),o=new of(r);return new as(r,o,t._key,s,new no(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN={maxAttempts:5};function zl(r,t){if((r=$e(r)).firestore!==t)throw new ct(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=Wp(t)}get(t){const n=zl(t,this._firestore),s=new MN(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return vt(24041);const u=o[0];if(u.isFoundDocument())return new xh(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new xh(this._firestore,s,n._key,null,n.converter);throw vt(18433,{doc:u})}))}set(t,n,s){const o=zl(t,this._firestore),u=xS(o.converter,n,s),f=RS(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,f),this}update(t,n,s,...o){const u=zl(t,this._firestore);let f;return f=typeof(n=$e(n))=="string"||n instanceof sf?CN(this._dataReader,"Transaction.update",u._key,n,s,o):RN(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,f),this}delete(t){const n=zl(t,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN extends UN{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=zl(t,this._firestore),s=new of(this._firestore);return super.get(t).then((o=>new as(this._firestore,s,n._key,o._document,new no(!1,!1),n.converter)))}}function lT(r,t,n){r=qn(r,ms);const s={...LN,...n};return(function(u){if(u.maxAttempts<1)throw new ct(J.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,f,m){const p=new Oi;return u.asyncQueue.enqueueAndForget((async()=>{const y=await yN(u);new dN(u.asyncQueue,y,m,f,p).ju()})),p.promise})(pu(r),(o=>t(new kN(r,o))),s)}(function(t,n=!0){(function(o){To=o})(Eo),lo(new ta("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ms(new RC(s.getProvider("auth-internal")),new NC(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ct(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),is(uE,cE,t),is(uE,cE,"esm2020")})();var zN="firebase",jN="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */is(zN,jN,"app");function US(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BN=US,kS=new au("auth","Firebase",US());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new yp("@firebase/auth");function qN(r,...t){Ph.logLevel<=Lt.WARN&&Ph.warn(`Auth (${Eo}): ${r}`,...t)}function fh(r,...t){Ph.logLevel<=Lt.ERROR&&Ph.error(`Auth (${Eo}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(r,...t){throw sg(r,...t)}function Pi(r,...t){return sg(r,...t)}function zS(r,t,n){const s={...BN(),[t]:n};return new au("auth","Firebase",s).create(t,{appName:r.name})}function os(r){return zS(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sg(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return kS.create(r,...t)}function At(r,t,...n){if(!r)throw sg(t,...n)}function ir(r){const t="INTERNAL ASSERTION FAILED: "+r;throw fh(t),new Error(t)}function hr(r,t){r||ir(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function HN(){return uT()==="http:"||uT()==="https:"}function uT(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HN()||iR()||"connection"in navigator)?navigator.onLine:!0}function GN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(t,n){this.shortDelay=t,this.longDelay=n,hr(n>t,"Short delay should be less than long delay!"),this.isMobile=tR()||rR()}get(){return FN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(r,t){hr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YN=new yu(3e4,6e4);function lf(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function wo(r,t,n,s,o={}){return BS(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=ou({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:p,...u};return nR()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&vo(r.emulatorConfig.host)&&(y.credentials="include"),jS.fetch()(await HS(r,r.config.apiHost,n,m),y)})}async function BS(r,t,n){r._canInitEmulator=!1;const s={...QN,...t};try{const o=new $N(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw nh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw nh(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw nh(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw nh(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw zS(r,E,y);cr(r,E)}}catch(o){if(o instanceof fr)throw o;cr(r,"network-request-failed",{message:String(o)})}}async function qS(r,t,n,s,o={}){const u=await wo(r,t,n,s,o);return"mfaPendingCredential"in u&&cr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function HS(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?ag(r.config,o):`${r.config.apiScheme}://${o}`;return KN.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class $N{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Pi(this.auth,"network-request-failed")),YN.get())})}}function nh(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Pi(r,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XN(r,t){return wo(r,"POST","/v1/accounts:delete",t)}async function Lh(r,t){return wo(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function JN(r,t=!1){const n=$e(r),s=await n.getIdToken(t),o=og(s);At(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Kl(Dm(o.auth_time)),issuedAtTime:Kl(Dm(o.iat)),expirationTime:Kl(Dm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Dm(r){return Number(r)*1e3}function og(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return fh("JWT malformed, contained fewer than 3 sections"),null;try{const o=KT(n);return o?JSON.parse(o):(fh("Failed to decode base64 JWT payload"),null)}catch(o){return fh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function cT(r){const t=og(r);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nu(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof fr&&ZN(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function ZN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uh(r){var T;const t=r.auth,n=await r.getIdToken(),s=await nu(r,Lh(t,{idToken:n}));At(s==null?void 0:s.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=(T=o.providerUserInfo)!=null&&T.length?FS(o.providerUserInfo):[],f=eD(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!(f!=null&&f.length),y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new op(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function tD(r){const t=$e(r);await Uh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function eD(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function FS(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(r,t){const n=await BS(r,{},async()=>{const s=ou({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await HS(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&vo(r.emulatorConfig.host)&&(p.credentials="include"),jS.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iD(r,t){return wo(r,"POST","/v2/accounts:revokeToken",lf(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):cT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){At(t.length!==0,"internal-error");const n=cT(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await nD(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new so;return s&&(At(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(At(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(At(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new so,this.toJSON())}_performRefresh(){return ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(r,t){At(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ii{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new WN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new op(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await nu(this,this.stsTokenManager.getToken(this.auth,t));return At(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return JN(this,t)}reload(){return tD(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ii({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Uh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(os(this.auth));const t=await this.getIdToken();return await nu(this,XN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:b,isAnonymous:L,providerData:Y,stsTokenManager:Z}=n;At(T&&Z,t,"internal-error");const H=so.fromJSON(this.name,Z);At(typeof T=="string",t,"internal-error"),Kr(s,t.name),Kr(o,t.name),At(typeof b=="boolean",t,"internal-error"),At(typeof L=="boolean",t,"internal-error"),Kr(u,t.name),Kr(f,t.name),Kr(m,t.name),Kr(p,t.name),Kr(y,t.name),Kr(E,t.name);const rt=new ii({uid:T,auth:t,email:o,emailVerified:b,displayName:s,isAnonymous:L,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:H,createdAt:y,lastLoginAt:E});return Y&&Array.isArray(Y)&&(rt.providerData=Y.map(lt=>({...lt}))),p&&(rt._redirectEventId=p),rt}static async _fromIdTokenResponse(t,n,s=!1){const o=new so;o.updateFromServerResponse(n);const u=new ii({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Uh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];At(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?FS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new so;m.updateFromIdToken(s);const p=new ii({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new op(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=new Map;function rr(r){hr(r instanceof Function,"Expected a class definition");let t=hT.get(r);return t?(hr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,hT.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}GS.type="NONE";const fT=GS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(r,t,n){return`firebase:${r}:${t}:${n}`}class ao{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=dh(this.userKey,o.apiKey,u),this.fullPersistenceKey=dh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Lh(this.auth,{idToken:t}).catch(()=>{});return n?ii._fromGetAccountInfoResponse(this.auth,n,t):null}return ii._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new ao(rr(fT),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||rr(fT);const f=dh(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let T;if(typeof E=="string"){const b=await Lh(t,{idToken:E}).catch(()=>{});if(!b)break;T=await ii._fromGetAccountInfoResponse(t,b,E)}else T=ii._fromJSON(t,E);y!==u&&(m=T),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ao(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new ao(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if($S(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(QS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(JS(t))return"Blackberry";if(ZS(t))return"Webos";if(KS(t))return"Safari";if((t.includes("chrome/")||YS(t))&&!t.includes("edge/"))return"Chrome";if(XS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function QS(r=tn()){return/firefox\//i.test(r)}function KS(r=tn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function YS(r=tn()){return/crios\//i.test(r)}function $S(r=tn()){return/iemobile/i.test(r)}function XS(r=tn()){return/android/i.test(r)}function JS(r=tn()){return/blackberry/i.test(r)}function ZS(r=tn()){return/webos/i.test(r)}function lg(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function rD(r=tn()){var t;return lg(r)&&!!((t=window.navigator)!=null&&t.standalone)}function sD(){return sR()&&document.documentMode===10}function WS(r=tn()){return lg(r)||XS(r)||ZS(r)||JS(r)||/windows phone/i.test(r)||$S(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(r,t=[]){let n;switch(r){case"Browser":n=dT(tn());break;case"Worker":n=`${dT(tn())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Eo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(r,t={}){return wo(r,"GET","/v2/passwordPolicy",lf(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=6;class uD{constructor(t){var s;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??lD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=t.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mT(this),this.idTokenSubscription=new mT(this),this.beforeStateQueue=new aD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=rr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await ao.create(this,t),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Lh(this,{idToken:t}),s=await ii._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var u;if(ni(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===m)&&(p!=null&&p.user)&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(f){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Uh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=GN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ni(this.app))return Promise.reject(os(this));const n=t?$e(t):null;return n&&At(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ni(this.app)?Promise.reject(os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await oD(this),n=new uD(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new au("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await iD(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&rr(t)||this._popupRedirectResolver;At(n,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=tA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var n;if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&qN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function uf(r){return $e(r)}class mT{constructor(t){this.auth=t,this.observer=null,this.addObserver=dR(n=>this.observer=n)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ug={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hD(r){ug=r}function fD(r){return ug.loadJS(r)}function dD(){return ug.gapiScript}function mD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(r,t){const n=vp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ws(u,t??{}))return o;cr(o,"already-initialized")}return n.initialize({options:t})}function gD(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(rr);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function yD(r,t,n){const s=uf(r);At(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=eA(t),{host:f,port:m}=_D(t),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){At(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),At(Ws(y,s.config.emulator)&&Ws(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,vo(f)?(JT(`${u}//${f}${p}`),ZT("Auth",!0)):vD()}function eA(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function _D(r){const t=eA(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:pT(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:pT(f)}}}function pT(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function vD(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ir("not implemented")}_getIdTokenResponse(t){return ir("not implemented")}_linkToIdToken(t,n){return ir("not implemented")}_getReauthenticationResolver(t){return ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(r,t){return qS(r,"POST","/v1/accounts:signInWithIdp",lf(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED="http://localhost";class ia extends nA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ia(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):cr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ia(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return oo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,oo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,oo(t,n)}buildRequest(){const t={requestUri:ED,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ou(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends iA{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends _u{constructor(){super("facebook.com")}static credential(t){return ia._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xr.credentialFromTaggedObject(t)}static credentialFromError(t){return Xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xr.credential(t.oauthAccessToken)}catch{return null}}}Xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends _u{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ia._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Jr.credentialFromTaggedObject(t)}static credentialFromError(t){return Jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Jr.credential(n,s)}catch{return null}}}Jr.GOOGLE_SIGN_IN_METHOD="google.com";Jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends _u{constructor(){super("github.com")}static credential(t){return ia._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zr.credentialFromTaggedObject(t)}static credentialFromError(t){return Zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zr.credential(t.oauthAccessToken)}catch{return null}}}Zr.GITHUB_SIGN_IN_METHOD="github.com";Zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends _u{constructor(){super("twitter.com")}static credential(t,n){return ia._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Wr.credentialFromTaggedObject(t)}static credentialFromError(t){return Wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Wr.credential(n,s)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD(r,t){return qS(r,"POST","/v1/accounts:signUp",lf(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await ii._fromIdTokenResponse(t,s,o),f=gT(s);return new ps({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=gT(s);return new ps({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function gT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(r){var o;if(ni(r.app))return Promise.reject(os(r));const t=uf(r);if(await t._initializationPromise,(o=t.currentUser)!=null&&o.isAnonymous)return new ps({user:t.currentUser,providerId:null,operationType:"signIn"});const n=await TD(t,{returnSecureToken:!0}),s=await ps._fromIdTokenResponse(t,"signIn",n,!0);return await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh extends fr{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,kh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new kh(t,n,s,o)}}function rA(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?kh._fromErrorAndOperation(r,u,t,s):u})}async function AD(r,t,n=!1){const s=await nu(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return ps._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bD(r,t,n=!1){const{auth:s}=r;if(ni(s.app))return Promise.reject(os(s));const o="reauthenticate";try{const u=await nu(r,rA(s,o,t,r),n);At(u.idToken,s,"internal-error");const f=og(u.idToken);At(f,s,"internal-error");const{sub:m}=f;return At(r.uid===m,s,"user-mismatch"),ps._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&cr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(r,t,n=!1){if(ni(r.app))return Promise.reject(os(r));const s="signIn",o=await rA(r,s,t),u=await ps._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function RD(r,t,n,s){return $e(r).onIdTokenChanged(t,n,s)}function CD(r,t,n){return $e(r).beforeAuthStateChanged(t,n)}const zh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zh,"1"),this.storage.removeItem(zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=1e3,ND=10;class aA extends sA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);sD()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,ND):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},ID)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}aA.type="LOCAL";const DD=aA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA extends sA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}oA.type="SESSION";const lA=oA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new cf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await OD(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=cg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const b=T;if(b.data.eventId===y)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(){return window}function VD(r){Li().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function xD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PD(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function LD(){return uA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="firebaseLocalStorageDb",UD=1,jh="firebaseLocalStorage",hA="fbase_key";class vu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hf(r,t){return r.transaction([jh],t?"readwrite":"readonly").objectStore(jh)}function kD(){const r=indexedDB.deleteDatabase(cA);return new vu(r).toPromise()}function lp(){const r=indexedDB.open(cA,UD);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(jh,{keyPath:hA})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(jh)?t(s):(s.close(),await kD(),t(await lp()))})})}async function yT(r,t,n){const s=hf(r,!0).put({[hA]:t,value:n});return new vu(s).toPromise()}async function zD(r,t){const n=hf(r,!1).get(t),s=await new vu(n).toPromise();return s===void 0?null:s.value}function _T(r,t){const n=hf(r,!0).delete(t);return new vu(n).toPromise()}const jD=800,BD=3;class fA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>BD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cf._getInstance(LD()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await xD(),!this.activeServiceWorker)return;this.sender=new MD(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(s=t[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||PD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await lp();return await yT(t,zh,"1"),await _T(t,zh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>yT(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>zD(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>_T(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=hf(o,!1).getAll();return new vu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fA.type="LOCAL";const qD=fA;new yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(r,t){return t?rr(t):(At(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg extends nA{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return oo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return oo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return oo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function FD(r){return wD(r.auth,new hg(r),r.bypassAuthState)}function GD(r){const{auth:t,user:n}=r;return At(n,t,"internal-error"),bD(n,new hg(r),r.bypassAuthState)}async function QD(r){const{auth:t,user:n}=r;return At(n,t,"internal-error"),AD(n,new hg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return FD;case"linkViaPopup":case"linkViaRedirect":return QD;case"reauthViaPopup":case"reauthViaRedirect":return GD;default:cr(this.auth,"internal-error")}}resolve(t){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=new yu(2e3,1e4);class io extends dA{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){hr(this.filter.length===1,"Popup operations only handle one event");const t=cg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,KD.get())};t()}}io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD="pendingRedirect",mh=new Map;class $D extends dA{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=mh.get(this.auth._key());if(!t){try{const s=await XD(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}mh.set(this.auth._key(),t)}return this.bypassAuthState||mh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XD(r,t){const n=WD(t),s=ZD(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function JD(r,t){mh.set(r._key(),t)}function ZD(r){return rr(r._redirectPersistence)}function WD(r){return dh(YD,r.config.apiKey,r.name)}async function tO(r,t,n=!1){if(ni(r.app))return Promise.reject(os(r));const s=uf(r),o=HD(s,t),f=await new $D(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=600*1e3;class nO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!iO(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!mA(t)){const o=((s=t.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Pi(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=eO&&this.cachedEventUids.clear(),this.cachedEventUids.has(vT(t))}saveEventToCache(t){this.cachedEventUids.add(vT(t)),this.lastProcessedEventTime=Date.now()}}function vT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function mA({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function iO(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mA(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rO(r,t={}){return wo(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aO=/^https?/;async function oO(r){if(r.config.emulator)return;const{authorizedDomains:t}=await rO(r);for(const n of t)try{if(lO(n))return}catch{}cr(r,"unauthorized-domain")}function lO(r){const t=ap(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!aO.test(n))return!1;if(sO.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=new yu(3e4,6e4);function ET(){const r=Li().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function cO(r){return new Promise((t,n)=>{var o,u,f;function s(){ET(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ET(),n(Pi(r,"network-request-failed"))},timeout:uO.get()})}if((u=(o=Li().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)t(gapi.iframes.getContext());else if((f=Li().gapi)!=null&&f.load)s();else{const m=mD("iframefcb");return Li()[m]=()=>{gapi.load?s():n(Pi(r,"network-request-failed"))},fD(`${dD()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw ph=null,t})}let ph=null;function hO(r){return ph=ph||cO(r),ph}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=new yu(5e3,15e3),dO="__/auth/iframe",mO="emulator/auth/iframe",pO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yO(r){const t=r.config;At(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?ag(t,mO):`https://${r.config.authDomain}/${dO}`,s={apiKey:t.apiKey,appName:r.name,v:Eo},o=gO.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${ou(s).slice(1)}`}async function _O(r){const t=await hO(r),n=Li().gapi;return At(n,r,"internal-error"),t.open({where:document.body,url:yO(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pO,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Pi(r,"network-request-failed"),m=Li().setTimeout(()=>{u(f)},fO.get());function p(){Li().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EO=500,TO=600,SO="_blank",AO="http://localhost";class TT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bO(r,t,n,s=EO,o=TO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...vO,width:s.toString(),height:o.toString(),top:u,left:f},y=tn().toLowerCase();n&&(m=YS(y)?SO:n),QS(y)&&(t=t||AO,p.scrollbars="yes");const E=Object.entries(p).reduce((b,[L,Y])=>`${b}${L}=${Y},`,"");if(rD(y)&&m!=="_self")return wO(t||"",m),new TT(null);const T=window.open(t||"",m,E);At(T,r,"popup-blocked");try{T.focus()}catch{}return new TT(T)}function wO(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO="__/auth/handler",CO="emulator/auth/handler",IO=encodeURIComponent("fac");async function ST(r,t,n,s,o,u){At(r.config.authDomain,r,"auth-domain-config-required"),At(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Eo,eventId:o};if(t instanceof iA){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",fR(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(t instanceof _u){const E=t.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${IO}=${encodeURIComponent(p)}`:"";return`${NO(r)}?${ou(m).slice(1)}${y}`}function NO({config:r}){return r.emulator?ag(r,CO):`https://${r.authDomain}/${RO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="webStorageSupport";class DO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lA,this._completeRedirectFn=tO,this._overrideRedirectResult=JD}async _openPopup(t,n,s,o){var f;hr((f=this.eventManagers[t._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await ST(t,n,s,ap(),o);return bO(t,u,cg())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await ST(t,n,s,ap(),o);return VD(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(hr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await _O(t),s=new nO(t);return n.register("authEvent",o=>(At(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Om,{type:Om},o=>{var f;const u=(f=o==null?void 0:o[0])==null?void 0:f[Om];u!==void 0&&n(!!u),cr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oO(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return WS()||KS()||lg()}}const OO=DO;var AT="@firebase/auth",bT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xO(r){lo(new ta("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;At(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tA(r)},y=new cD(s,o,u,p);return gD(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),lo(new ta("auth-internal",t=>{const n=uf(t.getProvider("auth").getImmediate());return(s=>new MO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),is(AT,bT,VO(r)),is(AT,bT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=300,LO=XT("authIdTokenMaxAge")||PO;let wT=null;const UO=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>LO)return;const o=n==null?void 0:n.token;wT!==o&&(wT=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function kO(r=n0()){const t=vp(r,"auth");if(t.isInitialized())return t.getImmediate();const n=pD(r,{popupRedirectResolver:OO,persistence:[qD,DD,lA]}),s=XT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=UO(u.toString());CD(n,f,()=>f(n.currentUser)),RD(n,m=>f(m))}}const o=YT("auth");return o&&yD(n,`http://${o}`),n}function zO(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}hD({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Pi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",zO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xO("Browser");const jO={apiKey:"AIzaSyAumcd0vkm9-73yx8AGfT6SB2NgWMu_76Q",authDomain:"burako-leaderboard.firebaseapp.com",projectId:"burako-leaderboard",storageBucket:"burako-leaderboard.firebasestorage.app",messagingSenderId:"928347273041",appId:"1:928347273041:web:31513f64e5a40b67300570"},pA=e0(jO),iu=TN(pA),RT=kO(pA),BO=async()=>{RT.currentUser||await SD(RT)},Mm=Xp(iu,"players"),Vm=Xp(iu,"pairs"),eo=Xp(iu,"games"),xm=r=>r===void 0?null:r,gA=r=>typeof r=="string"?r:r instanceof Date?r.toISOString():r instanceof re?r.toDate().toISOString():new Date().toISOString(),sn=(r,t)=>Array.isArray(r)?r:t,qO=r=>{var t,n,s;return{id:r.id,gameId:r.gameId,timestamp:gA(r.timestamp),summary:r.summary,type:r.type,snapshot:{teams:sn((t=r.snapshot)==null?void 0:t.teams,[]),scores:sn((n=r.snapshot)==null?void 0:n.scores,[]),notes:((s=r.snapshot)==null?void 0:s.notes)??void 0}}},jl=(r,t)=>({id:t,playedAt:gA(r.playedAt),teams:sn(r.teams,[]),scores:sn(r.scores,[]),notes:r.notes??void 0,auditTrail:sn(r.auditTrail,[]).map(qO)}),ih=(r,t,n)=>{const s={teams:r.map(o=>({...o,canasta:{...o.canasta}})),scores:t.map(o=>({...o}))};return n!==void 0&&(s.notes=n),s};class HO{constructor(){Mv(this,"seeded",!1)}async ensureSeedData(){if(this.seeded)return;this.seeded=!0;const[t,n]=await Promise.all([xl(Vl(Mm)),xl(Vl(Vm))]);t.empty&&await Promise.all(z1.map(s=>Nm(Xa(Mm,s.id),s,{merge:!0}))),n.empty&&await Promise.all(j1.map(s=>Nm(Xa(Vm,s.id),s,{merge:!0})))}async listPlayers(){return await this.ensureSeedData(),(await xl(Vl(Mm))).docs.map(n=>n.data())}async listPairs(){return await this.ensureSeedData(),(await xl(Vl(Vm))).docs.map(n=>n.data())}async listGames(){return(await xl(Vl(eo))).docs.map(n=>jl(n.data(),n.id))}async addGame(t){const n=Xa(eo),s=n.id,o=t.playedAt??new Date().toISOString(),u=t.notes??void 0,f={id:_m("audit"),gameId:s,timestamp:new Date().toISOString(),summary:"Game recorded",type:"create",snapshot:ih(t.teams,t.scores,u)};await Nm(n,{playedAt:o,teams:t.teams,scores:t.scores,notes:xm(u),auditTrail:[f]});const m=await Im(n);return jl(m.data()??{},s)}async updateGame(t,n){const s=Xa(eo,t);await lT(iu,async u=>{const f=await u.get(s);if(!f.exists())throw new Error("Game not found");const m=f.data(),p=sn(m.teams,[]),y=sn(m.scores,[]),E=m.notes??void 0,T=n.teams??p,b=n.scores??y,L=n.notes!==void 0?n.notes:E,Y={id:_m("audit"),gameId:t,timestamp:new Date().toISOString(),summary:"Game updated",type:"update",snapshot:ih(p,y,E)};u.update(s,{teams:T,scores:b,notes:xm(L),auditTrail:[...sn(m.auditTrail,[]),Y]})});const o=await Im(s);if(!o.exists())throw new Error("Game not found");return jl(o.data(),o.id)}async undoLastChange(t){const n=Xa(eo,t);await lT(iu,async o=>{var T,b,L;const u=await o.get(n);if(!u.exists())throw new Error("Game not found");const f=u.data(),m=sn(f.auditTrail,[]);if(m.length<=1)throw new Error("Nothing to undo");const p=m[m.length-1],y=ih(sn((T=p.snapshot)==null?void 0:T.teams,sn(f.teams,[])),sn((b=p.snapshot)==null?void 0:b.scores,sn(f.scores,[])),((L=p.snapshot)==null?void 0:L.notes)??f.notes??void 0),E={id:_m("audit"),gameId:t,timestamp:new Date().toISOString(),summary:"Undo applied",type:"undo",snapshot:ih(sn(f.teams,[]),sn(f.scores,[]),f.notes??void 0)};o.update(n,{teams:y.teams,scores:y.scores,notes:xm(y.notes),auditTrail:[...m.slice(0,-1),E]})});const s=await Im(n);if(!s.exists())throw new Error("Game not found");return jl(s.data(),s.id)}async deleteGame(t){await xN(Xa(eo,t))}}const FO=(r,t)=>PN(eo,n=>{const s=n.docs.map(o=>jl(o.data(),o.id));r(s)},n=>t(n)),CT=!0,$s=new HO;let IT;const Ke=k1((r,t)=>({players:[],pairs:[],games:[],loading:!1,initialized:!1,error:void 0,init:async()=>{if(!(t().initialized||t().loading)){r({loading:!0,error:void 0});try{CT&&await BO();const[n,s,o]=await Promise.all([$s.listPlayers(),$s.listPairs(),$s.listGames()]);CT&&!IT&&(IT=FO(u=>{r({games:u})},u=>{r({error:u.message})})),r({players:n,pairs:s,games:o,loading:!1,initialized:!0})}catch(n){r({loading:!1,error:n.message})}}},addGame:async n=>{r({loading:!0,error:void 0});try{const s=await $s.addGame(n),o=[...t().games,s];return r({games:o,loading:!1}),s}catch(s){throw r({loading:!1,error:s.message}),s}},updateGame:async(n,s)=>{r({loading:!0,error:void 0});try{const o=await $s.updateGame(n,s),u=t().games.map(f=>f.id===n?o:f);return r({games:u,loading:!1}),o}catch(o){throw r({loading:!1,error:o.message}),o}},undoLastChange:async n=>{r({loading:!0,error:void 0});try{const s=await $s.undoLastChange(n),o=t().games.map(u=>u.id===n?s:u);return r({games:o,loading:!1}),s}catch(s){throw r({loading:!1,error:s.message}),s}},deleteGame:async n=>{r({loading:!0,error:void 0});try{await $s.deleteGame(n);const s=t().games.filter(o=>o.id!==n);r({games:s,loading:!1})}catch(s){throw r({loading:!1,error:s.message}),s}}}));function GO(){const r=Ke(u=>u.init),t=Ke(u=>u.initialized),n=Ke(u=>u.loading),s=Ke(u=>u.error),o=({isActive:u})=>u?"active":void 0;return K.useEffect(()=>{r()},[r]),D.jsxs("div",{className:"app-shell",children:[D.jsxs("header",{className:"app-header",children:[D.jsx("div",{className:"app-brand",children:"Burako Scores"}),D.jsxs("nav",{className:"app-nav",children:[D.jsx(Pl,{to:"/leaderboard",className:o,children:"Leaderboard"}),D.jsx(Pl,{to:"/history",className:o,children:"History"}),D.jsx(Pl,{to:"/info",className:o,children:"Info"}),D.jsx(Pl,{to:"/add",className:o,children:"Add Game"})]})]}),D.jsx("main",{className:"app-main",children:n&&!t?D.jsx("div",{className:"status-card",children:"Loading games"}):D.jsx(e1,{})}),s?D.jsx("div",{className:"status-banner",children:s}):null]})}const ln={jokers:50,twos:20,aces:15,threeToSeven:5,eightToKing:10},yA=200,_A=100,vA=100,EA=-100,QO=(r,t)=>r*yA+t*_A,KO=(r,t)=>({winnerBonus:r?vA:0,muertoBonus:t?0:EA}),YO=r=>{const t=[];if(r.cardPoints&&t.push(`Cards ${r.cardPoints}`),r.canastaPoints&&t.push(`Canastas ${r.canastaPoints}`),r.winnerBonus&&t.push(`Winner +${r.winnerBonus}`),r.muertoBonus){const n=r.muertoBonus>0?"+":"";t.push(`Muerto ${n}${r.muertoBonus}`)}return r.minusPoints&&t.push(`Minus -${r.minusPoints}`),t.join("  ")},$O=({total:r})=>({total:r,breakdown:`Final total ${r}`,components:{cardPoints:0,canastaPoints:0,winnerBonus:0,muertoBonus:0,minusPoints:0}}),TA=r=>{const t=QO(r.cleanCanastas,r.dirtyCanastas),{winnerBonus:n,muertoBonus:s}=KO(r.winner,r.tookMuerto),o={cardPoints:r.cardPoints,canastaPoints:t,winnerBonus:n,muertoBonus:s,minusPoints:r.minusPoints};return{total:r.cardPoints+t+n+s-r.minusPoints,components:o,breakdown:YO(o)}},XO=r=>r.jokers*ln.jokers+r.twos*ln.twos+r.aces*ln.aces+r.threeToSeven*ln.threeToSeven+r.eightToKing*ln.eightToKing,JO=r=>{const t=XO(r.cardCounts);return TA({cardPoints:t,cleanCanastas:r.cleanCanastas,dirtyCanastas:r.dirtyCanastas,minusPoints:r.minusPoints,tookMuerto:r.tookMuerto,winner:r.winner})},ZO=r=>{const t=$O(r),n={mode:"manual",enteredTotal:r.total,breakdown:t.breakdown,components:t.components};return{total:t.total,detail:n}},WO=r=>{const t=TA(r),n={...r,mode:"summary",calculatedTotal:t.total,breakdown:t.breakdown,components:t.components};return{total:t.total,detail:n}},tM=r=>{const t=JO(r),n={...r,mode:"cards",cardCounts:{...r.cardCounts},calculatedTotal:t.total,breakdown:t.breakdown,components:t.components};return{total:t.total,detail:n}},eM=[{field:"jokers",label:"Jokers (50 pts)"},{field:"twos",label:"2s (20 pts)"},{field:"aces",label:"Aces (15 pts)"},{field:"threeToSeven",label:"37 (5 pts)"},{field:"eightToKing",label:"8K (10 pts)"}],nM=[{value:"manual",label:"Manual total",description:"Enter the final score directly."},{value:"summary",label:"Summary inputs",description:"Use card points, canastas, winner, bonus, and minuses."},{value:"cards",label:"Card breakdown",description:"Track card counts, canastas, winner, and minus points."}],gh=()=>({jokers:0,twos:0,aces:0,threeToSeven:0,eightToKing:0}),Yr=(r="")=>({pairId:r,cleanCanastas:0,dirtyCanastas:0,scoringMode:"manual",manualTotal:0,cardPoints:0,minusPoints:0,tookMuerto:!1,winner:!1,cardCounts:gh()}),iM=r=>r.jokers*ln.jokers+r.twos*ln.twos+r.aces*ln.aces+r.threeToSeven*ln.threeToSeven+r.eightToKing*ln.eightToKing,Pm=r=>{if(r.scoringMode==="manual"){const{total:s,detail:o}=ZO({total:r.manualTotal});return{total:s,detail:o}}if(r.scoringMode==="summary"){const{total:s,detail:o}=WO({cardPoints:r.cardPoints===0?iM(r.cardCounts):r.cardPoints,cleanCanastas:r.cleanCanastas,dirtyCanastas:r.dirtyCanastas,minusPoints:r.minusPoints,tookMuerto:r.tookMuerto,winner:r.winner});return{total:s,detail:o}}const{total:t,detail:n}=tM({cardCounts:r.cardCounts,cleanCanastas:r.cleanCanastas,dirtyCanastas:r.dirtyCanastas,minusPoints:r.minusPoints,tookMuerto:r.tookMuerto,winner:r.winner});return{total:t,detail:n}};function rM(){const r=Ke(P=>P.players),t=Ke(P=>P.pairs),n=Ke(P=>P.addGame),s=Ke(P=>P.loading),[o,u]=K.useState(()=>Yr()),[f,m]=K.useState(()=>Yr()),[p,y]=K.useState(""),[E,T]=K.useState(),[b,L]=K.useState(),[Y,Z]=K.useState(!1),[H,rt]=K.useState(""),lt=K.useMemo(()=>new Map(r.map(P=>[P.id,P.name])),[r]),it=K.useMemo(()=>new Map(t.map(P=>[P.id,P])),[t]),_t=P=>P.players.map(F=>lt.get(F)??F).join(" & "),Dt=K.useMemo(()=>Pm(o),[o]),nt=K.useMemo(()=>Pm(f),[f]),C=K.useMemo(()=>{const P=[];for(let F=0;F<t.length;F+=1)for(let st=F+1;st<t.length;st+=1){const at=t[F],ft=t[st],St=new Set([...at.players,...ft.players]);if(at.players.some(Hn=>ft.players.includes(Hn))||St.size!==4)continue;const Yt=`${_t(at)} vs ${_t(ft)}`;P.push({id:`${at.id}__${ft.id}`,pairIds:[at.id,ft.id],label:Yt})}return P},[t,lt]);K.useEffect(()=>{if(C.length===0)return;if(!C.some(F=>F.id===H)){const F=C[0];rt(F.id),u(Yr(F.pairIds[0])),m(Yr(F.pairIds[1]))}},[C,H]),K.useEffect(()=>{if(!H)return;const P=C.find(F=>F.id===H);P&&(u(F=>F.pairId===P.pairIds[0]?F:Yr(P.pairIds[0])),m(F=>F.pairId===P.pairIds[1]?F:Yr(P.pairIds[1])))},[C,H]);const R=P=>{rt(P.target.value)},w=(P,F)=>{P==="A"?u(st=>F({...st})):m(st=>F({...st}))},O=(P,F)=>st=>{const at=Number.parseInt(st.target.value,10),ft=Number.isNaN(at)?0:at,St=F==="manualTotal"?ft:Math.max(0,ft);w(P,bt=>({...bt,[F]:St}))},M=(P,F)=>st=>{const at=st.target.checked;w(P,ft=>({...ft,[F]:at}))},U=(P,F)=>st=>{const at=Number.parseInt(st.target.value,10),ft=Number.isNaN(at)?0:Math.max(0,at);w(P,St=>({...St,cardCounts:{...St.cardCounts,[F]:ft}}))},I=P=>F=>{const st=F.target.value;w(P,at=>st==="manual"?{...at,scoringMode:st,manualTotal:0,cardPoints:0,minusPoints:0,tookMuerto:!1,winner:!1,cardCounts:gh()}:st==="summary"?{...at,scoringMode:st,cardPoints:0,minusPoints:0,tookMuerto:!1,winner:!1,cardCounts:gh()}:{...at,scoringMode:st,minusPoints:0,tookMuerto:!1,winner:!1,cardCounts:gh()})},qt=P=>{P.target.select()},he=()=>{const P=C.find(F=>F.id===H);u(Yr((P==null?void 0:P.pairIds[0])??"")),m(Yr((P==null?void 0:P.pairIds[1])??"")),y("")},$=P=>{const F=new Map;for(const st of P){const at=it.get(st.pairId);if(!at)continue;const ft=at.players.length,St=Math.floor(st.totalPoints/ft);let bt=st.totalPoints%ft;for(const Yt of at.players){const Hn=bt>0?1:0;bt>0&&(bt-=1);const dr=F.get(Yt)??0;F.set(Yt,dr+St+Hn)}}return Array.from(F.entries()).map(([st,at])=>({playerId:st,points:at}))},ut=(P,F)=>{if(!P||!it.get(P))return;const{total:at,detail:ft}=Pm(F);return{pairId:P,totalPoints:at,canasta:{cleanCanastas:F.cleanCanastas,dirtyCanastas:F.dirtyCanastas},scoring:ft}},gt=async P=>{if(P.preventDefault(),T(void 0),L(void 0),!o.pairId||!f.pairId){T("Select both teams before submitting.");return}const F=it.get(o.pairId),st=it.get(f.pairId);if(!F||!st){T("Selected teams are unavailable.");return}if(F.players.some(bt=>st.players.includes(bt))){T("Teams cannot share players. Choose distinct pairings.");return}const ft=[ut(o.pairId,o),ut(f.pairId,f)];if(ft.some(bt=>bt===void 0)){T("Unable to build team results.");return}const St=$(ft);try{Z(!0),await n({teams:ft,scores:St,notes:p.trim()?p.trim():void 0}),L("Game recorded successfully."),he()}catch(bt){T(bt.message)}finally{Z(!1)}},Ot=P=>{if(!P)return"";const F=it.get(P);return F?_t(F):""},Ht=(P,F,st)=>{const at=P==="A"?"teamA":"teamB",ft=F.scoringMode==="manual",St=F.scoringMode==="summary";return D.jsxs("section",{className:"team-scoring-card",children:[D.jsxs("header",{className:"team-scoring-card__header",children:[D.jsxs("h2",{children:["Team ",P]}),D.jsx("p",{className:"team-scoring-card__subtitle",children:Ot(F.pairId)})]}),D.jsxs("div",{className:"field",children:[D.jsx("span",{className:"field-label",children:"Scoring mode"}),D.jsx("div",{className:"radio-group",children:nM.map(bt=>D.jsxs("label",{className:"radio-option",children:[D.jsx("input",{type:"radio",name:`scoring-mode-${P}`,value:bt.value,checked:F.scoringMode===bt.value,onChange:I(P)}),D.jsxs("div",{className:"radio-option__content",children:[D.jsx("span",{className:"radio-option__label",children:bt.label}),D.jsx("span",{className:"radio-option__description",children:bt.description})]})]},bt.value))})]}),ft?D.jsxs("div",{className:"field",children:[D.jsx("label",{className:"field-label",htmlFor:`${at}-manual-total`,children:"Manual total"}),D.jsx("input",{id:`${at}-manual-total`,className:"field-control",type:"number",min:0,value:F.manualTotal===0?"":F.manualTotal,onChange:O(P,"manualTotal"),onFocus:qt,placeholder:"0"})]}):D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"field grid",children:[D.jsx("label",{className:"field-label",htmlFor:`${at}-clean`,children:"Clean canastas"}),D.jsx("input",{id:`${at}-clean`,className:"field-control",type:"number",min:0,value:F.cleanCanastas===0?"":F.cleanCanastas,onChange:O(P,"cleanCanastas"),onFocus:qt,placeholder:"0"}),D.jsx("label",{className:"field-label",htmlFor:`${at}-dirty`,children:"Dirty canastas"}),D.jsx("input",{id:`${at}-dirty`,className:"field-control",type:"number",min:0,value:F.dirtyCanastas===0?"":F.dirtyCanastas,onChange:O(P,"dirtyCanastas"),onFocus:qt,placeholder:"0"})]}),St?D.jsxs("div",{className:"field",children:[D.jsx("label",{className:"field-label",htmlFor:`${at}-card-points`,children:"Card points"}),D.jsx("input",{id:`${at}-card-points`,className:"field-control",type:"number",min:0,value:F.cardPoints===0?"":F.cardPoints,onChange:O(P,"cardPoints"),onFocus:qt,placeholder:"0"})]}):D.jsx("div",{className:"field grid",children:eM.map(bt=>D.jsxs("div",{className:"field",children:[D.jsx("label",{className:"field-label",htmlFor:`${at}-${bt.field}`,children:bt.label}),D.jsx("input",{id:`${at}-${bt.field}`,className:"field-control",type:"number",min:0,value:F.cardCounts[bt.field]===0?"":F.cardCounts[bt.field],onChange:U(P,bt.field),onFocus:qt,placeholder:"0"})]},bt.field))}),D.jsxs("div",{className:"field",children:[D.jsx("label",{className:"field-label",htmlFor:`${at}-minus`,children:"Minus points"}),D.jsx("input",{id:`${at}-minus`,className:"field-control",type:"number",min:0,value:F.minusPoints===0?"":F.minusPoints,onChange:O(P,"minusPoints"),onFocus:qt,placeholder:"0"})]}),D.jsxs("div",{className:"field checkbox-row",children:[D.jsxs("label",{className:"checkbox",children:[D.jsx("input",{type:"checkbox",checked:F.winner,onChange:M(P,"winner")}),"Winner"]}),D.jsxs("label",{className:"checkbox",children:[D.jsx("input",{type:"checkbox",checked:F.tookMuerto,onChange:M(P,"tookMuerto")}),"Took muerto"]})]})]}),D.jsxs("div",{className:"team-summary",children:[D.jsxs("span",{className:"team-summary__total",children:[st.total," pts"]}),D.jsx("span",{className:"hint",children:st.detail.breakdown})]})]})},x=r.length===4&&C.length>0;return D.jsxs("section",{className:"panel",children:[D.jsxs("header",{className:"panel-header",children:[D.jsx("h1",{children:"Add Game"}),D.jsx("p",{children:"Capture scores, canasta details, and notes for the latest round."})]}),x?D.jsxs("form",{className:"form-grid",onSubmit:gt,children:[D.jsxs("fieldset",{className:"field-set",children:[D.jsx("legend",{children:"Game Setup"}),D.jsxs("div",{className:"field",children:[D.jsx("label",{className:"field-label",htmlFor:"matchup",children:"Matchup"}),D.jsxs("select",{id:"matchup",className:"field-control",value:H,onChange:R,required:!0,children:[D.jsx("option",{value:"",children:"Select matchup"}),C.map(P=>D.jsx("option",{value:P.id,children:P.label},P.id))]})]}),D.jsxs("div",{className:"matchup-summary",children:[D.jsxs("div",{className:"team-chip",children:[D.jsx("span",{className:"team-chip__label",children:"Team A"}),D.jsx("span",{className:"team-chip__value",children:Ot(o.pairId)})]}),D.jsxs("div",{className:"team-chip",children:[D.jsx("span",{className:"team-chip__label",children:"Team B"}),D.jsx("span",{className:"team-chip__value",children:Ot(f.pairId)})]})]}),D.jsxs("div",{className:"team-scoring-grid",children:[Ht("A",o,Dt),Ht("B",f,nt)]})]}),D.jsxs("div",{className:"field full-width",children:[D.jsx("label",{className:"field-label",htmlFor:"notes",children:"Notes"}),D.jsx("textarea",{id:"notes",className:"field-control",rows:3,value:p,onChange:P=>y(P.target.value),placeholder:"Optional observations or highlights"})]}),E?D.jsx("div",{className:"error-message",children:E}):null,b?D.jsx("div",{className:"success-message",children:b}):null,D.jsxs("div",{className:"form-actions",children:[D.jsx("button",{type:"submit",disabled:Y||s,children:Y?"Saving":"Save Game"}),D.jsx("button",{type:"button",className:"secondary",onClick:he,disabled:Y,children:"Reset"})]})]}):D.jsx("div",{className:"status-card",children:"Roster is loading"})]})}function sM(){return D.jsxs("section",{className:"panel info-panel",children:[D.jsxs("header",{className:"panel-header",children:[D.jsx("h1",{children:"How Burako Scores Works"}),D.jsx("p",{children:"Reference guide for the scoring rules, using the app, and the core features."})]}),D.jsxs("article",{className:"info-section",children:[D.jsx("h2",{children:"Points System"}),D.jsx("p",{children:"The calculator follows the standard Burako scoring rules used by your group:"}),D.jsxs("ul",{className:"info-list",children:[D.jsxs("li",{children:[D.jsx("strong",{children:"Clean canasta:"})," +",yA," points each."]}),D.jsxs("li",{children:[D.jsx("strong",{children:"Dirty canasta:"})," +",_A," points each."]}),D.jsxs("li",{children:[D.jsx("strong",{children:"Going out first:"})," +",vA," point bonus for the winning team."]}),D.jsxs("li",{children:[D.jsx("strong",{children:"Muerto penalty:"})," ",EA,"/player if the team does not pick up the muerto. When a team takes the muerto, the penalty is waived."]}),D.jsxs("li",{children:[D.jsx("strong",{children:"Minus points:"})," Enter any remaining card values at the end of the round; they are subtracted from the team total."]})]}),D.jsxs("details",{className:"info-details",children:[D.jsx("summary",{children:"Card point reference"}),D.jsxs("table",{className:"info-table",children:[D.jsx("thead",{children:D.jsxs("tr",{children:[D.jsx("th",{children:"Card"}),D.jsx("th",{children:"Points"})]})}),D.jsxs("tbody",{children:[D.jsxs("tr",{children:[D.jsx("td",{children:"Jokers"}),D.jsx("td",{children:ln.jokers})]}),D.jsxs("tr",{children:[D.jsx("td",{children:"Twos"}),D.jsx("td",{children:ln.twos})]}),D.jsxs("tr",{children:[D.jsx("td",{children:"Aces"}),D.jsx("td",{children:ln.aces})]}),D.jsxs("tr",{children:[D.jsx("td",{children:"37"}),D.jsx("td",{children:ln.threeToSeven})]}),D.jsxs("tr",{children:[D.jsx("td",{children:"8King"}),D.jsx("td",{children:ln.eightToKing})]})]})]})]})]}),D.jsxs("article",{className:"info-section",children:[D.jsx("h2",{children:"Recording a Game"}),D.jsxs("ol",{className:"info-steps",children:[D.jsx("li",{children:"Open the Add Game page and choose the matchup."}),D.jsx("li",{children:"Select a scoring mode (manual, summary inputs, or card breakdown)."}),D.jsx("li",{children:"Fill the relevant canasta counts, card totals, minus points, winner, and muerto toggles."}),D.jsx("li",{children:"Add optional notes for extra context."}),D.jsx("li",{children:"Save the game to update the history and leaderboard instantly."})]}),D.jsx("p",{children:"The app divides team totals across players automatically, so you no longer need to enter individual scores."})]}),D.jsxs("article",{className:"info-section",children:[D.jsx("h2",{children:"Key Features"}),D.jsxs("ul",{className:"info-list",children:[D.jsxs("li",{children:[D.jsx("strong",{children:"Smart scoring:"})," Supports manual, summary, and full card-count inputs with automatic breakdowns and validation."]}),D.jsxs("li",{children:[D.jsx("strong",{children:"Instant history:"})," Every saved game appears in the history feed with a detailed audit trail."]}),D.jsxs("li",{children:[D.jsx("strong",{children:"Live leaderboard:"})," Player totals and averages update after each game so standings stay accurate."]}),D.jsxs("li",{children:[D.jsx("strong",{children:"Notes archive:"})," Keep track of highlights or house rules per game for future reference."]}),D.jsxs("li",{children:[D.jsx("strong",{children:"Device-friendly:"})," Works great on tablets at the table and supports install-as-app via PWA."]})]})]})]})}function aM(){const r=Ke(nt=>nt.games),t=Ke(nt=>nt.players),n=Ke(nt=>nt.pairs),s=Ke(nt=>nt.updateGame),o=Ke(nt=>nt.undoLastChange),u=Ke(nt=>nt.deleteGame),f=Ke(nt=>nt.loading),m=K.useMemo(()=>new Map(t.map(nt=>[nt.id,nt.name])),[t]),p=K.useMemo(()=>new Map(n.map(nt=>[nt.id,nt])),[n]),[y,E]=K.useState(),[T,b]=K.useState({}),[L,Y]=K.useState(),Z=nt=>{E(nt.id),b(C=>({...C,[nt.id]:{scores:Object.fromEntries(nt.scores.map(R=>[R.playerId,R.points])),notes:nt.notes??""}})),Y(void 0)},H=()=>{E(void 0),Y(void 0)},rt=(nt,C)=>R=>{const w=Number.parseInt(R.target.value,10);b(O=>({...O,[nt]:{...O[nt],scores:{...O[nt].scores,[C]:Number.isNaN(w)?0:w}}}))},lt=nt=>C=>{const R=C.target.value;b(w=>({...w,[nt]:{...w[nt],notes:R}}))},it=async nt=>{const C=T[nt.id];if(!C)return;const R=nt.scores.map(O=>({playerId:O.playerId,points:C.scores[O.playerId]??0})),w=nt.teams.map(O=>{const M=p.get(O.pairId);if(!M)return O;const U=M.players.reduce((I,qt)=>I+(C.scores[qt]??0),0);return{...O,totalPoints:U}});try{await s(nt.id,{teams:w,scores:R,notes:C.notes.trim()?C.notes.trim():void 0}),E(void 0),Y(void 0)}catch(O){Y(O.message)}},_t=async nt=>{try{await o(nt)}catch(C){Y(C.message)}},Dt=async nt=>{if(window.confirm("Delete this game permanently?"))try{await u(nt)}catch(C){Y(C.message)}};return r.length===0?D.jsx("div",{className:"panel",children:"No games recorded yet."}):D.jsxs("section",{className:"panel",children:[D.jsxs("header",{className:"panel-header",children:[D.jsx("h1",{children:"Game History"}),D.jsx("p",{children:"Review every round, adjust scores, or undo the latest change."})]}),L?D.jsx("div",{className:"error-message",children:L}):null,D.jsx("div",{className:"history-list",children:r.slice().sort((nt,C)=>new Date(C.playedAt).getTime()-new Date(nt.playedAt).getTime()).map(nt=>{const C=y===nt.id,R=T[nt.id];return D.jsxs("article",{className:"history-card",children:[D.jsxs("header",{className:"history-card__header",children:[D.jsxs("div",{children:[D.jsxs("h2",{children:["Game on ",new Date(nt.playedAt).toLocaleString()]}),D.jsxs("p",{className:"muted",children:["Teams:"," ",nt.teams.map(w=>{const O=p.get(w.pairId);return O?`${O.players.map(U=>m.get(U)??U).join(" & ")} (${w.totalPoints} pts)`:w.pairId}).join(" vs ")]})]}),D.jsx("div",{className:"history-card__actions",children:C?D.jsxs(D.Fragment,{children:[D.jsx("button",{type:"button",onClick:()=>it(nt),disabled:f,children:"Save"}),D.jsx("button",{type:"button",className:"secondary",onClick:H,disabled:f,children:"Cancel"})]}):D.jsxs(D.Fragment,{children:[D.jsx("button",{type:"button",onClick:()=>Z(nt),disabled:f,children:"Edit"}),D.jsx("button",{type:"button",className:"secondary",onClick:()=>_t(nt.id),disabled:f,children:"Undo"}),D.jsx("button",{type:"button",className:"danger",onClick:()=>Dt(nt.id),disabled:f,children:"Delete"})]})})]}),C?D.jsxs("div",{className:"history-card__body",children:[D.jsx("div",{className:"scores-grid",children:nt.scores.map(w=>D.jsxs("div",{className:"field",children:[D.jsx("label",{className:"field-label",htmlFor:`${nt.id}-${w.playerId}`,children:m.get(w.playerId)}),D.jsx("input",{id:`${nt.id}-${w.playerId}`,className:"field-control",type:"number",value:(R==null?void 0:R.scores[w.playerId])??w.points,onChange:rt(nt.id,w.playerId)})]},w.playerId))}),D.jsxs("div",{className:"field full-width",children:[D.jsx("label",{className:"field-label",htmlFor:`${nt.id}-notes`,children:"Notes"}),D.jsx("textarea",{id:`${nt.id}-notes`,className:"field-control",rows:3,value:(R==null?void 0:R.notes)??nt.notes??"",onChange:lt(nt.id)})]})]}):D.jsxs("div",{className:"history-card__body",children:[D.jsx("ul",{className:"score-list",children:nt.scores.map(w=>D.jsxs("li",{children:[D.jsx("span",{children:m.get(w.playerId)}),D.jsxs("span",{children:[w.points," pts"]})]},w.playerId))}),nt.notes?D.jsxs("p",{className:"muted",children:["Notes: ",nt.notes]}):null,D.jsxs("details",{className:"audit-trail",children:[D.jsx("summary",{children:"Audit trail"}),D.jsx("ul",{children:nt.auditTrail.map(w=>D.jsxs("li",{children:[D.jsx("span",{children:new Date(w.timestamp).toLocaleString()}),D.jsxs("span",{children:["  ",w.type.toUpperCase(),": ",w.summary]})]},w.id))})]})]})]},nt.id)})})]})}function oM(r){const t=new Map;for(const n of r)for(const s of n.scores){const o=t.get(s.playerId)??{playerId:s.playerId,totalPoints:0,gamesPlayed:0,lastPlayedAt:void 0};o.totalPoints+=s.points,o.gamesPlayed+=1,o.lastPlayedAt=n.playedAt,t.set(s.playerId,o)}return Array.from(t.values()).map(n=>({playerId:n.playerId,totalPoints:n.totalPoints,gamesPlayed:n.gamesPlayed,averagePoints:n.gamesPlayed===0?0:Number((n.totalPoints/n.gamesPlayed).toFixed(2)),lastPlayedAt:n.lastPlayedAt}))}function lM(){const r=Ke(o=>o.players),t=Ke(o=>o.games),n=K.useMemo(()=>oM(t),[t]),s=K.useMemo(()=>new Map(r.map(o=>[o.id,o.name])),[r]);return n.length===0?D.jsx("div",{className:"panel",children:"No games recorded yet."}):D.jsxs("section",{className:"panel",children:[D.jsx("header",{className:"panel-header",children:D.jsx("h1",{children:"Leaderboard"})}),D.jsxs("table",{className:"table",children:[D.jsx("thead",{children:D.jsxs("tr",{children:[D.jsx("th",{children:"Player"}),D.jsx("th",{children:"Total Points"}),D.jsx("th",{children:"Games"}),D.jsx("th",{children:"Average"}),D.jsx("th",{children:"Last Played"})]})}),D.jsx("tbody",{children:n.map(o=>D.jsxs("tr",{children:[D.jsx("td",{children:s.get(o.playerId)}),D.jsx("td",{children:o.totalPoints}),D.jsx("td",{children:o.gamesPlayed}),D.jsx("td",{children:o.averagePoints}),D.jsx("td",{children:o.lastPlayedAt?new Date(o.lastPlayedAt).toLocaleString():""})]},o.playerId))})]})]})}function uM(){return D.jsx(i1,{children:D.jsxs($r,{element:D.jsx(GO,{}),children:[D.jsx($r,{index:!0,element:D.jsx(Kv,{to:"/leaderboard",replace:!0})}),D.jsx($r,{path:"/leaderboard",element:D.jsx(lM,{})}),D.jsx($r,{path:"/history",element:D.jsx(aM,{})}),D.jsx($r,{path:"/info",element:D.jsx(sM,{})}),D.jsx($r,{path:"/add",element:D.jsx(rM,{})}),D.jsx($r,{path:"*",element:D.jsx(Kv,{to:"/leaderboard",replace:!0})})]})})}cw.createRoot(document.getElementById("root")).render(D.jsx(K.StrictMode,{children:D.jsx(R1,{children:D.jsx(uM,{})})}));
