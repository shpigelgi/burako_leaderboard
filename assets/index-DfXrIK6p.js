var Wb=Object.defineProperty;var tw=(r,t,n)=>t in r?Wb(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n;var xv=(r,t,n)=>tw(r,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function ew(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var hm={exports:{}},Ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function nw(){if(Pv)return Ol;Pv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ol.Fragment=t,Ol.jsx=n,Ol.jsxs=n,Ol}var Lv;function iw(){return Lv||(Lv=1,hm.exports=nw()),hm.exports}var N=iw(),fm={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function rw(){if(Uv)return Rt;Uv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),b=Symbol.iterator;function P(x){return x===null||typeof x!="object"?null:(x=b&&x[b]||x["@@iterator"],typeof x=="function"?x:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,F={};function rt(x,W,ut){this.props=x,this.context=W,this.refs=F,this.updater=ut||K}rt.prototype.isReactComponent={},rt.prototype.setState=function(x,W){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,W,"setState")},rt.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function at(){}at.prototype=rt.prototype;function st(x,W,ut){this.props=x,this.context=W,this.refs=F,this.updater=ut||K}var vt=st.prototype=new at;vt.constructor=st,J(vt,rt.prototype),vt.isPureReactComponent=!0;var wt=Array.isArray;function it(){}var C={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function w(x,W,ut){var q=ut.ref;return{$$typeof:r,type:x,key:W,ref:q!==void 0?q:null,props:ut}}function O(x,W){return w(x.type,W,x.props)}function M(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function L(x){var W={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ut){return W[ut]})}var I=/\/+/g;function Zt(x,W){return typeof x=="object"&&x!==null&&x.key!=null?L(""+x.key):W.toString(36)}function pe(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(it,it):(x.status="pending",x.then(function(W){x.status==="pending"&&(x.status="fulfilled",x.value=W)},function(W){x.status==="pending"&&(x.status="rejected",x.reason=W)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Y(x,W,ut,q,tt){var ht=typeof x;(ht==="undefined"||ht==="boolean")&&(x=null);var ft=!1;if(x===null)ft=!0;else switch(ht){case"bigint":case"string":case"number":ft=!0;break;case"object":switch(x.$$typeof){case r:case t:ft=!0;break;case E:return ft=x._init,Y(ft(x._payload),W,ut,q,tt)}}if(ft)return tt=tt(x),ft=q===""?"."+Zt(x,0):q,wt(tt)?(ut="",ft!=null&&(ut=ft.replace(I,"$&/")+"/"),Y(tt,W,ut,"",function(Bt){return Bt})):tt!=null&&(M(tt)&&(tt=O(tt,ut+(tt.key==null||x&&x.key===tt.key?"":(""+tt.key).replace(I,"$&/")+"/")+ft)),W.push(tt)),1;ft=0;var Ct=q===""?".":q+":";if(wt(x))for(var Ot=0;Ot<x.length;Ot++)q=x[Ot],ht=Ct+Zt(q,Ot),ft+=Y(q,W,ut,ht,tt);else if(Ot=P(x),typeof Ot=="function")for(x=Ot.call(x),Ot=0;!(q=x.next()).done;)q=q.value,ht=Ct+Zt(q,Ot++),ft+=Y(q,W,ut,ht,tt);else if(ht==="object"){if(typeof x.then=="function")return Y(pe(x),W,ut,q,tt);throw W=String(x),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return ft}function lt(x,W,ut){if(x==null)return x;var q=[],tt=0;return Y(x,q,"","",function(ht){return W.call(ut,ht,tt++)}),q}function yt(x){if(x._status===-1){var W=x._result;W=W(),W.then(function(ut){(x._status===0||x._status===-1)&&(x._status=1,x._result=ut)},function(ut){(x._status===0||x._status===-1)&&(x._status=2,x._result=ut)}),x._status===-1&&(x._status=0,x._result=W)}if(x._status===1)return x._result.default;throw x._result}var xt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Qt={map:lt,forEach:function(x,W,ut){lt(x,function(){W.apply(this,arguments)},ut)},count:function(x){var W=0;return lt(x,function(){W++}),W},toArray:function(x){return lt(x,function(W){return W})||[]},only:function(x){if(!M(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Rt.Activity=T,Rt.Children=Qt,Rt.Component=rt,Rt.Fragment=n,Rt.Profiler=o,Rt.PureComponent=st,Rt.StrictMode=s,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return C.H.useMemoCache(x)}},Rt.cache=function(x){return function(){return x.apply(null,arguments)}},Rt.cacheSignal=function(){return null},Rt.cloneElement=function(x,W,ut){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var q=J({},x.props),tt=x.key;if(W!=null)for(ht in W.key!==void 0&&(tt=""+W.key),W)!R.call(W,ht)||ht==="key"||ht==="__self"||ht==="__source"||ht==="ref"&&W.ref===void 0||(q[ht]=W[ht]);var ht=arguments.length-2;if(ht===1)q.children=ut;else if(1<ht){for(var ft=Array(ht),Ct=0;Ct<ht;Ct++)ft[Ct]=arguments[Ct+2];q.children=ft}return w(x.type,tt,q)},Rt.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Rt.createElement=function(x,W,ut){var q,tt={},ht=null;if(W!=null)for(q in W.key!==void 0&&(ht=""+W.key),W)R.call(W,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(tt[q]=W[q]);var ft=arguments.length-2;if(ft===1)tt.children=ut;else if(1<ft){for(var Ct=Array(ft),Ot=0;Ot<ft;Ot++)Ct[Ot]=arguments[Ot+2];tt.children=Ct}if(x&&x.defaultProps)for(q in ft=x.defaultProps,ft)tt[q]===void 0&&(tt[q]=ft[q]);return w(x,ht,tt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(x){return{$$typeof:m,render:x}},Rt.isValidElement=M,Rt.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:yt}},Rt.memo=function(x,W){return{$$typeof:y,type:x,compare:W===void 0?null:W}},Rt.startTransition=function(x){var W=C.T,ut={};C.T=ut;try{var q=x(),tt=C.S;tt!==null&&tt(ut,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(it,xt)}catch(ht){xt(ht)}finally{W!==null&&ut.types!==null&&(W.types=ut.types),C.T=W}},Rt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Rt.use=function(x){return C.H.use(x)},Rt.useActionState=function(x,W,ut){return C.H.useActionState(x,W,ut)},Rt.useCallback=function(x,W){return C.H.useCallback(x,W)},Rt.useContext=function(x){return C.H.useContext(x)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(x,W){return C.H.useDeferredValue(x,W)},Rt.useEffect=function(x,W){return C.H.useEffect(x,W)},Rt.useEffectEvent=function(x){return C.H.useEffectEvent(x)},Rt.useId=function(){return C.H.useId()},Rt.useImperativeHandle=function(x,W,ut){return C.H.useImperativeHandle(x,W,ut)},Rt.useInsertionEffect=function(x,W){return C.H.useInsertionEffect(x,W)},Rt.useLayoutEffect=function(x,W){return C.H.useLayoutEffect(x,W)},Rt.useMemo=function(x,W){return C.H.useMemo(x,W)},Rt.useOptimistic=function(x,W){return C.H.useOptimistic(x,W)},Rt.useReducer=function(x,W,ut){return C.H.useReducer(x,W,ut)},Rt.useRef=function(x){return C.H.useRef(x)},Rt.useState=function(x){return C.H.useState(x)},Rt.useSyncExternalStore=function(x,W,ut){return C.H.useSyncExternalStore(x,W,ut)},Rt.useTransition=function(){return C.H.useTransition()},Rt.version="19.2.0",Rt}var kv;function hp(){return kv||(kv=1,fm.exports=rw()),fm.exports}var Q=hp();const Xc=ew(Q);var dm={exports:{}},Ml={},mm={exports:{}},pm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function sw(){return zv||(zv=1,(function(r){function t(Y,lt){var yt=Y.length;Y.push(lt);t:for(;0<yt;){var xt=yt-1>>>1,Qt=Y[xt];if(0<o(Qt,lt))Y[xt]=lt,Y[yt]=Qt,yt=xt;else break t}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var lt=Y[0],yt=Y.pop();if(yt!==lt){Y[0]=yt;t:for(var xt=0,Qt=Y.length,x=Qt>>>1;xt<x;){var W=2*(xt+1)-1,ut=Y[W],q=W+1,tt=Y[q];if(0>o(ut,yt))q<Qt&&0>o(tt,ut)?(Y[xt]=tt,Y[q]=yt,xt=q):(Y[xt]=ut,Y[W]=yt,xt=W);else if(q<Qt&&0>o(tt,yt))Y[xt]=tt,Y[q]=yt,xt=q;else break t}}return lt}function o(Y,lt){var yt=Y.sortIndex-lt.sortIndex;return yt!==0?yt:Y.id-lt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,T=null,b=3,P=!1,K=!1,J=!1,F=!1,rt=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function vt(Y){for(var lt=n(y);lt!==null;){if(lt.callback===null)s(y);else if(lt.startTime<=Y)s(y),lt.sortIndex=lt.expirationTime,t(p,lt);else break;lt=n(y)}}function wt(Y){if(J=!1,vt(Y),!K)if(n(p)!==null)K=!0,it||(it=!0,L());else{var lt=n(y);lt!==null&&pe(wt,lt.startTime-Y)}}var it=!1,C=-1,R=5,w=-1;function O(){return F?!0:!(r.unstable_now()-w<R)}function M(){if(F=!1,it){var Y=r.unstable_now();w=Y;var lt=!0;try{t:{K=!1,J&&(J=!1,at(C),C=-1),P=!0;var yt=b;try{e:{for(vt(Y),T=n(p);T!==null&&!(T.expirationTime>Y&&O());){var xt=T.callback;if(typeof xt=="function"){T.callback=null,b=T.priorityLevel;var Qt=xt(T.expirationTime<=Y);if(Y=r.unstable_now(),typeof Qt=="function"){T.callback=Qt,vt(Y),lt=!0;break e}T===n(p)&&s(p),vt(Y)}else s(p);T=n(p)}if(T!==null)lt=!0;else{var x=n(y);x!==null&&pe(wt,x.startTime-Y),lt=!1}}break t}finally{T=null,b=yt,P=!1}lt=void 0}}finally{lt?L():it=!1}}}var L;if(typeof st=="function")L=function(){st(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Zt=I.port2;I.port1.onmessage=M,L=function(){Zt.postMessage(null)}}else L=function(){rt(M,0)};function pe(Y,lt){C=rt(function(){Y(r.unstable_now())},lt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var lt=3;break;default:lt=b}var yt=b;b=lt;try{return Y()}finally{b=yt}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(Y,lt){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var yt=b;b=Y;try{return lt()}finally{b=yt}},r.unstable_scheduleCallback=function(Y,lt,yt){var xt=r.unstable_now();switch(typeof yt=="object"&&yt!==null?(yt=yt.delay,yt=typeof yt=="number"&&0<yt?xt+yt:xt):yt=xt,Y){case 1:var Qt=-1;break;case 2:Qt=250;break;case 5:Qt=1073741823;break;case 4:Qt=1e4;break;default:Qt=5e3}return Qt=yt+Qt,Y={id:E++,callback:lt,priorityLevel:Y,startTime:yt,expirationTime:Qt,sortIndex:-1},yt>xt?(Y.sortIndex=yt,t(y,Y),n(p)===null&&Y===n(y)&&(J?(at(C),C=-1):J=!0,pe(wt,yt-xt))):(Y.sortIndex=Qt,t(p,Y),K||P||(K=!0,it||(it=!0,L()))),Y},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(Y){var lt=b;return function(){var yt=b;b=lt;try{return Y.apply(this,arguments)}finally{b=yt}}}})(pm)),pm}var jv;function aw(){return jv||(jv=1,mm.exports=sw()),mm.exports}var gm={exports:{}},Ze={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function ow(){if(Bv)return Ze;Bv=1;var r=hp();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ze.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(p,y,null,E)},Ze.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Ze.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Ze.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ze.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin),b=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:P}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ze.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Ze.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ze.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Ze.requestFormReset=function(p){s.d.r(p)},Ze.unstable_batchedUpdates=function(p,y){return p(y)},Ze.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Ze.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ze.version="19.2.0",Ze}var qv;function lw(){if(qv)return gm.exports;qv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),gm.exports=ow(),gm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function uw(){if(Hv)return Ml;Hv=1;var r=aw(),t=hp(),n=lw();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),e;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),rt=Symbol.for("react.profiler"),at=Symbol.for("react.consumer"),st=Symbol.for("react.context"),vt=Symbol.for("react.forward_ref"),wt=Symbol.for("react.suspense"),it=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function Zt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case rt:return"Profiler";case F:return"StrictMode";case wt:return"Suspense";case it:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case K:return"Portal";case st:return e.displayName||"Context";case at:return(e._context.displayName||"Context")+".Consumer";case vt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return i=e.displayName||null,i!==null?i:Zt(e.type)||"Memo";case R:i=e._payload,e=e._init;try{return Zt(e(i))}catch{}}return null}var pe=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt={pending:!1,data:null,method:null,action:null},xt=[],Qt=-1;function x(e){return{current:e}}function W(e){0>Qt||(e.current=xt[Qt],xt[Qt]=null,Qt--)}function ut(e,i){Qt++,xt[Qt]=e.current,e.current=i}var q=x(null),tt=x(null),ht=x(null),ft=x(null);function Ct(e,i){switch(ut(ht,i),ut(tt,e),ut(q,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?iv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=iv(i),e=rv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(q),ut(q,e)}function Ot(){W(q),W(tt),W(ht)}function Bt(e){e.memoizedState!==null&&ut(ft,e);var i=q.current,a=rv(i,e.type);i!==a&&(ut(tt,e),ut(q,a))}function Fn(e){tt.current===e&&(W(q),W(tt)),ft.current===e&&(W(ft),Cl._currentValue=yt)}var ui,pr;function ci(e){if(ui===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ui=i&&i[1]||"",pr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ui+e+pr}var Co=!1;function Ts(e,i){if(!e||Co)return"";Co=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(G){var B=G}Reflect.construct(e,[],et)}else{try{et.call()}catch(G){B=G}e.call(et.prototype)}}else{try{throw Error()}catch(G){B=G}(et=e())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(G){if(G&&B&&typeof G.stack=="string")return[G.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var D=_.split(`
`),j=S.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===j.length)for(l=D.length-1,h=j.length-1;1<=l&&0<=h&&D[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==j[h]){var $=`
`+D[l].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=l&&0<=h);break}}}finally{Co=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ci(a):""}function Io(e,i){switch(e.tag){case 26:case 27:case 5:return ci(e.type);case 16:return ci("Lazy");case 13:return e.child!==i&&i!==null?ci("Suspense Fallback"):ci("Suspense");case 19:return ci("SuspenseList");case 0:case 15:return Ts(e.type,!1);case 11:return Ts(e.type.render,!1);case 1:return Ts(e.type,!0);case 31:return ci("Activity");default:return""}}function No(e){try{var i="",a=null;do i+=Io(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Te=Object.prototype.hasOwnProperty,Ve=r.unstable_scheduleCallback,gr=r.unstable_cancelCallback,df=r.unstable_shouldYield,Tu=r.unstable_requestPaint,nn=r.unstable_now,Ss=r.unstable_getCurrentPriorityLevel,Do=r.unstable_ImmediatePriority,Oo=r.unstable_UserBlockingPriority,yr=r.unstable_NormalPriority,mf=r.unstable_LowPriority,Su=r.unstable_IdlePriority,Au=r.log,bu=r.unstable_setDisableYieldValue,Gn=null,Be=null;function Dn(e){if(typeof Au=="function"&&bu(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Gn,e)}catch{}}var ge=Math.clz32?Math.clz32:Ru,wu=Math.log,ua=Math.LN2;function Ru(e){return e>>>=0,e===0?32:31-(wu(e)/ua|0)|0}var hi=256,As=262144,Se=4194304;function fi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function di(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=fi(l):(_&=S,_!==0?h=fi(_):a||(a=S&~e,a!==0&&(h=fi(a))))):(S=l&~d,S!==0?h=fi(S):_!==0?h=fi(_):a||(a=l&~e,a!==0&&(h=fi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Qn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function pf(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cu(){var e=Se;return Se<<=1,(Se&62914560)===0&&(Se=4194304),e}function mi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function bs(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function gf(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,D=e.expirationTimes,j=e.hiddenUpdates;for(a=_&~a;0<a;){var $=31-ge(a),et=1<<$;S[$]=0,D[$]=-1;var B=j[$];if(B!==null)for(j[$]=null,$=0;$<B.length;$++){var G=B[$];G!==null&&(G.lane&=-536870913)}a&=~et}l!==0&&ws(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function ws(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-ge(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Mo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-ge(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Vo(e,i){var a=i&-i;return a=(a&42)!==0?1:Rs(a),(a&(e.suspendedLanes|i))!==0?0:a}function Rs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ji(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Iu(){var e=lt.p;return e!==0?e:(e=window.event,e===void 0?32:Cv(e.type))}function Kn(e,i){var a=lt.p;try{return lt.p=e,i()}finally{lt.p=a}}var Yn=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Yn,Le="__reactProps$"+Yn,pi="__reactContainer$"+Yn,ca="__reactEvents$"+Yn,yf="__reactListeners$"+Yn,Nu="__reactHandles$"+Yn,Du="__reactResources$"+Yn,gi="__reactMarker$"+Yn;function ha(e){delete e[Ae],delete e[Le],delete e[ca],delete e[yf],delete e[Nu]}function yi(e){var i=e[Ae];if(i)return i;for(var a=e.parentNode;a;){if(i=a[pi]||a[Ae]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=hv(e);e!==null;){if(a=e[Ae])return a;e=hv(e)}return i}e=a,a=e.parentNode}return null}function On(e){if(e=e[Ae]||e[pi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function _n(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function _i(e){var i=e[Du];return i||(i=e[Du]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function be(e){e[gi]=!0}var xo=new Set,Po={};function vi(e,i){Ei(e,i),Ei(e+"Capture",i)}function Ei(e,i){for(Po[e]=i,e=0;e<i.length;e++)xo.add(i[e])}var Lo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uo={},ko={};function Ou(e){return Te.call(ko,e)?!0:Te.call(Uo,e)?!1:Lo.test(e)?ko[e]=!0:(Uo[e]=!0,!1)}function fa(e,i,a){if(Ou(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function vn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function we(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _r(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function zo(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function $t(e){if(!e._valueTracker){var i=_r(e)?"checked":"value";e._valueTracker=zo(e,i,""+e[i])}}function Cs(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=_r(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function Ti(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Is=/[\n"\\]/g;function cn(e){return e.replace(Is,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function da(e,i,a,l,h,d,_,S){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ue(i)):e.value!==""+Ue(i)&&(e.value=""+Ue(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?jo(e,_,Ue(i)):a!=null?jo(e,_,Ue(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Ue(S):e.removeAttribute("name")}function Mu(e,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){$t(e);return}a=a!=null?""+Ue(a):"",i=i!=null?""+Ue(i):a,S||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),$t(e)}function jo(e,i,a){i==="number"&&Ti(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function vr(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ue(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Vu(e,i,a){if(i!=null&&(i=""+Ue(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Ue(a):""}function Er(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(pe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ue(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),$t(e)}function hn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var xu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||xu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function qo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Bo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Bo(e,d,i[d])}function ma(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(e){return Tr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $n(){}var Ho=null;function Mn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sr=null,Si=null;function Ns(e){var i=On(e);if(i&&(e=i.stateNode)){var a=e[Le]||null;t:switch(e=i.stateNode,i.type){case"input":if(da(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+cn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Le]||null;if(!h)throw Error(s(90));da(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Cs(l)}break t;case"textarea":Vu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&vr(e,!!a.multiple,i,!1)}}}var ga=!1;function Ar(e,i,a){if(ga)return e(i,a);ga=!0;try{var l=e(i);return l}finally{if(ga=!1,(Sr!==null||Si!==null)&&(Ic(),Sr&&(i=Sr,e=Si,Si=Sr=null,Ns(i),e)))for(i=0;i<e.length;i++)Ns(e[i])}}function Xn(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Le]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ds=!1;if(Vn)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){Ds=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch{Ds=!1}var Ai=null,Fo=null,Os=null;function Go(){if(Os)return Os;var e,i=Fo,a=i.length,l,h="value"in Ai?Ai.value:Ai.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Os=h.slice(e,1<l?1-l:void 0)}function Ms(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Bi(){return!0}function Jn(){return!1}function qe(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Bi:Jn,this.isPropagationStopped=Jn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),i}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=qe(qi),br=T({},qi,{view:0,detail:0}),Qo=qe(br),wr,ya,wi,_a=T({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wi&&(wi&&e.type==="mousemove"?(wr=e.screenX-wi.screenX,ya=e.screenY-wi.screenY):ya=wr=0,wi=e),wr)},movementY:function(e){return"movementY"in e?e.movementY:ya}}),Ko=qe(_a),Vs=T({},_a,{dataTransfer:0}),Lu=qe(Vs),Uu=T({},br,{relatedTarget:0}),xs=qe(Uu),Yo=T({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),ku=qe(Yo),va=T({},qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zu=qe(va),ju=T({},qi,{data:0}),Ri=qe(ju),Bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Hu[e])?!!i[e]:!1}function Rr(){return Fu}var rn=T({},br,{key:function(e){if(e.key){var i=Bu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ms(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rr,charCode:function(e){return e.type==="keypress"?Ms(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ms(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gu=qe(rn),Qu=T({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hi=qe(Qu),c=T({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rr}),g=qe(c),v=T({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=qe(v),k=T({},_a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H=qe(k),ot=T({},qi,{newState:0,oldState:0}),It=qe(ot),ye=[9,13,27,32],Kt=Vn&&"CompositionEvent"in window,le=null;Vn&&"documentMode"in document&&(le=document.documentMode);var xn=Vn&&"TextEvent"in window&&!le,Ci=Vn&&(!Kt||le&&8<le&&11>=le),Zn=" ",Wn=!1;function Ps(e,i){switch(e){case"keyup":return ye.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ta=!1;function AA(e,i){switch(e){case"compositionend":return Ea(i);case"keypress":return i.which!==32?null:(Wn=!0,Zn);case"textInput":return e=i.data,e===Zn&&Wn?null:e;default:return null}}function bA(e,i){if(Ta)return e==="compositionend"||!Kt&&Ps(e,i)?(e=Go(),Os=Fo=Ai=null,Ta=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ci&&i.locale!=="ko"?null:i.data;default:return null}}var wA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mg(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!wA[e.type]:i==="textarea"}function pg(e,i,a,l){Sr?Si?Si.push(l):Si=[l]:Sr=l,i=Pc(i,"onChange"),0<i.length&&(a=new bi("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var $o=null,Xo=null;function RA(e){J_(e,0)}function Ku(e){var i=_n(e);if(Cs(i))return e}function gg(e,i){if(e==="change")return i}var yg=!1;if(Vn){var _f;if(Vn){var vf="oninput"in document;if(!vf){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),vf=typeof _g.oninput=="function"}_f=vf}else _f=!1;yg=_f&&(!document.documentMode||9<document.documentMode)}function vg(){$o&&($o.detachEvent("onpropertychange",Eg),Xo=$o=null)}function Eg(e){if(e.propertyName==="value"&&Ku(Xo)){var i=[];pg(i,Xo,e,Mn(e)),Ar(RA,i)}}function CA(e,i,a){e==="focusin"?(vg(),$o=i,Xo=a,$o.attachEvent("onpropertychange",Eg)):e==="focusout"&&vg()}function IA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ku(Xo)}function NA(e,i){if(e==="click")return Ku(i)}function DA(e,i){if(e==="input"||e==="change")return Ku(i)}function OA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var En=typeof Object.is=="function"?Object.is:OA;function Jo(e,i){if(En(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Te.call(i,h)||!En(e[h],i[h]))return!1}return!0}function Tg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sg(e,i){var a=Tg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Tg(a)}}function Ag(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Ag(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function bg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Ti(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Ti(e.document)}return i}function Ef(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var MA=Vn&&"documentMode"in document&&11>=document.documentMode,Sa=null,Tf=null,Zo=null,Sf=!1;function wg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Sf||Sa==null||Sa!==Ti(l)||(l=Sa,"selectionStart"in l&&Ef(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Zo&&Jo(Zo,l)||(Zo=l,l=Pc(Tf,"onSelect"),0<l.length&&(i=new bi("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Sa)))}function Ls(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Aa={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionrun:Ls("Transition","TransitionRun"),transitionstart:Ls("Transition","TransitionStart"),transitioncancel:Ls("Transition","TransitionCancel"),transitionend:Ls("Transition","TransitionEnd")},Af={},Rg={};Vn&&(Rg=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Us(e){if(Af[e])return Af[e];if(!Aa[e])return e;var i=Aa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Rg)return Af[e]=i[a];return e}var Cg=Us("animationend"),Ig=Us("animationiteration"),Ng=Us("animationstart"),VA=Us("transitionrun"),xA=Us("transitionstart"),PA=Us("transitioncancel"),Dg=Us("transitionend"),Og=new Map,bf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bf.push("scrollEnd");function ti(e,i){Og.set(e,i),vi(i,[e])}var Yu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Pn=[],ba=0,wf=0;function $u(){for(var e=ba,i=wf=ba=0;i<e;){var a=Pn[i];Pn[i++]=null;var l=Pn[i];Pn[i++]=null;var h=Pn[i];Pn[i++]=null;var d=Pn[i];if(Pn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Mg(a,h,d)}}function Xu(e,i,a,l){Pn[ba++]=e,Pn[ba++]=i,Pn[ba++]=a,Pn[ba++]=l,wf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Rf(e,i,a,l){return Xu(e,i,a,l),Ju(e)}function ks(e,i){return Xu(e,null,null,i),Ju(e)}function Mg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-ge(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Ju(e){if(50<El)throw El=0,Pd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var wa={};function LA(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(e,i,a,l){return new LA(e,i,a,l)}function Cf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fi(e,i){var a=e.alternate;return a===null?(a=Tn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Vg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Zu(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")Cf(e)&&(_=1);else if(typeof e=="string")_=Bb(e,a,q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=Tn(31,a,i,h),e.elementType=w,e.lanes=d,e;case J:return zs(a.children,h,d,i);case F:_=8,h|=24;break;case rt:return e=Tn(12,a,i,h|2),e.elementType=rt,e.lanes=d,e;case wt:return e=Tn(13,a,i,h),e.elementType=wt,e.lanes=d,e;case it:return e=Tn(19,a,i,h),e.elementType=it,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case st:_=10;break t;case at:_=9;break t;case vt:_=11;break t;case C:_=14;break t;case R:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=Tn(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function zs(e,i,a,l){return e=Tn(7,e,l,i),e.lanes=a,e}function If(e,i,a){return e=Tn(6,e,null,i),e.lanes=a,e}function xg(e){var i=Tn(18,null,null,0);return i.stateNode=e,i}function Nf(e,i,a){return i=Tn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Pg=new WeakMap;function Ln(e,i){if(typeof e=="object"&&e!==null){var a=Pg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:No(i)},Pg.set(e,i),i)}return{value:e,source:i,stack:No(i)}}var Ra=[],Ca=0,Wu=null,Wo=0,Un=[],kn=0,Cr=null,Ii=1,Ni="";function Gi(e,i){Ra[Ca++]=Wo,Ra[Ca++]=Wu,Wu=e,Wo=i}function Lg(e,i,a){Un[kn++]=Ii,Un[kn++]=Ni,Un[kn++]=Cr,Cr=e;var l=Ii;e=Ni;var h=32-ge(l)-1;l&=~(1<<h),a+=1;var d=32-ge(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ii=1<<32-ge(i)+h|a<<h|l,Ni=d+e}else Ii=1<<d|a<<h|l,Ni=e}function Df(e){e.return!==null&&(Gi(e,1),Lg(e,1,0))}function Of(e){for(;e===Wu;)Wu=Ra[--Ca],Ra[Ca]=null,Wo=Ra[--Ca],Ra[Ca]=null;for(;e===Cr;)Cr=Un[--kn],Un[kn]=null,Ni=Un[--kn],Un[kn]=null,Ii=Un[--kn],Un[kn]=null}function Ug(e,i){Un[kn++]=Ii,Un[kn++]=Ni,Un[kn++]=Cr,Ii=i.id,Ni=i.overflow,Cr=e}var He=null,ae=null,jt=!1,Ir=null,zn=!1,Mf=Error(s(519));function Nr(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tl(Ln(i,e)),Mf}function kg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Ae]=e,i[Le]=l,a){case"dialog":Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":case"embed":Vt("load",i);break;case"video":case"audio":for(a=0;a<Sl.length;a++)Vt(Sl[a],i);break;case"source":Vt("error",i);break;case"img":case"image":case"link":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"input":Vt("invalid",i),Mu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Vt("invalid",i);break;case"textarea":Vt("invalid",i),Er(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||ev(i.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",i),Vt("toggle",i)),l.onScroll!=null&&Vt("scroll",i),l.onScrollEnd!=null&&Vt("scrollend",i),l.onClick!=null&&(i.onclick=$n),i=!0):i=!1,i||Nr(e,!0)}function zg(e){for(He=e.return;He;)switch(He.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:He=He.return}}function Ia(e){if(e!==He)return!1;if(!jt)return zg(e),jt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Xd(e.type,e.memoizedProps)),a=!a),a&&ae&&Nr(e),zg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ae=cv(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ae=cv(e)}else i===27?(i=ae,Hr(e.type)?(e=em,em=null,ae=e):ae=i):ae=He?Bn(e.stateNode.nextSibling):null;return!0}function js(){ae=He=null,jt=!1}function Vf(){var e=Ir;return e!==null&&(pn===null?pn=e:pn.push.apply(pn,e),Ir=null),e}function tl(e){Ir===null?Ir=[e]:Ir.push(e)}var xf=x(null),Bs=null,Qi=null;function Dr(e,i,a){ut(xf,i._currentValue),i._currentValue=a}function Ki(e){e._currentValue=xf.current,W(xf)}function Pf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Lf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var S=d;d=h;for(var D=0;D<i.length;D++)if(S.context===i[D]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Pf(d.return,a,e),l||(_=null);break t}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Pf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Na(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;En(h.pendingProps.value,_.value)||(e!==null?e.push(S):e=[S])}}else if(h===ft.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Cl):e=[Cl])}h=h.return}e!==null&&Lf(i,e,a,l),i.flags|=262144}function tc(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function qs(e){Bs=e,Qi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return jg(Bs,e)}function ec(e,i){return Bs===null&&qs(e),jg(e,i)}function jg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Qi===null){if(e===null)throw Error(s(308));Qi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Qi=Qi.next=i;return a}var UA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},kA=r.unstable_scheduleCallback,zA=r.unstable_NormalPriority,Re={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uf(){return{controller:new UA,data:new Map,refCount:0}}function el(e){e.refCount--,e.refCount===0&&kA(zA,function(){e.controller.abort()})}var nl=null,kf=0,Da=0,Oa=null;function jA(e,i){if(nl===null){var a=nl=[];kf=0,Da=Bd(),Oa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return kf++,i.then(Bg,Bg),i}function Bg(){if(--kf===0&&nl!==null){Oa!==null&&(Oa.status="fulfilled");var e=nl;nl=null,Da=0,Oa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function BA(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var qg=Y.S;Y.S=function(e,i){w_=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&jA(e,i),qg!==null&&qg(e,i)};var Hs=x(null);function zf(){var e=Hs.current;return e!==null?e:re.pooledCache}function nc(e,i){i===null?ut(Hs,Hs.current):ut(Hs,i.pool)}function Hg(){var e=zf();return e===null?null:{parent:Re._currentValue,pool:e}}var Ma=Error(s(460)),jf=Error(s(474)),ic=Error(s(542)),rc={then:function(){}};function Fg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then($n,$n),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Kg(e),e;default:if(typeof i.status=="string")i.then($n,$n);else{if(e=re,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Kg(e),e}throw Gs=i,Ma}}function Fs(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Gs=a,Ma):a}}var Gs=null;function Qg(){if(Gs===null)throw Error(s(459));var e=Gs;return Gs=null,e}function Kg(e){if(e===Ma||e===ic)throw Error(s(483))}var Va=null,il=0;function sc(e){var i=il;return il+=1,Va===null&&(Va=[]),Gg(Va,e,i)}function rl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function ac(e,i){throw i.$$typeof===b?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Yg(e){function i(U,V){if(e){var z=U.deletions;z===null?(U.deletions=[V],U.flags|=16):z.push(V)}}function a(U,V){if(!e)return null;for(;V!==null;)i(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function h(U,V){return U=Fi(U,V),U.index=0,U.sibling=null,U}function d(U,V,z){return U.index=z,e?(z=U.alternate,z!==null?(z=z.index,z<V?(U.flags|=67108866,V):z):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function _(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function S(U,V,z,Z){return V===null||V.tag!==6?(V=If(z,U.mode,Z),V.return=U,V):(V=h(V,z),V.return=U,V)}function D(U,V,z,Z){var _t=z.type;return _t===J?$(U,V,z.props.children,Z,z.key):V!==null&&(V.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===R&&Fs(_t)===V.type)?(V=h(V,z.props),rl(V,z),V.return=U,V):(V=Zu(z.type,z.key,z.props,null,U.mode,Z),rl(V,z),V.return=U,V)}function j(U,V,z,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=Nf(z,U.mode,Z),V.return=U,V):(V=h(V,z.children||[]),V.return=U,V)}function $(U,V,z,Z,_t){return V===null||V.tag!==7?(V=zs(z,U.mode,Z,_t),V.return=U,V):(V=h(V,z),V.return=U,V)}function et(U,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=If(""+V,U.mode,z),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case P:return z=Zu(V.type,V.key,V.props,null,U.mode,z),rl(z,V),z.return=U,z;case K:return V=Nf(V,U.mode,z),V.return=U,V;case R:return V=Fs(V),et(U,V,z)}if(pe(V)||L(V))return V=zs(V,U.mode,z,null),V.return=U,V;if(typeof V.then=="function")return et(U,sc(V),z);if(V.$$typeof===st)return et(U,ec(U,V),z);ac(U,V)}return null}function B(U,V,z,Z){var _t=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return _t!==null?null:S(U,V,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case P:return z.key===_t?D(U,V,z,Z):null;case K:return z.key===_t?j(U,V,z,Z):null;case R:return z=Fs(z),B(U,V,z,Z)}if(pe(z)||L(z))return _t!==null?null:$(U,V,z,Z,null);if(typeof z.then=="function")return B(U,V,sc(z),Z);if(z.$$typeof===st)return B(U,V,ec(U,z),Z);ac(U,z)}return null}function G(U,V,z,Z,_t){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(z)||null,S(V,U,""+Z,_t);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case P:return U=U.get(Z.key===null?z:Z.key)||null,D(V,U,Z,_t);case K:return U=U.get(Z.key===null?z:Z.key)||null,j(V,U,Z,_t);case R:return Z=Fs(Z),G(U,V,z,Z,_t)}if(pe(Z)||L(Z))return U=U.get(z)||null,$(V,U,Z,_t,null);if(typeof Z.then=="function")return G(U,V,z,sc(Z),_t);if(Z.$$typeof===st)return G(U,V,z,ec(V,Z),_t);ac(V,Z)}return null}function mt(U,V,z,Z){for(var _t=null,Ft=null,pt=V,Dt=V=0,Lt=null;pt!==null&&Dt<z.length;Dt++){pt.index>Dt?(Lt=pt,pt=null):Lt=pt.sibling;var Gt=B(U,pt,z[Dt],Z);if(Gt===null){pt===null&&(pt=Lt);break}e&&pt&&Gt.alternate===null&&i(U,pt),V=d(Gt,V,Dt),Ft===null?_t=Gt:Ft.sibling=Gt,Ft=Gt,pt=Lt}if(Dt===z.length)return a(U,pt),jt&&Gi(U,Dt),_t;if(pt===null){for(;Dt<z.length;Dt++)pt=et(U,z[Dt],Z),pt!==null&&(V=d(pt,V,Dt),Ft===null?_t=pt:Ft.sibling=pt,Ft=pt);return jt&&Gi(U,Dt),_t}for(pt=l(pt);Dt<z.length;Dt++)Lt=G(pt,U,Dt,z[Dt],Z),Lt!==null&&(e&&Lt.alternate!==null&&pt.delete(Lt.key===null?Dt:Lt.key),V=d(Lt,V,Dt),Ft===null?_t=Lt:Ft.sibling=Lt,Ft=Lt);return e&&pt.forEach(function(Yr){return i(U,Yr)}),jt&&Gi(U,Dt),_t}function Tt(U,V,z,Z){if(z==null)throw Error(s(151));for(var _t=null,Ft=null,pt=V,Dt=V=0,Lt=null,Gt=z.next();pt!==null&&!Gt.done;Dt++,Gt=z.next()){pt.index>Dt?(Lt=pt,pt=null):Lt=pt.sibling;var Yr=B(U,pt,Gt.value,Z);if(Yr===null){pt===null&&(pt=Lt);break}e&&pt&&Yr.alternate===null&&i(U,pt),V=d(Yr,V,Dt),Ft===null?_t=Yr:Ft.sibling=Yr,Ft=Yr,pt=Lt}if(Gt.done)return a(U,pt),jt&&Gi(U,Dt),_t;if(pt===null){for(;!Gt.done;Dt++,Gt=z.next())Gt=et(U,Gt.value,Z),Gt!==null&&(V=d(Gt,V,Dt),Ft===null?_t=Gt:Ft.sibling=Gt,Ft=Gt);return jt&&Gi(U,Dt),_t}for(pt=l(pt);!Gt.done;Dt++,Gt=z.next())Gt=G(pt,U,Dt,Gt.value,Z),Gt!==null&&(e&&Gt.alternate!==null&&pt.delete(Gt.key===null?Dt:Gt.key),V=d(Gt,V,Dt),Ft===null?_t=Gt:Ft.sibling=Gt,Ft=Gt);return e&&pt.forEach(function(Zb){return i(U,Zb)}),jt&&Gi(U,Dt),_t}function ne(U,V,z,Z){if(typeof z=="object"&&z!==null&&z.type===J&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case P:t:{for(var _t=z.key;V!==null;){if(V.key===_t){if(_t=z.type,_t===J){if(V.tag===7){a(U,V.sibling),Z=h(V,z.props.children),Z.return=U,U=Z;break t}}else if(V.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===R&&Fs(_t)===V.type){a(U,V.sibling),Z=h(V,z.props),rl(Z,z),Z.return=U,U=Z;break t}a(U,V);break}else i(U,V);V=V.sibling}z.type===J?(Z=zs(z.props.children,U.mode,Z,z.key),Z.return=U,U=Z):(Z=Zu(z.type,z.key,z.props,null,U.mode,Z),rl(Z,z),Z.return=U,U=Z)}return _(U);case K:t:{for(_t=z.key;V!==null;){if(V.key===_t)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){a(U,V.sibling),Z=h(V,z.children||[]),Z.return=U,U=Z;break t}else{a(U,V);break}else i(U,V);V=V.sibling}Z=Nf(z,U.mode,Z),Z.return=U,U=Z}return _(U);case R:return z=Fs(z),ne(U,V,z,Z)}if(pe(z))return mt(U,V,z,Z);if(L(z)){if(_t=L(z),typeof _t!="function")throw Error(s(150));return z=_t.call(z),Tt(U,V,z,Z)}if(typeof z.then=="function")return ne(U,V,sc(z),Z);if(z.$$typeof===st)return ne(U,V,ec(U,z),Z);ac(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(a(U,V.sibling),Z=h(V,z),Z.return=U,U=Z):(a(U,V),Z=If(z,U.mode,Z),Z.return=U,U=Z),_(U)):a(U,V)}return function(U,V,z,Z){try{il=0;var _t=ne(U,V,z,Z);return Va=null,_t}catch(pt){if(pt===Ma||pt===ic)throw pt;var Ft=Tn(29,pt,null,U.mode);return Ft.lanes=Z,Ft.return=U,Ft}finally{}}}var Qs=Yg(!0),$g=Yg(!1),Or=!1;function Bf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Mr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Vr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Yt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Ju(e),Mg(e,null,a),i}return Xu(e,l,i,a),Ju(e)}function sl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Mo(e,a)}}function Hf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Ff=!1;function al(){if(Ff){var e=Oa;if(e!==null)throw e}}function ol(e,i,a,l){Ff=!1;var h=e.updateQueue;Or=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var D=S,j=D.next;D.next=null,_===null?d=j:_.next=j,_=D;var $=e.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==_&&(S===null?$.firstBaseUpdate=j:S.next=j,$.lastBaseUpdate=D))}if(d!==null){var et=h.baseState;_=0,$=j=D=null,S=d;do{var B=S.lane&-536870913,G=B!==S.lane;if(G?(Pt&B)===B:(l&B)===B){B!==0&&B===Da&&(Ff=!0),$!==null&&($=$.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var mt=e,Tt=S;B=i;var ne=a;switch(Tt.tag){case 1:if(mt=Tt.payload,typeof mt=="function"){et=mt.call(ne,et,B);break t}et=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=Tt.payload,B=typeof mt=="function"?mt.call(ne,et,B):mt,B==null)break t;et=T({},et,B);break t;case 2:Or=!0}}B=S.callback,B!==null&&(e.flags|=64,G&&(e.flags|=8192),G=h.callbacks,G===null?h.callbacks=[B]:G.push(B))}else G={lane:B,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(j=$=G,D=et):$=$.next=G,_|=B;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;G=S,S=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);$===null&&(D=et),h.baseState=D,h.firstBaseUpdate=j,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),kr|=_,e.lanes=_,e.memoizedState=et}}function Xg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Jg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Xg(a[e],i)}var xa=x(null),oc=x(0);function Zg(e,i){e=nr,ut(oc,e),ut(xa,i),nr=e|i.baseLanes}function Gf(){ut(oc,nr),ut(xa,xa.current)}function Qf(){nr=oc.current,W(xa),W(oc)}var Sn=x(null),jn=null;function xr(e){var i=e.alternate;ut(_e,_e.current&1),ut(Sn,e),jn===null&&(i===null||xa.current!==null||i.memoizedState!==null)&&(jn=e)}function Kf(e){ut(_e,_e.current),ut(Sn,e),jn===null&&(jn=e)}function Wg(e){e.tag===22?(ut(_e,_e.current),ut(Sn,e),jn===null&&(jn=e)):Pr()}function Pr(){ut(_e,_e.current),ut(Sn,Sn.current)}function An(e){W(Sn),jn===e&&(jn=null),W(_e)}var _e=x(0);function lc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Wd(a)||tm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Yi=0,Nt=null,te=null,Ce=null,uc=!1,Pa=!1,Ks=!1,cc=0,ll=0,La=null,qA=0;function fe(){throw Error(s(321))}function Yf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!En(e[a],i[a]))return!1;return!0}function $f(e,i,a,l,h,d){return Yi=d,Nt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=e===null||e.memoizedState===null?Ly:cd,Ks=!1,d=a(l,h),Ks=!1,Pa&&(d=ey(i,a,l,h)),ty(e),d}function ty(e){Y.H=hl;var i=te!==null&&te.next!==null;if(Yi=0,Ce=te=Nt=null,uc=!1,ll=0,La=null,i)throw Error(s(300));e===null||Ie||(e=e.dependencies,e!==null&&tc(e)&&(Ie=!0))}function ey(e,i,a,l){Nt=e;var h=0;do{if(Pa&&(La=null),ll=0,Pa=!1,25<=h)throw Error(s(301));if(h+=1,Ce=te=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=Uy,d=i(a,l)}while(Pa);return d}function HA(){var e=Y.H,i=e.useState()[0];return i=typeof i.then=="function"?ul(i):i,e=e.useState()[0],(te!==null?te.memoizedState:null)!==e&&(Nt.flags|=1024),i}function Xf(){var e=cc!==0;return cc=0,e}function Jf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Zf(e){if(uc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}uc=!1}Yi=0,Ce=te=Nt=null,Pa=!1,ll=cc=0,La=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?Nt.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function ve(){if(te===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=te.next;var i=Ce===null?Nt.memoizedState:Ce.next;if(i!==null)Ce=i,te=e;else{if(e===null)throw Nt.alternate===null?Error(s(467)):Error(s(310));te=e,e={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Ce===null?Nt.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function hc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(e){var i=ll;return ll+=1,La===null&&(La=[]),e=Gg(La,e,i),i=Nt,(Ce===null?i.memoizedState:Ce.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?Ly:cd),e}function fc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ul(e);if(e.$$typeof===st)return Fe(e)}throw Error(s(438,String(e)))}function Wf(e){var i=null,a=Nt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Nt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=hc(),Nt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=O;return i.index++,a}function $i(e,i){return typeof i=="function"?i(e):i}function dc(e){var i=ve();return td(i,te,e)}function td(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var S=_=null,D=null,j=i,$=!1;do{var et=j.lane&-536870913;if(et!==j.lane?(Pt&et)===et:(Yi&et)===et){var B=j.revertLane;if(B===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),et===Da&&($=!0);else if((Yi&B)===B){j=j.next,B===Da&&($=!0);continue}else et={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(S=D=et,_=d):D=D.next=et,Nt.lanes|=B,kr|=B;et=j.action,Ks&&a(d,et),d=j.hasEagerState?j.eagerState:a(d,et)}else B={lane:et,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(S=D=B,_=d):D=D.next=B,Nt.lanes|=et,kr|=et;j=j.next}while(j!==null&&j!==i);if(D===null?_=d:D.next=S,!En(d,e.memoizedState)&&(Ie=!0,$&&(a=Oa,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function ed(e){var i=ve(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);En(d,i.memoizedState)||(Ie=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function ny(e,i,a){var l=Nt,h=ve(),d=jt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!En((te||h).memoizedState,a);if(_&&(h.memoizedState=a,Ie=!0),h=h.queue,rd(sy.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||Ce!==null&&Ce.memoizedState.tag&1){if(l.flags|=2048,Ua(9,{destroy:void 0},ry.bind(null,l,h,a,i),null),re===null)throw Error(s(349));d||(Yi&127)!==0||iy(l,i,a)}return a}function iy(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Nt.updateQueue,i===null?(i=hc(),Nt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function ry(e,i,a,l){i.value=a,i.getSnapshot=l,ay(i)&&oy(e)}function sy(e,i,a){return a(function(){ay(i)&&oy(e)})}function ay(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!En(e,a)}catch{return!0}}function oy(e){var i=ks(e,2);i!==null&&gn(i,e,2)}function nd(e){var i=sn();if(typeof e=="function"){var a=e;if(e=a(),Ks){Dn(!0);try{a()}finally{Dn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:e},i}function ly(e,i,a,l){return e.baseState=a,td(e,te,typeof l=="function"?l:$i)}function FA(e,i,a,l,h){if(gc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,uy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function uy(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=Y.T,_={};Y.T=_;try{var S=a(h,l),D=Y.S;D!==null&&D(_,S),cy(e,i,S)}catch(j){id(e,i,j)}finally{d!==null&&_.types!==null&&(d.types=_.types),Y.T=d}}else try{d=a(h,l),cy(e,i,d)}catch(j){id(e,i,j)}}function cy(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){hy(e,i,l)},function(l){return id(e,i,l)}):hy(e,i,a)}function hy(e,i,a){i.status="fulfilled",i.value=a,fy(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,uy(e,a)))}function id(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,fy(i),i=i.next;while(i!==l)}e.action=null}function fy(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function dy(e,i){return i}function my(e,i){if(jt){var a=re.formState;if(a!==null){t:{var l=Nt;if(jt){if(ae){e:{for(var h=ae,d=zn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Bn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ae=Bn(h.nextSibling),l=h.data==="F!";break t}}Nr(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dy,lastRenderedState:i},a.queue=l,a=Vy.bind(null,Nt,l),l.dispatch=a,l=nd(!1),d=ud.bind(null,Nt,!1,l.queue),l=sn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=FA.bind(null,Nt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function py(e){var i=ve();return gy(i,te,e)}function gy(e,i,a){if(i=td(e,i,dy)[0],e=dc($i)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ul(i)}catch(_){throw _===Ma?ic:_}else l=i;i=ve();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Nt.flags|=2048,Ua(9,{destroy:void 0},GA.bind(null,h,a),null)),[l,d,e]}function GA(e,i){e.action=i}function yy(e){var i=ve(),a=te;if(a!==null)return gy(i,a,e);ve(),i=i.memoizedState,a=ve();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ua(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Nt.updateQueue,i===null&&(i=hc(),Nt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function _y(){return ve().memoizedState}function mc(e,i,a,l){var h=sn();Nt.flags|=e,h.memoizedState=Ua(1|i,{destroy:void 0},a,l===void 0?null:l)}function pc(e,i,a,l){var h=ve();l=l===void 0?null:l;var d=h.memoizedState.inst;te!==null&&l!==null&&Yf(l,te.memoizedState.deps)?h.memoizedState=Ua(i,d,a,l):(Nt.flags|=e,h.memoizedState=Ua(1|i,d,a,l))}function vy(e,i){mc(8390656,8,e,i)}function rd(e,i){pc(2048,8,e,i)}function QA(e){Nt.flags|=4;var i=Nt.updateQueue;if(i===null)i=hc(),Nt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Ey(e){var i=ve().memoizedState;return QA({ref:i,nextImpl:e}),function(){if((Yt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Ty(e,i){return pc(4,2,e,i)}function Sy(e,i){return pc(4,4,e,i)}function Ay(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function by(e,i,a){a=a!=null?a.concat([e]):null,pc(4,4,Ay.bind(null,i,e),a)}function sd(){}function wy(e,i){var a=ve();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Yf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Ry(e,i){var a=ve();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Yf(i,l[1]))return l[0];if(l=e(),Ks){Dn(!0);try{e()}finally{Dn(!1)}}return a.memoizedState=[l,i],l}function ad(e,i,a){return a===void 0||(Yi&1073741824)!==0&&(Pt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=C_(),Nt.lanes|=e,kr|=e,a)}function Cy(e,i,a,l){return En(a,i)?a:xa.current!==null?(e=ad(e,a,l),En(e,i)||(Ie=!0),e):(Yi&42)===0||(Yi&1073741824)!==0&&(Pt&261930)===0?(Ie=!0,e.memoizedState=a):(e=C_(),Nt.lanes|=e,kr|=e,i)}function Iy(e,i,a,l,h){var d=lt.p;lt.p=d!==0&&8>d?d:8;var _=Y.T,S={};Y.T=S,ud(e,!1,i,a);try{var D=h(),j=Y.S;if(j!==null&&j(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var $=BA(D,l);cl(e,i,$,Rn(e))}else cl(e,i,l,Rn(e))}catch(et){cl(e,i,{then:function(){},status:"rejected",reason:et},Rn())}finally{lt.p=d,_!==null&&S.types!==null&&(_.types=S.types),Y.T=_}}function KA(){}function od(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=Ny(e).queue;Iy(e,h,i,yt,a===null?KA:function(){return Dy(e),a(l)})}function Ny(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:yt,baseState:yt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:yt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Dy(e){var i=Ny(e);i.next===null&&(i=e.alternate.memoizedState),cl(e,i.next.queue,{},Rn())}function ld(){return Fe(Cl)}function Oy(){return ve().memoizedState}function My(){return ve().memoizedState}function YA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Rn();e=Mr(a);var l=Vr(i,e,a);l!==null&&(gn(l,i,a),sl(l,i,a)),i={cache:Uf()},e.payload=i;return}i=i.return}}function $A(e,i,a){var l=Rn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},gc(e)?xy(i,a):(a=Rf(e,i,a,l),a!==null&&(gn(a,e,l),Py(a,i,l)))}function Vy(e,i,a){var l=Rn();cl(e,i,a,l)}function cl(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(gc(e))xy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,En(S,_))return Xu(e,i,h,0),re===null&&$u(),!1}catch{}finally{}if(a=Rf(e,i,h,l),a!==null)return gn(a,e,l),Py(a,i,l),!0}return!1}function ud(e,i,a,l){if(l={lane:2,revertLane:Bd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},gc(e)){if(i)throw Error(s(479))}else i=Rf(e,a,l,2),i!==null&&gn(i,e,2)}function gc(e){var i=e.alternate;return e===Nt||i!==null&&i===Nt}function xy(e,i){Pa=uc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Py(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Mo(e,a)}}var hl={readContext:Fe,use:fc,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe};hl.useEffectEvent=fe;var Ly={readContext:Fe,use:fc,useCallback:function(e,i){return sn().memoizedState=[e,i===void 0?null:i],e},useContext:Fe,useEffect:vy,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,mc(4194308,4,Ay.bind(null,i,e),a)},useLayoutEffect:function(e,i){return mc(4194308,4,e,i)},useInsertionEffect:function(e,i){mc(4,2,e,i)},useMemo:function(e,i){var a=sn();i=i===void 0?null:i;var l=e();if(Ks){Dn(!0);try{e()}finally{Dn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=sn();if(a!==void 0){var h=a(i);if(Ks){Dn(!0);try{a(i)}finally{Dn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=$A.bind(null,Nt,e),[l.memoizedState,e]},useRef:function(e){var i=sn();return e={current:e},i.memoizedState=e},useState:function(e){e=nd(e);var i=e.queue,a=Vy.bind(null,Nt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:sd,useDeferredValue:function(e,i){var a=sn();return ad(a,e,i)},useTransition:function(){var e=nd(!1);return e=Iy.bind(null,Nt,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Nt,h=sn();if(jt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),re===null)throw Error(s(349));(Pt&127)!==0||iy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,vy(sy.bind(null,l,d,e),[e]),l.flags|=2048,Ua(9,{destroy:void 0},ry.bind(null,l,d,a,i),null),a},useId:function(){var e=sn(),i=re.identifierPrefix;if(jt){var a=Ni,l=Ii;a=(l&~(1<<32-ge(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=cc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=qA++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:ld,useFormState:my,useActionState:my,useOptimistic:function(e){var i=sn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ud.bind(null,Nt,!0,a),a.dispatch=i,[e,i]},useMemoCache:Wf,useCacheRefresh:function(){return sn().memoizedState=YA.bind(null,Nt)},useEffectEvent:function(e){var i=sn(),a={impl:e};return i.memoizedState=a,function(){if((Yt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},cd={readContext:Fe,use:fc,useCallback:wy,useContext:Fe,useEffect:rd,useImperativeHandle:by,useInsertionEffect:Ty,useLayoutEffect:Sy,useMemo:Ry,useReducer:dc,useRef:_y,useState:function(){return dc($i)},useDebugValue:sd,useDeferredValue:function(e,i){var a=ve();return Cy(a,te.memoizedState,e,i)},useTransition:function(){var e=dc($i)[0],i=ve().memoizedState;return[typeof e=="boolean"?e:ul(e),i]},useSyncExternalStore:ny,useId:Oy,useHostTransitionStatus:ld,useFormState:py,useActionState:py,useOptimistic:function(e,i){var a=ve();return ly(a,te,e,i)},useMemoCache:Wf,useCacheRefresh:My};cd.useEffectEvent=Ey;var Uy={readContext:Fe,use:fc,useCallback:wy,useContext:Fe,useEffect:rd,useImperativeHandle:by,useInsertionEffect:Ty,useLayoutEffect:Sy,useMemo:Ry,useReducer:ed,useRef:_y,useState:function(){return ed($i)},useDebugValue:sd,useDeferredValue:function(e,i){var a=ve();return te===null?ad(a,e,i):Cy(a,te.memoizedState,e,i)},useTransition:function(){var e=ed($i)[0],i=ve().memoizedState;return[typeof e=="boolean"?e:ul(e),i]},useSyncExternalStore:ny,useId:Oy,useHostTransitionStatus:ld,useFormState:yy,useActionState:yy,useOptimistic:function(e,i){var a=ve();return te!==null?ly(a,te,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Wf,useCacheRefresh:My};Uy.useEffectEvent=Ey;function hd(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var fd={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=Rn(),h=Mr(l);h.payload=i,a!=null&&(h.callback=a),i=Vr(e,h,l),i!==null&&(gn(i,e,l),sl(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=Rn(),h=Mr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Vr(e,h,l),i!==null&&(gn(i,e,l),sl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Rn(),l=Mr(a);l.tag=2,i!=null&&(l.callback=i),i=Vr(e,l,a),i!==null&&(gn(i,e,a),sl(i,e,a))}};function ky(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Jo(a,l)||!Jo(h,d):!0}function zy(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&fd.enqueueReplaceState(i,i.state,null)}function Ys(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=T({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function jy(e){Yu(e)}function By(e){console.error(e)}function qy(e){Yu(e)}function yc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Hy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function dd(e,i,a){return a=Mr(a),a.tag=3,a.payload={element:null},a.callback=function(){yc(e,i)},a}function Fy(e){return e=Mr(e),e.tag=3,e}function Gy(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Hy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Hy(i,a,l),typeof h!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function XA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Na(i,a,h,!0),a=Sn.current,a!==null){switch(a.tag){case 31:case 13:return jn===null?Nc():a.alternate===null&&de===0&&(de=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===rc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),kd(e,l,h)),!1;case 22:return a.flags|=65536,l===rc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),kd(e,l,h)),!1}throw Error(s(435,a.tag))}return kd(e,l,h),Nc(),!1}if(jt)return i=Sn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Mf&&(e=Error(s(422),{cause:l}),tl(Ln(e,a)))):(l!==Mf&&(i=Error(s(423),{cause:l}),tl(Ln(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Ln(l,a),h=dd(e.stateNode,l,h),Hf(e,h),de!==4&&(de=2)),!1;var d=Error(s(520),{cause:l});if(d=Ln(d,a),vl===null?vl=[d]:vl.push(d),de!==4&&(de=2),i===null)return!0;l=Ln(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=dd(a.stateNode,l,e),Hf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(zr===null||!zr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Fy(h),Gy(h,e,a,l),Hf(a,h),!1}a=a.return}while(a!==null);return!1}var md=Error(s(461)),Ie=!1;function Ge(e,i,a,l){i.child=e===null?$g(i,null,a,l):Qs(i,e.child,a,l)}function Qy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return qs(i),l=$f(e,i,a,_,d,h),S=Xf(),e!==null&&!Ie?(Jf(e,i,h),Xi(e,i,h)):(jt&&S&&Df(i),i.flags|=1,Ge(e,i,l,h),i.child)}function Ky(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Cf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Yy(e,i,d,l,h)):(e=Zu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Sd(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Jo,a(_,l)&&e.ref===i.ref)return Xi(e,i,h)}return i.flags|=1,e=Fi(d,l),e.ref=i.ref,e.return=i,i.child=e}function Yy(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Jo(d,l)&&e.ref===i.ref)if(Ie=!1,i.pendingProps=l=d,Sd(e,h))(e.flags&131072)!==0&&(Ie=!0);else return i.lanes=e.lanes,Xi(e,i,h)}return pd(e,i,a,l,h)}function $y(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Xy(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&nc(i,d!==null?d.cachePool:null),d!==null?Zg(i,d):Gf(),Wg(i);else return l=i.lanes=536870912,Xy(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(nc(i,d.cachePool),Zg(i,d),Pr(),i.memoizedState=null):(e!==null&&nc(i,null),Gf(),Pr());return Ge(e,i,h,a),i.child}function fl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Xy(e,i,a,l,h){var d=zf();return d=d===null?null:{parent:Re._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&nc(i,null),Gf(),Wg(i),e!==null&&Na(e,i,l,!0),i.childLanes=h,null}function _c(e,i){return i=Ec({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Jy(e,i,a){return Qs(i,e.child,null,a),e=_c(i,i.pendingProps),e.flags|=2,An(i),i.memoizedState=null,e}function JA(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(jt){if(l.mode==="hidden")return e=_c(i,l),i.lanes=536870912,fl(null,e);if(Kf(i),(e=ae)?(e=uv(e,zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Cr!==null?{id:Ii,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},a=xg(e),a.return=i,i.child=a,He=i,ae=null)):e=null,e===null)throw Nr(i);return i.lanes=536870912,null}return _c(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Kf(i),h)if(i.flags&256)i.flags&=-257,i=Jy(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ie||Na(e,i,a,!1),h=(a&e.childLanes)!==0,Ie||h){if(l=re,l!==null&&(_=Vo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,ks(e,_),gn(l,e,_),md;Nc(),i=Jy(e,i,a)}else e=d.treeContext,ae=Bn(_.nextSibling),He=i,jt=!0,Ir=null,zn=!1,e!==null&&Ug(i,e),i=_c(i,l),i.flags|=4096;return i}return e=Fi(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function vc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function pd(e,i,a,l,h){return qs(i),a=$f(e,i,a,l,void 0,h),l=Xf(),e!==null&&!Ie?(Jf(e,i,h),Xi(e,i,h)):(jt&&l&&Df(i),i.flags|=1,Ge(e,i,a,h),i.child)}function Zy(e,i,a,l,h,d){return qs(i),i.updateQueue=null,a=ey(i,l,a,h),ty(e),l=Xf(),e!==null&&!Ie?(Jf(e,i,d),Xi(e,i,d)):(jt&&l&&Df(i),i.flags|=1,Ge(e,i,a,d),i.child)}function Wy(e,i,a,l,h){if(qs(i),i.stateNode===null){var d=wa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Fe(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=fd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Bf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Fe(_):wa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(hd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&fd.enqueueReplaceState(d,d.state,null),ol(i,l,d,h),al(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var S=i.memoizedProps,D=Ys(a,S);d.props=D;var j=d.context,$=a.contextType;_=wa,typeof $=="object"&&$!==null&&(_=Fe($));var et=a.getDerivedStateFromProps;$=typeof et=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||j!==_)&&zy(i,d,l,_),Or=!1;var B=i.memoizedState;d.state=B,ol(i,l,d,h),al(),j=i.memoizedState,S||B!==j||Or?(typeof et=="function"&&(hd(i,a,et,l),j=i.memoizedState),(D=Or||ky(i,a,D,l,B,j,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,qf(e,i),_=i.memoizedProps,$=Ys(a,_),d.props=$,et=i.pendingProps,B=d.context,j=a.contextType,D=wa,typeof j=="object"&&j!==null&&(D=Fe(j)),S=a.getDerivedStateFromProps,(j=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==et||B!==D)&&zy(i,d,l,D),Or=!1,B=i.memoizedState,d.state=B,ol(i,l,d,h),al();var G=i.memoizedState;_!==et||B!==G||Or||e!==null&&e.dependencies!==null&&tc(e.dependencies)?(typeof S=="function"&&(hd(i,a,S,l),G=i.memoizedState),($=Or||ky(i,a,$,l,B,G,D)||e!==null&&e.dependencies!==null&&tc(e.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=D,l=$):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,vc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Qs(i,e.child,null,h),i.child=Qs(i,null,a,h)):Ge(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Xi(e,i,h),e}function t_(e,i,a,l){return js(),i.flags|=256,Ge(e,i,a,l),i.child}var gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yd(e){return{baseLanes:e,cachePool:Hg()}}function _d(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=wn),e}function e_(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(_e.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(jt){if(h?xr(i):Pr(),(e=ae)?(e=uv(e,zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Cr!==null?{id:Ii,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},a=xg(e),a.return=i,i.child=a,He=i,ae=null)):e=null,e===null)throw Nr(i);return tm(e)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(Pr(),h=i.mode,S=Ec({mode:"hidden",children:S},h),l=zs(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=yd(a),l.childLanes=_d(e,_,a),i.memoizedState=gd,fl(null,l)):(xr(i),vd(i,S))}var D=e.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(d)i.flags&256?(xr(i),i.flags&=-257,i=Ed(e,i,a)):i.memoizedState!==null?(Pr(),i.child=e.child,i.flags|=128,i=null):(Pr(),S=l.fallback,h=i.mode,l=Ec({mode:"visible",children:l.children},h),S=zs(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Qs(i,e.child,null,a),l=i.child,l.memoizedState=yd(a),l.childLanes=_d(e,_,a),i.memoizedState=gd,i=fl(null,l));else if(xr(i),tm(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var j=_.dgst;_=j,l=Error(s(419)),l.stack="",l.digest=_,tl({value:l,source:null,stack:null}),i=Ed(e,i,a)}else if(Ie||Na(e,i,a,!1),_=(a&e.childLanes)!==0,Ie||_){if(_=re,_!==null&&(l=Vo(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,ks(e,l),gn(_,e,l),md;Wd(S)||Nc(),i=Ed(e,i,a)}else Wd(S)?(i.flags|=192,i.child=e.child,i=null):(e=D.treeContext,ae=Bn(S.nextSibling),He=i,jt=!0,Ir=null,zn=!1,e!==null&&Ug(i,e),i=vd(i,l.children),i.flags|=4096);return i}return h?(Pr(),S=l.fallback,h=i.mode,D=e.child,j=D.sibling,l=Fi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,j!==null?S=Fi(j,S):(S=zs(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,fl(null,l),l=i.child,S=e.child.memoizedState,S===null?S=yd(a):(h=S.cachePool,h!==null?(D=Re._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=Hg(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=_d(e,_,a),i.memoizedState=gd,fl(e.child,l)):(xr(i),a=e.child,e=a.sibling,a=Fi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function vd(e,i){return i=Ec({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Ec(e,i){return e=Tn(22,e,null,i),e.lanes=0,e}function Ed(e,i,a){return Qs(i,e.child,null,a),e=vd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function n_(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Pf(e.return,i,a)}function Td(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function i_(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=_e.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,ut(_e,_),Ge(e,i,l,a),l=jt?Wo:0,!S&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&n_(e,a,i);else if(e.tag===19)n_(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&lc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Td(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&lc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Td(i,!0,a,null,d,l);break;case"together":Td(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Xi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),kr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Na(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Fi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Fi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Sd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&tc(e)))}function ZA(e,i,a){switch(i.tag){case 3:Ct(i,i.stateNode.containerInfo),Dr(i,Re,e.memoizedState.cache),js();break;case 27:case 5:Bt(i);break;case 4:Ct(i,i.stateNode.containerInfo);break;case 10:Dr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Kf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(xr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?e_(e,i,a):(xr(i),e=Xi(e,i,a),e!==null?e.sibling:null);xr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Na(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return i_(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ut(_e,_e.current),l)break;return null;case 22:return i.lanes=0,$y(e,i,a,i.pendingProps);case 24:Dr(i,Re,e.memoizedState.cache)}return Xi(e,i,a)}function r_(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ie=!0;else{if(!Sd(e,a)&&(i.flags&128)===0)return Ie=!1,ZA(e,i,a);Ie=(e.flags&131072)!==0}else Ie=!1,jt&&(i.flags&1048576)!==0&&Lg(i,Wo,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=Fs(i.elementType),i.type=e,typeof e=="function")Cf(e)?(l=Ys(e,l),i.tag=1,i=Wy(null,i,e,l,a)):(i.tag=0,i=pd(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===vt){i.tag=11,i=Qy(null,i,e,l,a);break t}else if(h===C){i.tag=14,i=Ky(null,i,e,l,a);break t}}throw i=Zt(e)||e,Error(s(306,i,""))}}return i;case 0:return pd(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ys(l,i.pendingProps),Wy(e,i,l,h,a);case 3:t:{if(Ct(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,qf(e,i),ol(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Dr(i,Re,l),l!==d.cache&&Lf(i,[Re],a,!0),al(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=t_(e,i,l,a);break t}else if(l!==h){h=Ln(Error(s(424)),i),tl(h),i=t_(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ae=Bn(e.firstChild),He=i,jt=!0,Ir=null,zn=!0,a=$g(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(js(),l===h){i=Xi(e,i,a);break t}Ge(e,i,l,a)}i=i.child}return i;case 26:return vc(e,i),e===null?(a=pv(i.type,null,i.pendingProps,null))?i.memoizedState=a:jt||(a=i.type,e=i.pendingProps,l=Lc(ht.current).createElement(a),l[Ae]=i,l[Le]=e,Qe(l,a,e),be(l),i.stateNode=l):i.memoizedState=pv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Bt(i),e===null&&jt&&(l=i.stateNode=fv(i.type,i.pendingProps,ht.current),He=i,zn=!0,h=ae,Hr(i.type)?(em=h,ae=Bn(l.firstChild)):ae=h),Ge(e,i,i.pendingProps.children,a),vc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&jt&&((h=l=ae)&&(l=Ib(l,i.type,i.pendingProps,zn),l!==null?(i.stateNode=l,He=i,ae=Bn(l.firstChild),zn=!1,h=!0):h=!1),h||Nr(i)),Bt(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,Xd(h,d)?l=null:_!==null&&Xd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=$f(e,i,HA,null,null,a),Cl._currentValue=h),vc(e,i),Ge(e,i,l,a),i.child;case 6:return e===null&&jt&&((e=a=ae)&&(a=Nb(a,i.pendingProps,zn),a!==null?(i.stateNode=a,He=i,ae=null,e=!0):e=!1),e||Nr(i)),null;case 13:return e_(e,i,a);case 4:return Ct(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Qs(i,null,l,a):Ge(e,i,l,a),i.child;case 11:return Qy(e,i,i.type,i.pendingProps,a);case 7:return Ge(e,i,i.pendingProps,a),i.child;case 8:return Ge(e,i,i.pendingProps.children,a),i.child;case 12:return Ge(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Dr(i,i.type,l.value),Ge(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,qs(i),h=Fe(h),l=l(h),i.flags|=1,Ge(e,i,l,a),i.child;case 14:return Ky(e,i,i.type,i.pendingProps,a);case 15:return Yy(e,i,i.type,i.pendingProps,a);case 19:return i_(e,i,a);case 31:return JA(e,i,a);case 22:return $y(e,i,a,i.pendingProps);case 24:return qs(i),l=Fe(Re),e===null?(h=zf(),h===null&&(h=re,d=Uf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Bf(i),Dr(i,Re,h)):((e.lanes&a)!==0&&(qf(e,i),ol(i,null,null,a),al()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Dr(i,Re,l)):(l=d.cache,Dr(i,Re,l),l!==h.cache&&Lf(i,[Re],a,!0))),Ge(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ji(e){e.flags|=4}function Ad(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(O_())e.flags|=8192;else throw Gs=rc,jf}else e.flags&=-16777217}function s_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ev(i))if(O_())e.flags|=8192;else throw Gs=rc,jf}function Tc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Cu():536870912,e.lanes|=i,Ba|=i)}function dl(e,i){if(!jt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function oe(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function WA(e,i,a){var l=i.pendingProps;switch(Of(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(i),null;case 1:return oe(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ki(Re),Ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ia(i)?Ji(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Vf())),oe(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(Ji(i),d!==null?(oe(i),s_(i,d)):(oe(i),Ad(i,h,null,l,a))):d?d!==e.memoizedState?(Ji(i),oe(i),s_(i,d)):(oe(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ji(i),oe(i),Ad(i,h,e,l,a)),null;case 27:if(Fn(i),a=ht.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ji(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return oe(i),null}e=q.current,Ia(i)?kg(i):(e=fv(h,l,a),i.stateNode=e,Ji(i))}return oe(i),null;case 5:if(Fn(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ji(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return oe(i),null}if(d=q.current,Ia(i))kg(i);else{var _=Lc(ht.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Ae]=i,d[Le]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(Qe(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ji(i)}}return oe(i),Ad(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Ji(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=ht.current,Ia(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=He,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ae]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ev(e.nodeValue,a)),e||Nr(i,!0)}else e=Lc(e).createTextNode(l),e[Ae]=i,i.stateNode=e}return oe(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=Ia(i),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ae]=i}else js(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;oe(i),e=!1}else a=Vf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(An(i),i):(An(i),null);if((i.flags&128)!==0)throw Error(s(558))}return oe(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ia(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ae]=i}else js(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;oe(i),h=!1}else h=Vf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(An(i),i):(An(i),null)}return An(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),Tc(i,i.updateQueue),oe(i),null);case 4:return Ot(),e===null&&Gd(i.stateNode.containerInfo),oe(i),null;case 10:return Ki(i.type),oe(i),null;case 19:if(W(_e),l=i.memoizedState,l===null)return oe(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)dl(l,!1);else{if(de!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=lc(e),d!==null){for(i.flags|=128,dl(l,!1),e=d.updateQueue,i.updateQueue=e,Tc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Vg(a,e),a=a.sibling;return ut(_e,_e.current&1|2),jt&&Gi(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&nn()>Rc&&(i.flags|=128,h=!0,dl(l,!1),i.lanes=4194304)}else{if(!h)if(e=lc(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,Tc(i,e),dl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!jt)return oe(i),null}else 2*nn()-l.renderingStartTime>Rc&&a!==536870912&&(i.flags|=128,h=!0,dl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=nn(),e.sibling=null,a=_e.current,ut(_e,h?a&1|2:a&1),jt&&Gi(i,l.treeForkCount),e):(oe(i),null);case 22:case 23:return An(i),Qf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(oe(i),i.subtreeFlags&6&&(i.flags|=8192)):oe(i),a=i.updateQueue,a!==null&&Tc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&W(Hs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ki(Re),oe(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function tb(e,i){switch(Of(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ki(Re),Ot(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Fn(i),null;case 31:if(i.memoizedState!==null){if(An(i),i.alternate===null)throw Error(s(340));js()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(An(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));js()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return W(_e),null;case 4:return Ot(),null;case 10:return Ki(i.type),null;case 22:case 23:return An(i),Qf(),e!==null&&W(Hs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ki(Re),null;case 25:return null;default:return null}}function a_(e,i){switch(Of(i),i.tag){case 3:Ki(Re),Ot();break;case 26:case 27:case 5:Fn(i);break;case 4:Ot();break;case 31:i.memoizedState!==null&&An(i);break;case 13:An(i);break;case 19:W(_e);break;case 10:Ki(i.type);break;case 22:case 23:An(i),Qf(),e!==null&&W(Hs);break;case 24:Ki(Re)}}function ml(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){Jt(i,i.return,S)}}function Lr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var D=a,j=S;try{j()}catch($){Jt(h,D,$)}}}l=l.next}while(l!==d)}}catch($){Jt(i,i.return,$)}}function o_(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Jg(i,a)}catch(l){Jt(e,e.return,l)}}}function l_(e,i,a){a.props=Ys(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Jt(e,i,l)}}function pl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Jt(e,i,h)}}function Di(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Jt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Jt(e,i,h)}else a.current=null}function u_(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Jt(e,e.return,h)}}function bd(e,i,a){try{var l=e.stateNode;Sb(l,e.type,a,i),l[Le]=i}catch(h){Jt(e,e.return,h)}}function c_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Hr(e.type)||e.tag===4}function wd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||c_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Hr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=$n));else if(l!==4&&(l===27&&Hr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Rd(e,i,a),e=e.sibling;e!==null;)Rd(e,i,a),e=e.sibling}function Sc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Hr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Sc(e,i,a),e=e.sibling;e!==null;)Sc(e,i,a),e=e.sibling}function h_(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Qe(i,l,a),i[Ae]=e,i[Le]=a}catch(d){Jt(e,e.return,d)}}var Zi=!1,Ne=!1,Cd=!1,f_=typeof WeakSet=="function"?WeakSet:Set,ke=null;function eb(e,i){if(e=e.containerInfo,Yd=Hc,e=bg(e),Ef(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,S=-1,D=-1,j=0,$=0,et=e,B=null;e:for(;;){for(var G;et!==a||h!==0&&et.nodeType!==3||(S=_+h),et!==d||l!==0&&et.nodeType!==3||(D=_+l),et.nodeType===3&&(_+=et.nodeValue.length),(G=et.firstChild)!==null;)B=et,et=G;for(;;){if(et===e)break e;if(B===a&&++j===h&&(S=_),B===d&&++$===l&&(D=_),(G=et.nextSibling)!==null)break;et=B,B=et.parentNode}et=G}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for($d={focusedElem:e,selectionRange:a},Hc=!1,ke=i;ke!==null;)if(i=ke,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,ke=e;else for(;ke!==null;){switch(i=ke,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var mt=Ys(a.type,h);e=l.getSnapshotBeforeUpdate(mt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Tt){Jt(a,a.return,Tt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Zd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,ke=e;break}ke=i.return}}function d_(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:tr(e,a),l&4&&ml(5,a);break;case 1:if(tr(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Jt(a,a.return,_)}else{var h=Ys(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Jt(a,a.return,_)}}l&64&&o_(a),l&512&&pl(a,a.return);break;case 3:if(tr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Jg(e,i)}catch(_){Jt(a,a.return,_)}}break;case 27:i===null&&l&4&&h_(a);case 26:case 5:tr(e,a),i===null&&l&4&&u_(a),l&512&&pl(a,a.return);break;case 12:tr(e,a);break;case 31:tr(e,a),l&4&&g_(e,a);break;case 13:tr(e,a),l&4&&y_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=cb.bind(null,a),Db(e,a))));break;case 22:if(l=a.memoizedState!==null||Zi,!l){i=i!==null&&i.memoizedState!==null||Ne,h=Zi;var d=Ne;Zi=l,(Ne=i)&&!d?er(e,a,(a.subtreeFlags&8772)!==0):tr(e,a),Zi=h,Ne=d}break;case 30:break;default:tr(e,a)}}function m_(e){var i=e.alternate;i!==null&&(e.alternate=null,m_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ha(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ue=null,fn=!1;function Wi(e,i,a){for(a=a.child;a!==null;)p_(e,i,a),a=a.sibling}function p_(e,i,a){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Gn,a)}catch{}switch(a.tag){case 26:Ne||Di(a,i),Wi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ne||Di(a,i);var l=ue,h=fn;Hr(a.type)&&(ue=a.stateNode,fn=!1),Wi(e,i,a),bl(a.stateNode),ue=l,fn=h;break;case 5:Ne||Di(a,i);case 6:if(l=ue,h=fn,ue=null,Wi(e,i,a),ue=l,fn=h,ue!==null)if(fn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(a.stateNode)}catch(d){Jt(a,i,d)}else try{ue.removeChild(a.stateNode)}catch(d){Jt(a,i,d)}break;case 18:ue!==null&&(fn?(e=ue,ov(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),$a(e)):ov(ue,a.stateNode));break;case 4:l=ue,h=fn,ue=a.stateNode.containerInfo,fn=!0,Wi(e,i,a),ue=l,fn=h;break;case 0:case 11:case 14:case 15:Lr(2,a,i),Ne||Lr(4,a,i),Wi(e,i,a);break;case 1:Ne||(Di(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&l_(a,i,l)),Wi(e,i,a);break;case 21:Wi(e,i,a);break;case 22:Ne=(l=Ne)||a.memoizedState!==null,Wi(e,i,a),Ne=l;break;default:Wi(e,i,a)}}function g_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{$a(e)}catch(a){Jt(i,i.return,a)}}}function y_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{$a(e)}catch(a){Jt(i,i.return,a)}}function nb(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new f_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new f_),i;default:throw Error(s(435,e.tag))}}function Ac(e,i){var a=nb(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=hb.bind(null,e,l);l.then(h,h)}})}function dn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,S=_;t:for(;S!==null;){switch(S.tag){case 27:if(Hr(S.type)){ue=S.stateNode,fn=!1;break t}break;case 5:ue=S.stateNode,fn=!1;break t;case 3:case 4:ue=S.stateNode.containerInfo,fn=!0;break t}S=S.return}if(ue===null)throw Error(s(160));p_(d,_,h),ue=null,fn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)__(i,e),i=i.sibling}var ei=null;function __(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(i,e),mn(e),l&4&&(Lr(3,e,e.return),ml(3,e),Lr(5,e,e.return));break;case 1:dn(i,e),mn(e),l&512&&(Ne||a===null||Di(a,a.return)),l&64&&Zi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ei;if(dn(i,e),mn(e),l&512&&(Ne||a===null||Di(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[gi]||d[Ae]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Qe(d,l,a),d[Ae]=e,be(d),l=d;break t;case"link":var _=_v("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break e}}d=h.createElement(l),Qe(d,l,a),h.head.appendChild(d);break;case"meta":if(_=_v("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break e}}d=h.createElement(l),Qe(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ae]=e,be(d),l=d}e.stateNode=l}else vv(h,e.type,e.stateNode);else e.stateNode=yv(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?vv(h,e.type,e.stateNode):yv(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&bd(e,e.memoizedProps,a.memoizedProps)}break;case 27:dn(i,e),mn(e),l&512&&(Ne||a===null||Di(a,a.return)),a!==null&&l&4&&bd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(dn(i,e),mn(e),l&512&&(Ne||a===null||Di(a,a.return)),e.flags&32){h=e.stateNode;try{hn(h,"")}catch(mt){Jt(e,e.return,mt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,bd(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Cd=!0);break;case 6:if(dn(i,e),mn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(mt){Jt(e,e.return,mt)}}break;case 3:if(zc=null,h=ei,ei=Uc(i.containerInfo),dn(i,e),ei=h,mn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{$a(i.containerInfo)}catch(mt){Jt(e,e.return,mt)}Cd&&(Cd=!1,v_(e));break;case 4:l=ei,ei=Uc(e.stateNode.containerInfo),dn(i,e),mn(e),ei=l;break;case 12:dn(i,e),mn(e);break;case 31:dn(i,e),mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ac(e,l)));break;case 13:dn(i,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(wc=nn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ac(e,l)));break;case 22:h=e.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,j=Zi,$=Ne;if(Zi=j||h,Ne=$||D,dn(i,e),Ne=$,Zi=j,mn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||D||Zi||Ne||$s(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=D.stateNode;var et=D.memoizedProps.style,B=et!=null&&et.hasOwnProperty("display")?et.display:null;S.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(mt){Jt(D,D.return,mt)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(mt){Jt(D,D.return,mt)}}}else if(i.tag===18){if(a===null){D=i;try{var G=D.stateNode;h?lv(G,!0):lv(D.stateNode,!1)}catch(mt){Jt(D,D.return,mt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ac(e,a))));break;case 19:dn(i,e),mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ac(e,l)));break;case 30:break;case 21:break;default:dn(i,e),mn(e)}}function mn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(c_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=wd(e);Sc(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(hn(_,""),a.flags&=-33);var S=wd(e);Sc(e,S,_);break;case 3:case 4:var D=a.stateNode.containerInfo,j=wd(e);Rd(e,j,D);break;default:throw Error(s(161))}}catch($){Jt(e,e.return,$)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function v_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;v_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function tr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)d_(e,i.alternate,i),i=i.sibling}function $s(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Lr(4,i,i.return),$s(i);break;case 1:Di(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&l_(i,i.return,a),$s(i);break;case 27:bl(i.stateNode);case 26:case 5:Di(i,i.return),$s(i);break;case 22:i.memoizedState===null&&$s(i);break;case 30:$s(i);break;default:$s(i)}e=e.sibling}}function er(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:er(h,d,a),ml(4,d);break;case 1:if(er(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Jt(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Xg(D[h],S)}catch(j){Jt(l,l.return,j)}}a&&_&64&&o_(d),pl(d,d.return);break;case 27:h_(d);case 26:case 5:er(h,d,a),a&&l===null&&_&4&&u_(d),pl(d,d.return);break;case 12:er(h,d,a);break;case 31:er(h,d,a),a&&_&4&&g_(h,d);break;case 13:er(h,d,a),a&&_&4&&y_(h,d);break;case 22:d.memoizedState===null&&er(h,d,a),pl(d,d.return);break;case 30:break;default:er(h,d,a)}i=i.sibling}}function Id(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&el(a))}function Nd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&el(e))}function ni(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)E_(e,i,a,l),i=i.sibling}function E_(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ni(e,i,a,l),h&2048&&ml(9,i);break;case 1:ni(e,i,a,l);break;case 3:ni(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&el(e)));break;case 12:if(h&2048){ni(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){Jt(i,i.return,D)}}else ni(e,i,a,l);break;case 31:ni(e,i,a,l);break;case 13:ni(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ni(e,i,a,l):gl(e,i):d._visibility&2?ni(e,i,a,l):(d._visibility|=2,ka(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Id(_,i);break;case 24:ni(e,i,a,l),h&2048&&Nd(i.alternate,i);break;default:ni(e,i,a,l)}}function ka(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,S=a,D=l,j=_.flags;switch(_.tag){case 0:case 11:case 15:ka(d,_,S,D,h),ml(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?ka(d,_,S,D,h):gl(d,_):($._visibility|=2,ka(d,_,S,D,h)),h&&j&2048&&Id(_.alternate,_);break;case 24:ka(d,_,S,D,h),h&&j&2048&&Nd(_.alternate,_);break;default:ka(d,_,S,D,h)}i=i.sibling}}function gl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:gl(a,l),h&2048&&Id(l.alternate,l);break;case 24:gl(a,l),h&2048&&Nd(l.alternate,l);break;default:gl(a,l)}i=i.sibling}}var yl=8192;function za(e,i,a){if(e.subtreeFlags&yl)for(e=e.child;e!==null;)T_(e,i,a),e=e.sibling}function T_(e,i,a){switch(e.tag){case 26:za(e,i,a),e.flags&yl&&e.memoizedState!==null&&qb(a,ei,e.memoizedState,e.memoizedProps);break;case 5:za(e,i,a);break;case 3:case 4:var l=ei;ei=Uc(e.stateNode.containerInfo),za(e,i,a),ei=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=yl,yl=16777216,za(e,i,a),yl=l):za(e,i,a));break;default:za(e,i,a)}}function S_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function _l(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];ke=l,b_(l,e)}S_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)A_(e),e=e.sibling}function A_(e){switch(e.tag){case 0:case 11:case 15:_l(e),e.flags&2048&&Lr(9,e,e.return);break;case 3:_l(e);break;case 12:_l(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,bc(e)):_l(e);break;default:_l(e)}}function bc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];ke=l,b_(l,e)}S_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Lr(8,i,i.return),bc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,bc(i));break;default:bc(i)}e=e.sibling}}function b_(e,i){for(;ke!==null;){var a=ke;switch(a.tag){case 0:case 11:case 15:Lr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:el(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ke=l;else t:for(a=e;ke!==null;){l=ke;var h=l.sibling,d=l.return;if(m_(l),l===a){ke=null;break t}if(h!==null){h.return=d,ke=h;break t}ke=d}}}var ib={getCacheForType:function(e){var i=Fe(Re),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return Fe(Re).controller.signal}},rb=typeof WeakMap=="function"?WeakMap:Map,Yt=0,re=null,Mt=null,Pt=0,Xt=0,bn=null,Ur=!1,ja=!1,Dd=!1,nr=0,de=0,kr=0,Xs=0,Od=0,wn=0,Ba=0,vl=null,pn=null,Md=!1,wc=0,w_=0,Rc=1/0,Cc=null,zr=null,xe=0,jr=null,qa=null,ir=0,Vd=0,xd=null,R_=null,El=0,Pd=null;function Rn(){return(Yt&2)!==0&&Pt!==0?Pt&-Pt:Y.T!==null?Bd():Iu()}function C_(){if(wn===0)if((Pt&536870912)===0||jt){var e=As;As<<=1,(As&3932160)===0&&(As=262144),wn=e}else wn=536870912;return e=Sn.current,e!==null&&(e.flags|=32),wn}function gn(e,i,a){(e===re&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(Ha(e,0),Br(e,Pt,wn,!1)),bs(e,a),((Yt&2)===0||e!==re)&&(e===re&&((Yt&2)===0&&(Xs|=a),de===4&&Br(e,Pt,wn,!1)),Oi(e))}function I_(e,i,a){if((Yt&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Qn(e,i),h=l?ob(e,i):Ud(e,i,!0),d=l;do{if(h===0){ja&&!l&&Br(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!sb(a)){h=Ud(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var S=e;h=vl;var D=S.current.memoizedState.isDehydrated;if(D&&(Ha(S,_).flags|=256),_=Ud(S,_,!1),_!==2){if(Dd&&!D){S.errorRecoveryDisabledLanes|=d,Xs|=d,h=4;break t}d=pn,pn=h,d!==null&&(pn===null?pn=d:pn.push.apply(pn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ha(e,0),Br(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Br(l,i,wn,!Ur);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=wc+300-nn(),10<h)){if(Br(l,i,wn,!Ur),di(l,0,!0)!==0)break t;ir=i,l.timeoutHandle=sv(N_.bind(null,l,a,pn,Cc,Md,i,wn,Xs,Ba,Ur,d,"Throttled",-0,0),h);break t}N_(l,a,pn,Cc,Md,i,wn,Xs,Ba,Ur,d,null,-0,0)}}break}while(!0);Oi(e)}function N_(e,i,a,l,h,d,_,S,D,j,$,et,B,G){if(e.timeoutHandle=-1,et=i.subtreeFlags,et&8192||(et&16785408)===16785408){et={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},T_(i,d,et);var mt=(d&62914560)===d?wc-nn():(d&4194048)===d?w_-nn():0;if(mt=Hb(et,mt),mt!==null){ir=d,e.cancelPendingCommit=mt(U_.bind(null,e,i,d,a,l,h,_,S,D,$,et,null,B,G)),Br(e,d,_,!j);return}}U_(e,i,d,a,l,h,_,S,D)}function sb(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!En(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Br(e,i,a,l){i&=~Od,i&=~Xs,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-ge(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&ws(e,a,i)}function Ic(){return(Yt&6)===0?(Tl(0),!1):!0}function Ld(){if(Mt!==null){if(Xt===0)var e=Mt.return;else e=Mt,Qi=Bs=null,Zf(e),Va=null,il=0,e=Mt;for(;e!==null;)a_(e.alternate,e),e=e.return;Mt=null}}function Ha(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,wb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ir=0,Ld(),re=e,Mt=a=Fi(e.current,null),Pt=i,Xt=0,bn=null,Ur=!1,ja=Qn(e,i),Dd=!1,Ba=wn=Od=Xs=kr=de=0,pn=vl=null,Md=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-ge(l),d=1<<h;i|=e[h],l&=~d}return nr=i,$u(),a}function D_(e,i){Nt=null,Y.H=hl,i===Ma||i===ic?(i=Qg(),Xt=3):i===jf?(i=Qg(),Xt=4):Xt=i===md?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,Mt===null&&(de=1,yc(e,Ln(i,e.current)))}function O_(){var e=Sn.current;return e===null?!0:(Pt&4194048)===Pt?jn===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?e===jn:!1}function M_(){var e=Y.H;return Y.H=hl,e===null?hl:e}function V_(){var e=Y.A;return Y.A=ib,e}function Nc(){de=4,Ur||(Pt&4194048)!==Pt&&Sn.current!==null||(ja=!0),(kr&134217727)===0&&(Xs&134217727)===0||re===null||Br(re,Pt,wn,!1)}function Ud(e,i,a){var l=Yt;Yt|=2;var h=M_(),d=V_();(re!==e||Pt!==i)&&(Cc=null,Ha(e,i)),i=!1;var _=de;t:do try{if(Xt!==0&&Mt!==null){var S=Mt,D=bn;switch(Xt){case 8:Ld(),_=6;break t;case 3:case 2:case 9:case 6:Sn.current===null&&(i=!0);var j=Xt;if(Xt=0,bn=null,Fa(e,S,D,j),a&&ja){_=0;break t}break;default:j=Xt,Xt=0,bn=null,Fa(e,S,D,j)}}ab(),_=de;break}catch($){D_(e,$)}while(!0);return i&&e.shellSuspendCounter++,Qi=Bs=null,Yt=l,Y.H=h,Y.A=d,Mt===null&&(re=null,Pt=0,$u()),_}function ab(){for(;Mt!==null;)x_(Mt)}function ob(e,i){var a=Yt;Yt|=2;var l=M_(),h=V_();re!==e||Pt!==i?(Cc=null,Rc=nn()+500,Ha(e,i)):ja=Qn(e,i);t:do try{if(Xt!==0&&Mt!==null){i=Mt;var d=bn;e:switch(Xt){case 1:Xt=0,bn=null,Fa(e,i,d,1);break;case 2:case 9:if(Fg(d)){Xt=0,bn=null,P_(i);break}i=function(){Xt!==2&&Xt!==9||re!==e||(Xt=7),Oi(e)},d.then(i,i);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Fg(d)?(Xt=0,bn=null,P_(i)):(Xt=0,bn=null,Fa(e,i,d,7));break;case 5:var _=null;switch(Mt.tag){case 26:_=Mt.memoizedState;case 5:case 27:var S=Mt;if(_?Ev(_):S.stateNode.complete){Xt=0,bn=null;var D=S.sibling;if(D!==null)Mt=D;else{var j=S.return;j!==null?(Mt=j,Dc(j)):Mt=null}break e}}Xt=0,bn=null,Fa(e,i,d,5);break;case 6:Xt=0,bn=null,Fa(e,i,d,6);break;case 8:Ld(),de=6;break t;default:throw Error(s(462))}}lb();break}catch($){D_(e,$)}while(!0);return Qi=Bs=null,Y.H=l,Y.A=h,Yt=a,Mt!==null?0:(re=null,Pt=0,$u(),de)}function lb(){for(;Mt!==null&&!df();)x_(Mt)}function x_(e){var i=r_(e.alternate,e,nr);e.memoizedProps=e.pendingProps,i===null?Dc(e):Mt=i}function P_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Zy(a,i,i.pendingProps,i.type,void 0,Pt);break;case 11:i=Zy(a,i,i.pendingProps,i.type.render,i.ref,Pt);break;case 5:Zf(i);default:a_(a,i),i=Mt=Vg(i,nr),i=r_(a,i,nr)}e.memoizedProps=e.pendingProps,i===null?Dc(e):Mt=i}function Fa(e,i,a,l){Qi=Bs=null,Zf(i),Va=null,il=0;var h=i.return;try{if(XA(e,h,i,a,Pt)){de=1,yc(e,Ln(a,e.current)),Mt=null;return}}catch(d){if(h!==null)throw Mt=h,d;de=1,yc(e,Ln(a,e.current)),Mt=null;return}i.flags&32768?(jt||l===1?e=!0:ja||(Pt&536870912)!==0?e=!1:(Ur=e=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),L_(i,e)):Dc(i)}function Dc(e){var i=e;do{if((i.flags&32768)!==0){L_(i,Ur);return}e=i.return;var a=WA(i.alternate,i,nr);if(a!==null){Mt=a;return}if(i=i.sibling,i!==null){Mt=i;return}Mt=i=e}while(i!==null);de===0&&(de=5)}function L_(e,i){do{var a=tb(e.alternate,e);if(a!==null){a.flags&=32767,Mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=a}while(e!==null);de=6,Mt=null}function U_(e,i,a,l,h,d,_,S,D){e.cancelPendingCommit=null;do Oc();while(xe!==0);if((Yt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=wf,gf(e,a,d,_,S,D),e===re&&(Mt=re=null,Pt=0),qa=i,jr=e,ir=a,Vd=d,xd=h,R_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,fb(yr,function(){return q_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=lt.p,lt.p=2,_=Yt,Yt|=4;try{eb(e,i,a)}finally{Yt=_,lt.p=h,Y.T=l}}xe=1,k_(),z_(),j_()}}function k_(){if(xe===1){xe=0;var e=jr,i=qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=lt.p;lt.p=2;var h=Yt;Yt|=4;try{__(i,e);var d=$d,_=bg(e.containerInfo),S=d.focusedElem,D=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&Ag(S.ownerDocument.documentElement,S)){if(D!==null&&Ef(S)){var j=D.start,$=D.end;if($===void 0&&($=j),"selectionStart"in S)S.selectionStart=j,S.selectionEnd=Math.min($,S.value.length);else{var et=S.ownerDocument||document,B=et&&et.defaultView||window;if(B.getSelection){var G=B.getSelection(),mt=S.textContent.length,Tt=Math.min(D.start,mt),ne=D.end===void 0?Tt:Math.min(D.end,mt);!G.extend&&Tt>ne&&(_=ne,ne=Tt,Tt=_);var U=Sg(S,Tt),V=Sg(S,ne);if(U&&V&&(G.rangeCount!==1||G.anchorNode!==U.node||G.anchorOffset!==U.offset||G.focusNode!==V.node||G.focusOffset!==V.offset)){var z=et.createRange();z.setStart(U.node,U.offset),G.removeAllRanges(),Tt>ne?(G.addRange(z),G.extend(V.node,V.offset)):(z.setEnd(V.node,V.offset),G.addRange(z))}}}}for(et=[],G=S;G=G.parentNode;)G.nodeType===1&&et.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<et.length;S++){var Z=et[S];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Hc=!!Yd,$d=Yd=null}finally{Yt=h,lt.p=l,Y.T=a}}e.current=i,xe=2}}function z_(){if(xe===2){xe=0;var e=jr,i=qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=lt.p;lt.p=2;var h=Yt;Yt|=4;try{d_(e,i.alternate,i)}finally{Yt=h,lt.p=l,Y.T=a}}xe=3}}function j_(){if(xe===4||xe===3){xe=0,Tu();var e=jr,i=qa,a=ir,l=R_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?xe=5:(xe=0,qa=jr=null,B_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(zr=null),ji(a),i=i.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Gn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=lt.p,lt.p=2,Y.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{Y.T=i,lt.p=h}}(ir&3)!==0&&Oc(),Oi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===Pd?El++:(El=0,Pd=e):El=0,Tl(0)}}function B_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,el(i)))}function Oc(){return k_(),z_(),j_(),q_()}function q_(){if(xe!==5)return!1;var e=jr,i=Vd;Vd=0;var a=ji(ir),l=Y.T,h=lt.p;try{lt.p=32>a?32:a,Y.T=null,a=xd,xd=null;var d=jr,_=ir;if(xe=0,qa=jr=null,ir=0,(Yt&6)!==0)throw Error(s(331));var S=Yt;if(Yt|=4,A_(d.current),E_(d,d.current,_,a),Yt=S,Tl(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Gn,d)}catch{}return!0}finally{lt.p=h,Y.T=l,B_(e,i)}}function H_(e,i,a){i=Ln(a,i),i=dd(e.stateNode,i,2),e=Vr(e,i,2),e!==null&&(bs(e,2),Oi(e))}function Jt(e,i,a){if(e.tag===3)H_(e,e,a);else for(;i!==null;){if(i.tag===3){H_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zr===null||!zr.has(l))){e=Ln(a,e),a=Fy(2),l=Vr(i,a,2),l!==null&&(Gy(a,l,i,e),bs(l,2),Oi(l));break}}i=i.return}}function kd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new rb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Dd=!0,h.add(a),e=ub.bind(null,e,i,a),i.then(e,e))}function ub(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,re===e&&(Pt&a)===a&&(de===4||de===3&&(Pt&62914560)===Pt&&300>nn()-wc?(Yt&2)===0&&Ha(e,0):Od|=a,Ba===Pt&&(Ba=0)),Oi(e)}function F_(e,i){i===0&&(i=Cu()),e=ks(e,i),e!==null&&(bs(e,i),Oi(e))}function cb(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),F_(e,a)}function hb(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),F_(e,a)}function fb(e,i){return Ve(e,i)}var Mc=null,Ga=null,zd=!1,Vc=!1,jd=!1,qr=0;function Oi(e){e!==Ga&&e.next===null&&(Ga===null?Mc=Ga=e:Ga=Ga.next=e),Vc=!0,zd||(zd=!0,mb())}function Tl(e,i){if(!jd&&Vc){jd=!0;do for(var a=!1,l=Mc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-ge(42|e)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Y_(l,d))}else d=Pt,d=di(l,l===re?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Qn(l,d)||(a=!0,Y_(l,d));l=l.next}while(a);jd=!1}}function db(){G_()}function G_(){Vc=zd=!1;var e=0;qr!==0&&bb()&&(e=qr);for(var i=nn(),a=null,l=Mc;l!==null;){var h=l.next,d=Q_(l,i);d===0?(l.next=null,a===null?Mc=h:a.next=h,h===null&&(Ga=a)):(a=l,(e!==0||(d&3)!==0)&&(Vc=!0)),l=h}xe!==0&&xe!==5||Tl(e),qr!==0&&(qr=0)}function Q_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-ge(d),S=1<<_,D=h[_];D===-1?((S&a)===0||(S&l)!==0)&&(h[_]=pf(S,i)):D<=i&&(e.expiredLanes|=S),d&=~S}if(i=re,a=Pt,a=di(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&gr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Qn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&gr(l),ji(a)){case 2:case 8:a=Oo;break;case 32:a=yr;break;case 268435456:a=Su;break;default:a=yr}return l=K_.bind(null,e),a=Ve(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&gr(l),e.callbackPriority=2,e.callbackNode=null,2}function K_(e,i){if(xe!==0&&xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Oc()&&e.callbackNode!==a)return null;var l=Pt;return l=di(e,e===re?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(I_(e,l,i),Q_(e,nn()),e.callbackNode!=null&&e.callbackNode===a?K_.bind(null,e):null)}function Y_(e,i){if(Oc())return null;I_(e,i,!0)}function mb(){Rb(function(){(Yt&6)!==0?Ve(Do,db):G_()})}function Bd(){if(qr===0){var e=Da;e===0&&(e=hi,hi<<=1,(hi&261888)===0&&(hi=256)),qr=e}return qr}function $_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:pa(""+e)}function X_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function pb(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=$_((h[Le]||null).action),_=l.submitter;_&&(i=(i=_[Le]||null)?$_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new bi("action","action",null,l,h);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qr!==0){var D=_?X_(h,_):new FormData(h);od(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(S.preventDefault(),D=_?X_(h,_):new FormData(h),od(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var qd=0;qd<bf.length;qd++){var Hd=bf[qd],gb=Hd.toLowerCase(),yb=Hd[0].toUpperCase()+Hd.slice(1);ti(gb,"on"+yb)}ti(Cg,"onAnimationEnd"),ti(Ig,"onAnimationIteration"),ti(Ng,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(VA,"onTransitionRun"),ti(xA,"onTransitionStart"),ti(PA,"onTransitionCancel"),ti(Dg,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_b=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function J_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],D=S.instance,j=S.currentTarget;if(S=S.listener,D!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=j;try{d(h)}catch($){Yu($)}h.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(S=l[_],D=S.instance,j=S.currentTarget,S=S.listener,D!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=j;try{d(h)}catch($){Yu($)}h.currentTarget=null,d=D}}}}function Vt(e,i){var a=i[ca];a===void 0&&(a=i[ca]=new Set);var l=e+"__bubble";a.has(l)||(Z_(i,e,2,!1),a.add(l))}function Fd(e,i,a){var l=0;i&&(l|=4),Z_(a,e,l,i)}var xc="_reactListening"+Math.random().toString(36).slice(2);function Gd(e){if(!e[xc]){e[xc]=!0,xo.forEach(function(a){a!=="selectionchange"&&(_b.has(a)||Fd(a,!1,e),Fd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[xc]||(i[xc]=!0,Fd("selectionchange",!1,i))}}function Z_(e,i,a,l){switch(Cv(i)){case 2:var h=Qb;break;case 8:h=Kb;break;default:h=am}a=h.bind(null,i,a,e),h=void 0,!Ds||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Qd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=yi(S),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue t}S=S.parentNode}}l=l.return}Ar(function(){var j=d,$=Mn(a),et=[];t:{var B=Og.get(e);if(B!==void 0){var G=bi,mt=e;switch(e){case"keypress":if(Ms(a)===0)break t;case"keydown":case"keyup":G=Gu;break;case"focusin":mt="focus",G=xs;break;case"focusout":mt="blur",G=xs;break;case"beforeblur":case"afterblur":G=xs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=g;break;case Cg:case Ig:case Ng:G=ku;break;case Dg:G=A;break;case"scroll":case"scrollend":G=Qo;break;case"wheel":G=H;break;case"copy":case"cut":case"paste":G=zu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Hi;break;case"toggle":case"beforetoggle":G=It}var Tt=(i&4)!==0,ne=!Tt&&(e==="scroll"||e==="scrollend"),U=Tt?B!==null?B+"Capture":null:B;Tt=[];for(var V=j,z;V!==null;){var Z=V;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||U===null||(Z=Xn(V,U),Z!=null&&Tt.push(Al(V,Z,z))),ne)break;V=V.return}0<Tt.length&&(B=new G(B,mt,null,a,$),et.push({event:B,listeners:Tt}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",B&&a!==Ho&&(mt=a.relatedTarget||a.fromElement)&&(yi(mt)||mt[pi]))break t;if((G||B)&&(B=$.window===$?$:(B=$.ownerDocument)?B.defaultView||B.parentWindow:window,G?(mt=a.relatedTarget||a.toElement,G=j,mt=mt?yi(mt):null,mt!==null&&(ne=u(mt),Tt=mt.tag,mt!==ne||Tt!==5&&Tt!==27&&Tt!==6)&&(mt=null)):(G=null,mt=j),G!==mt)){if(Tt=Ko,Z="onMouseLeave",U="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(Tt=Hi,Z="onPointerLeave",U="onPointerEnter",V="pointer"),ne=G==null?B:_n(G),z=mt==null?B:_n(mt),B=new Tt(Z,V+"leave",G,a,$),B.target=ne,B.relatedTarget=z,Z=null,yi($)===j&&(Tt=new Tt(U,V+"enter",mt,a,$),Tt.target=z,Tt.relatedTarget=ne,Z=Tt),ne=Z,G&&mt)e:{for(Tt=vb,U=G,V=mt,z=0,Z=U;Z;Z=Tt(Z))z++;Z=0;for(var _t=V;_t;_t=Tt(_t))Z++;for(;0<z-Z;)U=Tt(U),z--;for(;0<Z-z;)V=Tt(V),Z--;for(;z--;){if(U===V||V!==null&&U===V.alternate){Tt=U;break e}U=Tt(U),V=Tt(V)}Tt=null}else Tt=null;G!==null&&W_(et,B,G,Tt,!1),mt!==null&&ne!==null&&W_(et,ne,mt,Tt,!0)}}t:{if(B=j?_n(j):window,G=B.nodeName&&B.nodeName.toLowerCase(),G==="select"||G==="input"&&B.type==="file")var Ft=gg;else if(mg(B))if(yg)Ft=DA;else{Ft=IA;var pt=CA}else G=B.nodeName,!G||G.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&ma(j.elementType)&&(Ft=gg):Ft=NA;if(Ft&&(Ft=Ft(e,j))){pg(et,Ft,a,$);break t}pt&&pt(e,B,j),e==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&jo(B,"number",B.value)}switch(pt=j?_n(j):window,e){case"focusin":(mg(pt)||pt.contentEditable==="true")&&(Sa=pt,Tf=j,Zo=null);break;case"focusout":Zo=Tf=Sa=null;break;case"mousedown":Sf=!0;break;case"contextmenu":case"mouseup":case"dragend":Sf=!1,wg(et,a,$);break;case"selectionchange":if(MA)break;case"keydown":case"keyup":wg(et,a,$)}var Dt;if(Kt)t:{switch(e){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else Ta?Ps(e,a)&&(Lt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Lt="onCompositionStart");Lt&&(Ci&&a.locale!=="ko"&&(Ta||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&Ta&&(Dt=Go()):(Ai=$,Fo="value"in Ai?Ai.value:Ai.textContent,Ta=!0)),pt=Pc(j,Lt),0<pt.length&&(Lt=new Ri(Lt,e,null,a,$),et.push({event:Lt,listeners:pt}),Dt?Lt.data=Dt:(Dt=Ea(a),Dt!==null&&(Lt.data=Dt)))),(Dt=xn?AA(e,a):bA(e,a))&&(Lt=Pc(j,"onBeforeInput"),0<Lt.length&&(pt=new Ri("onBeforeInput","beforeinput",null,a,$),et.push({event:pt,listeners:Lt}),pt.data=Dt)),pb(et,e,j,a,$)}J_(et,i)})}function Al(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Pc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Xn(e,a),h!=null&&l.unshift(Al(e,h,d)),h=Xn(e,i),h!=null&&l.push(Al(e,h,d))),e.tag===3)return l;e=e.return}return[]}function vb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function W_(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,D=S.alternate,j=S.stateNode;if(S=S.tag,D!==null&&D===l)break;S!==5&&S!==26&&S!==27||j===null||(D=j,h?(j=Xn(a,d),j!=null&&_.unshift(Al(a,j,D))):h||(j=Xn(a,d),j!=null&&_.push(Al(a,j,D)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var Eb=/\r\n?/g,Tb=/\u0000|\uFFFD/g;function tv(e){return(typeof e=="string"?e:""+e).replace(Eb,`
`).replace(Tb,"")}function ev(e,i){return i=tv(i),tv(e)===i}function ee(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||hn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&hn(e,""+l);break;case"className":vn(e,"class",l);break;case"tabIndex":vn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(e,a,l);break;case"style":qo(e,l,d);break;case"data":if(i!=="object"){vn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=pa(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&ee(e,i,"name",h.name,h,null),ee(e,i,"formEncType",h.formEncType,h,null),ee(e,i,"formMethod",h.formMethod,h,null),ee(e,i,"formTarget",h.formTarget,h,null)):(ee(e,i,"encType",h.encType,h,null),ee(e,i,"method",h.method,h,null),ee(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=pa(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=$n);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=pa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),fa(e,"popover",l);break;case"xlinkActuate":we(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":we(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":we(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":we(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":we(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":we(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":we(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":we(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":we(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fa(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Pu.get(a)||a,fa(e,a,l))}}function Kd(e,i,a,l,h,d){switch(a){case"style":qo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?hn(e,l):(typeof l=="number"||typeof l=="bigint")&&hn(e,""+l);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Po.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Le]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):fa(e,a,l)}}}function Qe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ee(e,i,d,_,a,null)}}h&&ee(e,i,"srcSet",a.srcSet,a,null),l&&ee(e,i,"src",a.src,a,null);return;case"input":Vt("invalid",e);var S=d=_=h=null,D=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":_=$;break;case"checked":D=$;break;case"defaultChecked":j=$;break;case"value":d=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:ee(e,i,l,$,a,null)}}Mu(e,d,S,D,j,_,h,!1);return;case"select":Vt("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:ee(e,i,h,S,a,null)}i=d,a=_,e.multiple=!!l,i!=null?vr(e,!!l,i,!1):a!=null&&vr(e,!!l,a,!0);return;case"textarea":Vt("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:ee(e,i,_,S,a,null)}Er(e,l,h,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ee(e,i,D,l,a,null)}return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(l=0;l<Sl.length;l++)Vt(Sl[l],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ee(e,i,j,l,a,null)}return;default:if(ma(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Kd(e,i,$,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&ee(e,i,S,l,a,null))}function Sb(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,D=null,j=null,$=null;for(G in a){var et=a[G];if(a.hasOwnProperty(G)&&et!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":D=et;default:l.hasOwnProperty(G)||ee(e,i,G,null,l,et)}}for(var B in l){var G=l[B];if(et=a[B],l.hasOwnProperty(B)&&(G!=null||et!=null))switch(B){case"type":d=G;break;case"name":h=G;break;case"checked":j=G;break;case"defaultChecked":$=G;break;case"value":_=G;break;case"defaultValue":S=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:G!==et&&ee(e,i,B,G,l,et)}}da(e,_,S,D,j,$,d,h);return;case"select":G=_=S=B=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":G=D;default:l.hasOwnProperty(d)||ee(e,i,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":B=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==D&&ee(e,i,h,d,l,D)}i=S,a=_,l=G,B!=null?vr(e,!!a,B,!1):!!l!=!!a&&(i!=null?vr(e,!!a,i,!0):vr(e,!!a,a?[]:"",!1));return;case"textarea":G=B=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ee(e,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":B=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&ee(e,i,_,h,l,d)}Vu(e,B,G);return;case"option":for(var mt in a)if(B=a[mt],a.hasOwnProperty(mt)&&B!=null&&!l.hasOwnProperty(mt))switch(mt){case"selected":e.selected=!1;break;default:ee(e,i,mt,null,l,B)}for(D in l)if(B=l[D],G=a[D],l.hasOwnProperty(D)&&B!==G&&(B!=null||G!=null))switch(D){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:ee(e,i,D,B,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in a)B=a[Tt],a.hasOwnProperty(Tt)&&B!=null&&!l.hasOwnProperty(Tt)&&ee(e,i,Tt,null,l,B);for(j in l)if(B=l[j],G=a[j],l.hasOwnProperty(j)&&B!==G&&(B!=null||G!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:ee(e,i,j,B,l,G)}return;default:if(ma(i)){for(var ne in a)B=a[ne],a.hasOwnProperty(ne)&&B!==void 0&&!l.hasOwnProperty(ne)&&Kd(e,i,ne,void 0,l,B);for($ in l)B=l[$],G=a[$],!l.hasOwnProperty($)||B===G||B===void 0&&G===void 0||Kd(e,i,$,B,l,G);return}}for(var U in a)B=a[U],a.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&ee(e,i,U,null,l,B);for(et in l)B=l[et],G=a[et],!l.hasOwnProperty(et)||B===G||B==null&&G==null||ee(e,i,et,B,l,G)}function nv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ab(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&nv(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var D=a[l],j=D.startTime;if(j>S)break;var $=D.transferSize,et=D.initiatorType;$&&nv(et)&&(D=D.responseEnd,_+=$*(D<S?1:(S-j)/(D-j)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Yd=null,$d=null;function Lc(e){return e.nodeType===9?e:e.ownerDocument}function iv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Xd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Jd=null;function bb(){var e=window.event;return e&&e.type==="popstate"?e===Jd?!1:(Jd=e,!0):(Jd=null,!1)}var sv=typeof setTimeout=="function"?setTimeout:void 0,wb=typeof clearTimeout=="function"?clearTimeout:void 0,av=typeof Promise=="function"?Promise:void 0,Rb=typeof queueMicrotask=="function"?queueMicrotask:typeof av<"u"?function(e){return av.resolve(null).then(e).catch(Cb)}:sv;function Cb(e){setTimeout(function(){throw e})}function Hr(e){return e==="head"}function ov(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),$a(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")bl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,bl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[gi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&bl(e.ownerDocument.body);a=h}while(a);$a(i)}function lv(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Zd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zd(a),ha(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Ib(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[gi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Bn(e.nextSibling),e===null)break}return null}function Nb(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Bn(e.nextSibling),e===null))return null;return e}function uv(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Bn(e.nextSibling),e===null))return null;return e}function Wd(e){return e.data==="$?"||e.data==="$~"}function tm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Db(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Bn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var em=null;function cv(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Bn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function hv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function fv(e,i,a){switch(i=Lc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function bl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ha(e)}var qn=new Map,dv=new Set;function Uc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var rr=lt.d;lt.d={f:Ob,r:Mb,D:Vb,C:xb,L:Pb,m:Lb,X:kb,S:Ub,M:zb};function Ob(){var e=rr.f(),i=Ic();return e||i}function Mb(e){var i=On(e);i!==null&&i.tag===5&&i.type==="form"?Dy(i):rr.r(e)}var Qa=typeof document>"u"?null:document;function mv(e,i,a){var l=Qa;if(l&&typeof i=="string"&&i){var h=cn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),dv.has(h)||(dv.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Qe(i,"link",e),be(i),l.head.appendChild(i)))}}function Vb(e){rr.D(e),mv("dns-prefetch",e,null)}function xb(e,i){rr.C(e,i),mv("preconnect",e,i)}function Pb(e,i,a){rr.L(e,i,a);var l=Qa;if(l&&e&&i){var h='link[rel="preload"][as="'+cn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+cn(a.imageSizes)+'"]')):h+='[href="'+cn(e)+'"]';var d=h;switch(i){case"style":d=Ka(e);break;case"script":d=Ya(e)}qn.has(d)||(e=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),qn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(wl(d))||i==="script"&&l.querySelector(Rl(d))||(i=l.createElement("link"),Qe(i,"link",e),be(i),l.head.appendChild(i)))}}function Lb(e,i){rr.m(e,i);var a=Qa;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+cn(l)+'"][href="'+cn(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ya(e)}if(!qn.has(d)&&(e=T({rel:"modulepreload",href:e},i),qn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Rl(d)))return}l=a.createElement("link"),Qe(l,"link",e),be(l),a.head.appendChild(l)}}}function Ub(e,i,a){rr.S(e,i,a);var l=Qa;if(l&&e){var h=_i(l).hoistableStyles,d=Ka(e);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(wl(d)))S.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},a),(a=qn.get(d))&&nm(e,a);var D=_=l.createElement("link");be(D),Qe(D,"link",e),D._p=new Promise(function(j,$){D.onload=j,D.onerror=$}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,kc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function kb(e,i){rr.X(e,i);var a=Qa;if(a&&e){var l=_i(a).hoistableScripts,h=Ya(e),d=l.get(h);d||(d=a.querySelector(Rl(h)),d||(e=T({src:e,async:!0},i),(i=qn.get(h))&&im(e,i),d=a.createElement("script"),be(d),Qe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function zb(e,i){rr.M(e,i);var a=Qa;if(a&&e){var l=_i(a).hoistableScripts,h=Ya(e),d=l.get(h);d||(d=a.querySelector(Rl(h)),d||(e=T({src:e,async:!0,type:"module"},i),(i=qn.get(h))&&im(e,i),d=a.createElement("script"),be(d),Qe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function pv(e,i,a,l){var h=(h=ht.current)?Uc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ka(a.href),a=_i(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ka(a.href);var d=_i(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(wl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),qn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(e,a),d||jb(h,e,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ya(a),a=_i(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ka(e){return'href="'+cn(e)+'"'}function wl(e){return'link[rel="stylesheet"]['+e+"]"}function gv(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function jb(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Qe(i,"link",a),be(i),e.head.appendChild(i))}function Ya(e){return'[src="'+cn(e)+'"]'}function Rl(e){return"script[async]"+e}function yv(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+cn(a.href)+'"]');if(l)return i.instance=l,be(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),be(l),Qe(l,"style",h),kc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Ka(a.href);var d=e.querySelector(wl(h));if(d)return i.state.loading|=4,i.instance=d,be(d),d;l=gv(a),(h=qn.get(h))&&nm(l,h),d=(e.ownerDocument||e).createElement("link"),be(d);var _=d;return _._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),Qe(d,"link",l),i.state.loading|=4,kc(d,a.precedence,e),i.instance=d;case"script":return d=Ya(a.src),(h=e.querySelector(Rl(d)))?(i.instance=h,be(h),h):(l=a,(h=qn.get(d))&&(l=T({},a),im(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),be(h),Qe(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,kc(l,a.precedence,e));return i.instance}function kc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function nm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function im(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var zc=null;function _v(e,i,a){if(zc===null){var l=new Map,h=zc=new Map;h.set(a,l)}else h=zc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[gi]||d[Ae]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function vv(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function Bb(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Ev(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function qb(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ka(l.href),d=i.querySelector(wl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=jc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,be(d);return}d=i.ownerDocument||i,l=gv(l),(h=qn.get(h))&&nm(l,h),d=d.createElement("link"),be(d);var _=d;_._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),Qe(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=jc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var rm=0;function Hb(e,i){return e.stylesheets&&e.count===0&&qc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&qc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&rm===0&&(rm=62500*Ab());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&qc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>rm?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function jc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Bc=null;function qc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Bc=new Map,i.forEach(Fb,e),Bc=null,jc.call(e))}function Fb(e,i){if(!(i.state.loading&4)){var a=Bc.get(e);if(a)var l=a.get(null);else{a=new Map,Bc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=jc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Cl={$$typeof:st,Provider:null,Consumer:null,_currentValue:yt,_currentValue2:yt,_threadCount:0};function Gb(e,i,a,l,h,d,_,S,D){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Tv(e,i,a,l,h,d,_,S,D,j,$,et){return e=new Gb(e,i,a,_,D,j,$,et,S),i=1,d===!0&&(i|=24),d=Tn(3,null,null,i),e.current=d,d.stateNode=e,i=Uf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Bf(d),e}function Sv(e){return e?(e=wa,e):wa}function Av(e,i,a,l,h,d){h=Sv(h),l.context===null?l.context=h:l.pendingContext=h,l=Mr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Vr(e,l,i),a!==null&&(gn(a,e,i),sl(a,e,i))}function bv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function sm(e,i){bv(e,i),(e=e.alternate)&&bv(e,i)}function wv(e){if(e.tag===13||e.tag===31){var i=ks(e,67108864);i!==null&&gn(i,e,67108864),sm(e,67108864)}}function Rv(e){if(e.tag===13||e.tag===31){var i=Rn();i=Rs(i);var a=ks(e,i);a!==null&&gn(a,e,i),sm(e,i)}}var Hc=!0;function Qb(e,i,a,l){var h=Y.T;Y.T=null;var d=lt.p;try{lt.p=2,am(e,i,a,l)}finally{lt.p=d,Y.T=h}}function Kb(e,i,a,l){var h=Y.T;Y.T=null;var d=lt.p;try{lt.p=8,am(e,i,a,l)}finally{lt.p=d,Y.T=h}}function am(e,i,a,l){if(Hc){var h=om(l);if(h===null)Qd(e,i,l,Fc,a),Iv(e,l);else if($b(h,e,i,a,l))l.stopPropagation();else if(Iv(e,l),i&4&&-1<Yb.indexOf(e)){for(;h!==null;){var d=On(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=fi(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var D=1<<31-ge(_);S.entanglements[1]|=D,_&=~D}Oi(d),(Yt&6)===0&&(Rc=nn()+500,Tl(0))}}break;case 31:case 13:S=ks(d,2),S!==null&&gn(S,d,2),Ic(),sm(d,2)}if(d=om(l),d===null&&Qd(e,i,l,Fc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Qd(e,i,l,null,a)}}function om(e){return e=Mn(e),lm(e)}var Fc=null;function lm(e){if(Fc=null,e=yi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Fc=e,null}function Cv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ss()){case Do:return 2;case Oo:return 8;case yr:case mf:return 32;case Su:return 268435456;default:return 32}default:return 32}}var um=!1,Fr=null,Gr=null,Qr=null,Il=new Map,Nl=new Map,Kr=[],Yb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Iv(e,i){switch(e){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Il.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(i.pointerId)}}function Dl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=On(i),i!==null&&wv(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function $b(e,i,a,l,h){switch(i){case"focusin":return Fr=Dl(Fr,e,i,a,l,h),!0;case"dragenter":return Gr=Dl(Gr,e,i,a,l,h),!0;case"mouseover":return Qr=Dl(Qr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Il.set(d,Dl(Il.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Nl.set(d,Dl(Nl.get(d)||null,e,i,a,l,h)),!0}return!1}function Nv(e){var i=yi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Kn(e.priority,function(){Rv(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,Kn(e.priority,function(){Rv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=om(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Ho=l,a.target.dispatchEvent(l),Ho=null}else return i=On(a),i!==null&&wv(i),e.blockedOn=a,!1;i.shift()}return!0}function Dv(e,i,a){Gc(e)&&a.delete(i)}function Xb(){um=!1,Fr!==null&&Gc(Fr)&&(Fr=null),Gr!==null&&Gc(Gr)&&(Gr=null),Qr!==null&&Gc(Qr)&&(Qr=null),Il.forEach(Dv),Nl.forEach(Dv)}function Qc(e,i){e.blockedOn===i&&(e.blockedOn=null,um||(um=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Xb)))}var Kc=null;function Ov(e){Kc!==e&&(Kc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Kc===e&&(Kc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(lm(l||a)===null)continue;break}var d=On(a);d!==null&&(e.splice(i,3),i-=3,od(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function $a(e){function i(D){return Qc(D,e)}Fr!==null&&Qc(Fr,e),Gr!==null&&Qc(Gr,e),Qr!==null&&Qc(Qr,e),Il.forEach(i),Nl.forEach(i);for(var a=0;a<Kr.length;a++){var l=Kr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Kr.length&&(a=Kr[0],a.blockedOn===null);)Nv(a),a.blockedOn===null&&Kr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Le]||null;if(typeof d=="function")_||Ov(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Le]||null)S=_.formAction;else if(lm(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Ov(a)}}}function Mv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function cm(e){this._internalRoot=e}Yc.prototype.render=cm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Rn();Av(a,l,e,i,null,null)},Yc.prototype.unmount=cm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Av(e.current,2,null,e,null,null),Ic(),i[pi]=null}};function Yc(e){this._internalRoot=e}Yc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Iu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Kr.length&&i!==0&&i<Kr[a].priority;a++);Kr.splice(a,0,e),a===0&&Nv(e)}};var Vv=t.version;if(Vv!=="19.2.0")throw Error(s(527,Vv,"19.2.0"));lt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var Jb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{Gn=$c.inject(Jb),Be=$c}catch{}}return Ml.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=jy,d=By,_=qy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Tv(e,1,!1,null,null,a,l,null,h,d,_,Mv),e[pi]=i.current,Gd(e),new cm(i)},Ml.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=jy,_=By,S=qy,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=Tv(e,1,!0,i,a??null,l,h,D,d,_,S,Mv),i.context=Sv(null),a=i.current,l=Rn(),l=Rs(l),h=Mr(l),h.callback=null,Vr(a,h,l),a=l,i.current.lanes=a,bs(i,a),Oi(i),e[pi]=i.current,Gd(e),new Yc(i)},Ml.version="19.2.0",Ml}var Fv;function cw(){if(Fv)return dm.exports;Fv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),dm.exports=uw(),dm.exports}var hw=cw();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Gv="popstate";function fw(r={}){function t(s,o){let{pathname:u,search:f,hash:m}=s.location;return km("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:$l(o)}return mw(t,n,null,r)}function ce(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function si(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function dw(){return Math.random().toString(36).substring(2,10)}function Qv(r,t){return{usr:r.state,key:r.key,idx:t}}function km(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?yo(t):t,state:n,key:t&&t.key||s||dw()}}function $l({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function yo(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function mw(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let F=E(),rt=F==null?null:F-y;y=F,p&&p({action:m,location:J.location,delta:rt})}function b(F,rt){m="PUSH";let at=km(J.location,F,rt);y=E()+1;let st=Qv(at,y),vt=J.createHref(at);try{f.pushState(st,"",vt)}catch(wt){if(wt instanceof DOMException&&wt.name==="DataCloneError")throw wt;o.location.assign(vt)}u&&p&&p({action:m,location:J.location,delta:1})}function P(F,rt){m="REPLACE";let at=km(J.location,F,rt);y=E();let st=Qv(at,y),vt=J.createHref(at);f.replaceState(st,"",vt),u&&p&&p({action:m,location:J.location,delta:0})}function K(F){return pw(F)}let J={get action(){return m},get location(){return r(o,f)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Gv,T),p=F,()=>{o.removeEventListener(Gv,T),p=null}},createHref(F){return t(o,F)},createURL:K,encodeLocation(F){let rt=K(F);return{pathname:rt.pathname,search:rt.search,hash:rt.hash}},push:b,replace:P,go(F){return f.go(F)}};return J}function pw(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ce(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:$l(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function DT(r,t,n="/"){return gw(r,t,n,!1)}function gw(r,t,n,s){let o=typeof t=="string"?yo(t):t,u=lr(o.pathname||"/",n);if(u==null)return null;let f=OT(r);yw(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=Iw(u);m=Rw(f[p],y,s)}return m}function OT(r,t=[],n=[],s="",o=!1){let u=(f,m,p=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ce(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=or([s,E.relativePath]),b=n.concat(E);f.children&&f.children.length>0&&(ce(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),OT(f.children,t,b,T,p)),!(f.path==null&&!f.index)&&t.push({path:T,score:bw(T,f.index),routesMeta:b})};return r.forEach((f,m)=>{var p;if(f.path===""||!((p=f.path)!=null&&p.includes("?")))u(f,m);else for(let y of MT(f.path))u(f,m,!0,y)}),t}function MT(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=MT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function yw(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:ww(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var _w=/^:[\w-]+$/,vw=3,Ew=2,Tw=1,Sw=10,Aw=-2,Kv=r=>r==="*";function bw(r,t){let n=r.split("/"),s=n.length;return n.some(Kv)&&(s+=Aw),t&&(s+=Ew),n.filter(o=>!Kv(o)).reduce((o,u)=>o+(_w.test(u)?vw:u===""?Tw:Sw),s)}function ww(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function Rw(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",T=_h({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),b=p.route;if(!T&&y&&n&&!s[s.length-1].route.index&&(T=_h({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:or([u,T.pathname]),pathnameBase:Mw(or([u,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(u=or([u,T.pathnameBase]))}return f}function _h(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Cw(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:T},b)=>{if(E==="*"){let K=m[b]||"";f=u.slice(0,u.length-K.length).replace(/(.)\/+$/,"$1")}const P=m[b];return T&&!P?y[E]=void 0:y[E]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function Cw(r,t=!1,n=!0){si(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function Iw(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return si(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function lr(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function Nw(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?yo(r):r;return{pathname:n?n.startsWith("/")?n:Dw(n,t):t,search:Vw(s),hash:xw(o)}}function Dw(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ym(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ow(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function fp(r){let t=Ow(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function dp(r,t,n,s=!1){let o;typeof r=="string"?o=yo(r):(o={...r},ce(!o.pathname||!o.pathname.includes("?"),ym("?","pathname","search",o)),ce(!o.pathname||!o.pathname.includes("#"),ym("#","pathname","hash",o)),ce(!o.search||!o.search.includes("#"),ym("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=t.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),T-=1;o.pathname=b.join("/")}m=T>=0?t[T]:"/"}let p=Nw(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var or=r=>r.join("/").replace(/\/\/+/g,"/"),Mw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Vw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,xw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Pw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var VT=["POST","PUT","PATCH","DELETE"];new Set(VT);var Lw=["GET",...VT];new Set(Lw);var _o=Q.createContext(null);_o.displayName="DataRouter";var qh=Q.createContext(null);qh.displayName="DataRouterState";Q.createContext(!1);var xT=Q.createContext({isTransitioning:!1});xT.displayName="ViewTransition";var Uw=Q.createContext(new Map);Uw.displayName="Fetchers";var kw=Q.createContext(null);kw.displayName="Await";var oi=Q.createContext(null);oi.displayName="Navigation";var su=Q.createContext(null);su.displayName="Location";var li=Q.createContext({outlet:null,matches:[],isDataRoute:!1});li.displayName="Route";var mp=Q.createContext(null);mp.displayName="RouteError";function zw(r,{relative:t}={}){ce(vo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=Q.useContext(oi),{hash:o,pathname:u,search:f}=au(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:or([n,u])),s.createHref({pathname:m,search:f,hash:o})}function vo(){return Q.useContext(su)!=null}function _s(){return ce(vo(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(su).location}var PT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LT(r){Q.useContext(oi).static||Q.useLayoutEffect(r)}function UT(){let{isDataRoute:r}=Q.useContext(li);return r?t1():jw()}function jw(){ce(vo(),"useNavigate() may be used only in the context of a <Router> component.");let r=Q.useContext(_o),{basename:t,navigator:n}=Q.useContext(oi),{matches:s}=Q.useContext(li),{pathname:o}=_s(),u=JSON.stringify(fp(s)),f=Q.useRef(!1);return LT(()=>{f.current=!0}),Q.useCallback((p,y={})=>{if(si(f.current,PT),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=dp(p,JSON.parse(u),o,y.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:or([t,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[t,n,u,o,r])}var Bw=Q.createContext(null);function qw(r){let t=Q.useContext(li).outlet;return Q.useMemo(()=>t&&Q.createElement(Bw.Provider,{value:r},t),[t,r])}function au(r,{relative:t}={}){let{matches:n}=Q.useContext(li),{pathname:s}=_s(),o=JSON.stringify(fp(n));return Q.useMemo(()=>dp(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function Hw(r,t){return kT(r,t)}function kT(r,t,n,s,o){var at;ce(vo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=Q.useContext(oi),{matches:f}=Q.useContext(li),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let st=T&&T.path||"";zT(y,!T||st.endsWith("*")||st.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${st}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${st}"> to <Route path="${st==="/"?"*":`${st}/*`}">.`)}let b=_s(),P;if(t){let st=typeof t=="string"?yo(t):t;ce(E==="/"||((at=st.pathname)==null?void 0:at.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${st.pathname}" was given in the \`location\` prop.`),P=st}else P=b;let K=P.pathname||"/",J=K;if(E!=="/"){let st=E.replace(/^\//,"").split("/");J="/"+K.replace(/^\//,"").split("/").slice(st.length).join("/")}let F=DT(r,{pathname:J});si(T||F!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),si(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let rt=Yw(F&&F.map(st=>Object.assign({},st,{params:Object.assign({},p,st.params),pathname:or([E,u.encodeLocation?u.encodeLocation(st.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:st.pathname]),pathnameBase:st.pathnameBase==="/"?E:or([E,u.encodeLocation?u.encodeLocation(st.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:st.pathnameBase])})),f,n,s,o);return t&&rt?Q.createElement(su.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},rt):rt}function Fw(){let r=Ww(),t=Pw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=Q.createElement(Q.Fragment,null,Q.createElement("p",null,"💿 Hey developer 👋"),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:u},"ErrorBoundary")," or"," ",Q.createElement("code",{style:u},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},t),n?Q.createElement("pre",{style:o},n):null,f)}var Gw=Q.createElement(Fw,null),Qw=class extends Q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.unstable_onError?this.props.unstable_onError(r,t):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?Q.createElement(li.Provider,{value:this.props.routeContext},Q.createElement(mp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Kw({routeContext:r,match:t,children:n}){let s=Q.useContext(_o);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),Q.createElement(li.Provider,{value:r},n)}function Yw(r,t=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n==null?void 0:n.errors;if(f!=null){let y=u.findIndex(E=>E.route.id&&(f==null?void 0:f[E.route.id])!==void 0);ce(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let m=!1,p=-1;if(n)for(let y=0;y<u.length;y++){let E=u[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=y),E.route.id){let{loaderData:T,errors:b}=n,P=E.route.loader&&!T.hasOwnProperty(E.route.id)&&(!b||b[E.route.id]===void 0);if(E.route.lazy||P){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((y,E,T)=>{let b,P=!1,K=null,J=null;n&&(b=f&&E.route.id?f[E.route.id]:void 0,K=E.route.errorElement||Gw,m&&(p<0&&T===0?(zT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,J=null):p===T&&(P=!0,J=E.route.hydrateFallbackElement||null)));let F=t.concat(u.slice(0,T+1)),rt=()=>{let at;return b?at=K:P?at=J:E.route.Component?at=Q.createElement(E.route.Component,null):E.route.element?at=E.route.element:at=y,Q.createElement(Kw,{match:E,routeContext:{outlet:y,matches:F,isDataRoute:n!=null},children:at})};return n&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?Q.createElement(Qw,{location:n.location,revalidation:n.revalidation,component:K,error:b,children:rt(),routeContext:{outlet:null,matches:F,isDataRoute:!0},unstable_onError:s}):rt()},null)}function pp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $w(r){let t=Q.useContext(_o);return ce(t,pp(r)),t}function Xw(r){let t=Q.useContext(qh);return ce(t,pp(r)),t}function Jw(r){let t=Q.useContext(li);return ce(t,pp(r)),t}function gp(r){let t=Jw(r),n=t.matches[t.matches.length-1];return ce(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Zw(){return gp("useRouteId")}function Ww(){var s;let r=Q.useContext(mp),t=Xw("useRouteError"),n=gp("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[n]}function t1(){let{router:r}=$w("useNavigate"),t=gp("useNavigate"),n=Q.useRef(!1);return LT(()=>{n.current=!0}),Q.useCallback(async(o,u={})=>{si(n.current,PT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var Yv={};function zT(r,t,n){!t&&!Yv[r]&&(Yv[r]=!0,si(!1,n))}Q.memo(e1);function e1({routes:r,future:t,state:n,unstable_onError:s}){return kT(r,void 0,n,s,t)}function $v({to:r,replace:t,state:n,relative:s}){ce(vo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=Q.useContext(oi);si(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=Q.useContext(li),{pathname:f}=_s(),m=UT(),p=dp(r,fp(u),f,s==="path"),y=JSON.stringify(p);return Q.useEffect(()=>{m(JSON.parse(y),{replace:t,state:n,relative:s})},[m,y,s,t,n]),null}function n1(r){return qw(r.context)}function Jr(r){ce(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function i1({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ce(!vo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=Q.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=yo(n));let{pathname:p="/",search:y="",hash:E="",state:T=null,key:b="default"}=n,P=Q.useMemo(()=>{let K=lr(p,f);return K==null?null:{location:{pathname:K,search:y,hash:E,state:T,key:b},navigationType:s}},[f,p,y,E,T,b,s]);return si(P!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:Q.createElement(oi.Provider,{value:m},Q.createElement(su.Provider,{children:t,value:P}))}function r1({children:r,location:t}){return Hw(zm(r),t)}function zm(r,t=[]){let n=[];return Q.Children.forEach(r,(s,o)=>{if(!Q.isValidElement(s))return;let u=[...t,o];if(s.type===Q.Fragment){n.push.apply(n,zm(s.props.children,u));return}ce(s.type===Jr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ce(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=zm(s.props.children,u)),n.push(f)}),n}var sh="get",ah="application/x-www-form-urlencoded";function Hh(r){return r!=null&&typeof r.tagName=="string"}function s1(r){return Hh(r)&&r.tagName.toLowerCase()==="button"}function a1(r){return Hh(r)&&r.tagName.toLowerCase()==="form"}function o1(r){return Hh(r)&&r.tagName.toLowerCase()==="input"}function l1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function u1(r,t){return r.button===0&&(!t||t==="_self")&&!l1(r)}var Jc=null;function c1(){if(Jc===null)try{new FormData(document.createElement("form"),0),Jc=!1}catch{Jc=!0}return Jc}var h1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _m(r){return r!=null&&!h1.has(r)?(si(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ah}"`),null):r}function f1(r,t){let n,s,o,u,f;if(a1(r)){let m=r.getAttribute("action");s=m?lr(m,t):null,n=r.getAttribute("method")||sh,o=_m(r.getAttribute("enctype"))||ah,u=new FormData(r)}else if(s1(r)||o1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?lr(p,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||sh,o=_m(r.getAttribute("formenctype"))||_m(m.getAttribute("enctype"))||ah,u=new FormData(m,r),!c1()){let{name:y,type:E,value:T}=r;if(E==="image"){let b=y?`${y}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else y&&u.append(y,T)}}else{if(Hh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sh,s=null,o=ah,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yp(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function d1(r,t,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&lr(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function m1(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function p1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function g1(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await m1(u,n);return f.links?f.links():[]}return[]}));return E1(s.flat(1).filter(p1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Xv(r,t,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>{var E;return n[y].pathname!==p.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?t.filter((p,y)=>{var T;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function y1(r,t,{includeHydrateFallback:n}={}){return _1(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function _1(r){return[...new Set(r)]}function v1(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function E1(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(v1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function jT(){let r=Q.useContext(_o);return yp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function T1(){let r=Q.useContext(qh);return yp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var _p=Q.createContext(void 0);_p.displayName="FrameworkContext";function BT(){let r=Q.useContext(_p);return yp(r,"You must render this element inside a <HydratedRouter> element"),r}function S1(r,t){let n=Q.useContext(_p),[s,o]=Q.useState(!1),[u,f]=Q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:T}=t,b=Q.useRef(null);Q.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let J=rt=>{rt.forEach(at=>{f(at.isIntersecting)})},F=new IntersectionObserver(J,{threshold:.5});return b.current&&F.observe(b.current),()=>{F.disconnect()}}},[r]),Q.useEffect(()=>{if(s){let J=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(J)}}},[s]);let P=()=>{o(!0)},K=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Vl(m,P),onBlur:Vl(p,K),onMouseEnter:Vl(y,P),onMouseLeave:Vl(E,K),onTouchStart:Vl(T,P)}]:[!1,b,{}]}function Vl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function A1({page:r,...t}){let{router:n}=jT(),s=Q.useMemo(()=>DT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?Q.createElement(w1,{page:r,matches:s,...t}):null}function b1(r){let{manifest:t,routeModules:n}=BT(),[s,o]=Q.useState([]);return Q.useEffect(()=>{let u=!1;return g1(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function w1({page:r,matches:t,...n}){let s=_s(),{manifest:o,routeModules:u}=BT(),{basename:f}=jT(),{loaderData:m,matches:p}=T1(),y=Q.useMemo(()=>Xv(r,t,p,o,s,"data"),[r,t,p,o,s]),E=Q.useMemo(()=>Xv(r,t,p,o,s,"assets"),[r,t,p,o,s]),T=Q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let K=new Set,J=!1;if(t.forEach(rt=>{var st;let at=o.routes[rt.route.id];!at||!at.hasLoader||(!y.some(vt=>vt.route.id===rt.route.id)&&rt.route.id in m&&((st=u[rt.route.id])!=null&&st.shouldRevalidate)||at.hasClientLoader?J=!0:K.add(rt.route.id))}),K.size===0)return[];let F=d1(r,f,"data");return J&&K.size>0&&F.searchParams.set("_routes",t.filter(rt=>K.has(rt.route.id)).map(rt=>rt.route.id).join(",")),[F.pathname+F.search]},[f,m,s,o,y,t,r,u]),b=Q.useMemo(()=>y1(E,o),[E,o]),P=b1(E);return Q.createElement(Q.Fragment,null,T.map(K=>Q.createElement("link",{key:K,rel:"prefetch",as:"fetch",href:K,...n})),b.map(K=>Q.createElement("link",{key:K,rel:"modulepreload",href:K,...n})),P.map(({key:K,link:J})=>Q.createElement("link",{key:K,nonce:n.nonce,...J})))}function R1(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var qT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qT&&(window.__reactRouterVersion="7.9.4")}catch{}function C1({basename:r,children:t,window:n}){let s=Q.useRef();s.current==null&&(s.current=fw({window:n,v5Compat:!0}));let o=s.current,[u,f]=Q.useState({action:o.action,location:o.location}),m=Q.useCallback(p=>{Q.startTransition(()=>f(p))},[f]);return Q.useLayoutEffect(()=>o.listen(m),[o,m]),Q.createElement(i1,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var HT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FT=Q.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:T,...b},P){let{basename:K}=Q.useContext(oi),J=typeof y=="string"&&HT.test(y),F,rt=!1;if(typeof y=="string"&&J&&(F=y,qT))try{let w=new URL(window.location.href),O=y.startsWith("//")?new URL(w.protocol+y):new URL(y),M=lr(O.pathname,K);O.origin===w.origin&&M!=null?y=M+O.search+O.hash:rt=!0}catch{si(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let at=zw(y,{relative:o}),[st,vt,wt]=S1(s,b),it=D1(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T});function C(w){t&&t(w),w.defaultPrevented||it(w)}let R=Q.createElement("a",{...b,...wt,href:F||at,onClick:rt||u?t:C,ref:R1(P,vt),target:p,"data-discover":!J&&n==="render"?"true":void 0});return st&&!J?Q.createElement(Q.Fragment,null,R,Q.createElement(A1,{page:at})):R});FT.displayName="Link";var Ll=Q.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let T=au(f,{relative:y.relative}),b=_s(),P=Q.useContext(qh),{navigator:K,basename:J}=Q.useContext(oi),F=P!=null&&P1(T)&&m===!0,rt=K.encodeLocation?K.encodeLocation(T).pathname:T.pathname,at=b.pathname,st=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(at=at.toLowerCase(),st=st?st.toLowerCase():null,rt=rt.toLowerCase()),st&&J&&(st=lr(st,J)||st);const vt=rt!=="/"&&rt.endsWith("/")?rt.length-1:rt.length;let wt=at===rt||!o&&at.startsWith(rt)&&at.charAt(vt)==="/",it=st!=null&&(st===rt||!o&&st.startsWith(rt)&&st.charAt(rt.length)==="/"),C={isActive:wt,isPending:it,isTransitioning:F},R=wt?t:void 0,w;typeof s=="function"?w=s(C):w=[s,wt?"active":null,it?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(C):u;return Q.createElement(FT,{...y,"aria-current":R,className:w,ref:E,style:O,to:f,viewTransition:m},typeof p=="function"?p(C):p)});Ll.displayName="NavLink";var I1=Q.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=sh,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:T,...b},P)=>{let K=V1(),J=x1(m,{relative:y}),F=f.toLowerCase()==="get"?"get":"post",rt=typeof m=="string"&&HT.test(m),at=st=>{if(p&&p(st),st.defaultPrevented)return;st.preventDefault();let vt=st.nativeEvent.submitter,wt=(vt==null?void 0:vt.getAttribute("formmethod"))||f;K(vt||st.currentTarget,{fetcherKey:t,method:wt,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:T})};return Q.createElement("form",{ref:P,method:F,action:J,onSubmit:s?p:at,...b,"data-discover":!rt&&r==="render"?"true":void 0})});I1.displayName="Form";function N1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GT(r){let t=Q.useContext(_o);return ce(t,N1(r)),t}function D1(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=UT(),p=_s(),y=au(r,{relative:u});return Q.useCallback(E=>{if(u1(E,t)){E.preventDefault();let T=n!==void 0?n:$l(p)===$l(y);m(r,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,y,n,s,t,r,o,u,f])}var O1=0,M1=()=>`__${String(++O1)}__`;function V1(){let{router:r}=GT("useSubmit"),{basename:t}=Q.useContext(oi),n=Zw();return Q.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=f1(s,t);if(o.navigate===!1){let E=o.fetcherKey||M1();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,n])}function x1(r,{relative:t}={}){let{basename:n}=Q.useContext(oi),s=Q.useContext(li);ce(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...au(r||".",{relative:t})},f=_s();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:or([n,u.pathname])),$l(u)}function P1(r,{relative:t}={}){let n=Q.useContext(xT);ce(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=GT("useViewTransitionState"),o=au(r,{relative:t});if(!n.isTransitioning)return!1;let u=lr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=lr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return _h(o.pathname,f)!=null||_h(o.pathname,u)!=null}const Jv=r=>{let t;const n=new Set,s=(y,E)=>{const T=typeof y=="function"?y(t):y;if(!Object.is(T,t)){const b=t;t=E??(typeof T!="object"||T===null)?T:Object.assign({},t,T),n.forEach(P=>P(t,b))}},o=()=>t,m={setState:s,getState:o,getInitialState:()=>p,subscribe:y=>(n.add(y),()=>n.delete(y))},p=t=r(s,o,m);return m},L1=(r=>r?Jv(r):Jv),U1=r=>r;function k1(r,t=U1){const n=Xc.useSyncExternalStore(r.subscribe,Xc.useCallback(()=>t(r.getState()),[r,t]),Xc.useCallback(()=>t(r.getInitialState()),[r,t]));return Xc.useDebugValue(n),n}const Zv=r=>{const t=L1(r),n=s=>k1(t,s);return Object.assign(n,t),n},z1=(r=>r?Zv(r):Zv),j1=[{id:"player-1",name:"Maayan"},{id:"player-2",name:"Nevo"},{id:"player-3",name:"Assaf"},{id:"player-4",name:"Gilad"}],B1=[{id:"pair-1",players:["player-1","player-2"]},{id:"pair-2",players:["player-1","player-3"]},{id:"pair-3",players:["player-1","player-4"]},{id:"pair-4",players:["player-2","player-3"]},{id:"pair-5",players:["player-2","player-4"]},{id:"pair-6",players:["player-3","player-4"]}],vm=r=>{if(typeof crypto<"u"&&"randomUUID"in crypto)return`${r}-${crypto.randomUUID()}`;const t=Math.random().toString(36).slice(2,11);return`${r}-${t}`},q1=()=>{};var Wv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},H1=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},KT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let b=(m&15)<<2|y>>6,P=y&63;p||(P=64,f||(b=64)),s.push(n[E],n[T],n[b],n[P])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(QT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):H1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||T==null)throw new F1;const b=u<<2|m>>4;if(s.push(b),y!==64){const P=m<<4&240|y>>2;if(s.push(P),T!==64){const K=y<<6&192|T;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class F1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G1=function(r){const t=QT(r);return KT.encodeByteArray(t,!0)},vh=function(r){return G1(r).replace(/\./g,"")},YT=function(r){try{return KT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=()=>Q1().__FIREBASE_DEFAULTS__,Y1=()=>{if(typeof process>"u"||typeof Wv>"u")return;const r=Wv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},$1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&YT(r[1]);return t&&JSON.parse(t)},Fh=()=>{try{return q1()||K1()||Y1()||$1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},$T=r=>{var t,n;return(n=(t=Fh())==null?void 0:t.emulatorHosts)==null?void 0:n[r]},X1=r=>{const t=$T(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},XT=()=>{var r;return(r=Fh())==null?void 0:r.config},JT=r=>{var t;return(t=Fh())==null?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ZT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[vh(JSON.stringify(n)),vh(JSON.stringify(f)),""].join(".")}const ql={};function W1(){const r={prod:[],emulator:[]};for(const t of Object.keys(ql))ql[t]?r.emulator.push(t):r.prod.push(t);return r}function tR(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let tE=!1;function WT(r,t){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||ql[r]===t||ql[r]||tE)return;ql[r]=t;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=W1().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,P){b.setAttribute("width","24"),b.setAttribute("id",P),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function y(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{tE=!0,f()},b}function E(b,P){b.setAttribute("id",P),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=tR(s),P=n("text"),K=document.getElementById(P)||document.createElement("span"),J=n("learnmore"),F=document.getElementById(J)||document.createElement("a"),rt=n("preprendIcon"),at=document.getElementById(rt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const st=b.element;m(st),E(F,J);const vt=y();p(at,rt),st.append(at,K,F,vt),document.body.appendChild(st)}u?(K.innerText="Preview backend disconnected.",at.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(at.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function nR(){var t;const r=(t=Fh())==null?void 0:t.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function sR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aR(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function oR(){return!nR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lR(){try{return typeof indexedDB=="object"}catch{return!1}}function uR(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)==null?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="FirebaseError";class mr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=cR,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ou.prototype.create)}}class ou{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?hR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new mr(o,m,s)}}function hR(r,t){return r.replace(fR,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const fR=/\{\$([^}]+)}/g;function dR(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function ea(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(eE(u)&&eE(f)){if(!ea(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function eE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function mR(r,t){const n=new pR(r,t);return n.subscribe.bind(n)}class pR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");gR(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Em),o.error===void 0&&(o.error=Em),o.complete===void 0&&(o.complete=Em);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gR(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Em(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(r){return r&&r._delegate?r._delegate:r}class na{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new J1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(vR(t))try{this.getOrInitializeService({instanceIdentifier:Zs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Zs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Zs){return this.instances.has(t)}getOptions(t=Zs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:_R(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Zs){return this.component?this.component.multipleInstances?t:Zs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _R(r){return r===Zs?void 0:r}function vR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new yR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ut||(Ut={}));const TR={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},SR=Ut.INFO,AR={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},bR=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=AR[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class vp{constructor(t){this.name=t,this._logLevel=SR,this._logHandler=bR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?TR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const wR=(r,t)=>t.some(n=>r instanceof n);let nE,iE;function RR(){return nE||(nE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CR(){return iE||(iE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const t0=new WeakMap,jm=new WeakMap,e0=new WeakMap,Tm=new WeakMap,Ep=new WeakMap;function IR(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(is(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&t0.set(n,r)}).catch(()=>{}),Ep.set(t,r),t}function NR(r){if(jm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});jm.set(r,t)}let Bm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return jm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||e0.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return is(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function DR(r){Bm=r(Bm)}function OR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Sm(this),t,...n);return e0.set(s,t.sort?t.sort():[t]),is(s)}:CR().includes(r)?function(...t){return r.apply(Sm(this),t),is(t0.get(this))}:function(...t){return is(r.apply(Sm(this),t))}}function MR(r){return typeof r=="function"?OR(r):(r instanceof IDBTransaction&&NR(r),wR(r,RR())?new Proxy(r,Bm):r)}function is(r){if(r instanceof IDBRequest)return IR(r);if(Tm.has(r))return Tm.get(r);const t=MR(r);return t!==r&&(Tm.set(r,t),Ep.set(t,r)),t}const Sm=r=>Ep.get(r);function VR(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=is(f);return s&&f.addEventListener("upgradeneeded",p=>{s(is(f.result),p.oldVersion,p.newVersion,is(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const xR=["get","getKey","getAll","getAllKeys","count"],PR=["put","add","delete","clear"],Am=new Map;function rE(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Am.get(t))return Am.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=PR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||xR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return Am.set(t,u),u}DR(r=>({...r,get:(t,n,s)=>rE(t,n)||r.get(t,n,s),has:(t,n)=>!!rE(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function UR(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const qm="@firebase/app",sE="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur=new vp("@firebase/app"),kR="@firebase/app-compat",zR="@firebase/analytics-compat",jR="@firebase/analytics",BR="@firebase/app-check-compat",qR="@firebase/app-check",HR="@firebase/auth",FR="@firebase/auth-compat",GR="@firebase/database",QR="@firebase/data-connect",KR="@firebase/database-compat",YR="@firebase/functions",$R="@firebase/functions-compat",XR="@firebase/installations",JR="@firebase/installations-compat",ZR="@firebase/messaging",WR="@firebase/messaging-compat",tC="@firebase/performance",eC="@firebase/performance-compat",nC="@firebase/remote-config",iC="@firebase/remote-config-compat",rC="@firebase/storage",sC="@firebase/storage-compat",aC="@firebase/firestore",oC="@firebase/ai",lC="@firebase/firestore-compat",uC="firebase",cC="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="[DEFAULT]",hC={[qm]:"fire-core",[kR]:"fire-core-compat",[jR]:"fire-analytics",[zR]:"fire-analytics-compat",[qR]:"fire-app-check",[BR]:"fire-app-check-compat",[HR]:"fire-auth",[FR]:"fire-auth-compat",[GR]:"fire-rtdb",[QR]:"fire-data-connect",[KR]:"fire-rtdb-compat",[YR]:"fire-fn",[$R]:"fire-fn-compat",[XR]:"fire-iid",[JR]:"fire-iid-compat",[ZR]:"fire-fcm",[WR]:"fire-fcm-compat",[tC]:"fire-perf",[eC]:"fire-perf-compat",[nC]:"fire-rc",[iC]:"fire-rc-compat",[rC]:"fire-gcs",[sC]:"fire-gcs-compat",[aC]:"fire-fst",[lC]:"fire-fst-compat",[oC]:"fire-vertex","fire-js":"fire-js",[uC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new Map,fC=new Map,Fm=new Map;function aE(r,t){try{r.container.addComponent(t)}catch(n){ur.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function uo(r){const t=r.name;if(Fm.has(t))return ur.debug(`There were multiple attempts to register component ${t}.`),!1;Fm.set(t,r);for(const n of Eh.values())aE(n,r);for(const n of fC.values())aE(n,r);return!0}function Tp(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function ii(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new ou("app","Firebase",dC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=cC;function n0(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:Hm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw rs.create("bad-app-name",{appName:String(o)});if(n||(n=XT()),!n)throw rs.create("no-options");const u=Eh.get(o);if(u){if(ea(n,u.options)&&ea(s,u.config))return u;throw rs.create("duplicate-app",{appName:o})}const f=new ER(o);for(const p of Fm.values())f.addComponent(p);const m=new mC(n,s,f);return Eh.set(o,m),m}function i0(r=Hm){const t=Eh.get(r);if(!t&&r===Hm&&XT())return n0();if(!t)throw rs.create("no-app",{appName:r});return t}function ss(r,t,n){let s=hC[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ur.warn(f.join(" "));return}uo(new na(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="firebase-heartbeat-database",gC=1,Xl="firebase-heartbeat-store";let bm=null;function r0(){return bm||(bm=VR(pC,gC,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Xl)}catch(n){console.warn(n)}}}}).catch(r=>{throw rs.create("idb-open",{originalErrorMessage:r.message})})),bm}async function yC(r){try{const n=(await r0()).transaction(Xl),s=await n.objectStore(Xl).get(s0(r));return await n.done,s}catch(t){if(t instanceof mr)ur.warn(t.message);else{const n=rs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ur.warn(n.message)}}}async function oE(r,t){try{const s=(await r0()).transaction(Xl,"readwrite");await s.objectStore(Xl).put(t,s0(r)),await s.done}catch(n){if(n instanceof mr)ur.warn(n.message);else{const s=rs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ur.warn(s.message)}}}function s0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=1024,vC=30;class EC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new SC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=lE();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>vC){const f=AC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ur.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=lE(),{heartbeatsToSend:s,unsentEntries:o}=TC(this._heartbeatsCache.heartbeats),u=vh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ur.warn(n),""}}}function lE(){return new Date().toISOString().substring(0,10)}function TC(r,t=_C){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),uE(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),uE(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class SC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lR()?uR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return oE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return oE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function uE(r){return vh(JSON.stringify({version:2,heartbeats:r})).length}function AC(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(r){uo(new na("platform-logger",t=>new LR(t),"PRIVATE")),uo(new na("heartbeat",t=>new EC(t),"PRIVATE")),ss(qm,sE,r),ss(qm,sE,"esm2020"),ss("fire-js","")}bC("");var cE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var as,a0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,R){function w(){}w.prototype=R.prototype,C.F=R.prototype,C.prototype=new w,C.prototype.constructor=C,C.D=function(O,M,L){for(var I=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)I[Zt-2]=arguments[Zt];return R.prototype[M].apply(O,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,R,w){w||(w=0);const O=Array(16);if(typeof R=="string")for(var M=0;M<16;++M)O[M]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(M=0;M<16;++M)O[M]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=C.g[0],w=C.g[1],M=C.g[2];let L=C.g[3],I;I=R+(L^w&(M^L))+O[0]+3614090360&4294967295,R=w+(I<<7&4294967295|I>>>25),I=L+(M^R&(w^M))+O[1]+3905402710&4294967295,L=R+(I<<12&4294967295|I>>>20),I=M+(w^L&(R^w))+O[2]+606105819&4294967295,M=L+(I<<17&4294967295|I>>>15),I=w+(R^M&(L^R))+O[3]+3250441966&4294967295,w=M+(I<<22&4294967295|I>>>10),I=R+(L^w&(M^L))+O[4]+4118548399&4294967295,R=w+(I<<7&4294967295|I>>>25),I=L+(M^R&(w^M))+O[5]+1200080426&4294967295,L=R+(I<<12&4294967295|I>>>20),I=M+(w^L&(R^w))+O[6]+2821735955&4294967295,M=L+(I<<17&4294967295|I>>>15),I=w+(R^M&(L^R))+O[7]+4249261313&4294967295,w=M+(I<<22&4294967295|I>>>10),I=R+(L^w&(M^L))+O[8]+1770035416&4294967295,R=w+(I<<7&4294967295|I>>>25),I=L+(M^R&(w^M))+O[9]+2336552879&4294967295,L=R+(I<<12&4294967295|I>>>20),I=M+(w^L&(R^w))+O[10]+4294925233&4294967295,M=L+(I<<17&4294967295|I>>>15),I=w+(R^M&(L^R))+O[11]+2304563134&4294967295,w=M+(I<<22&4294967295|I>>>10),I=R+(L^w&(M^L))+O[12]+1804603682&4294967295,R=w+(I<<7&4294967295|I>>>25),I=L+(M^R&(w^M))+O[13]+4254626195&4294967295,L=R+(I<<12&4294967295|I>>>20),I=M+(w^L&(R^w))+O[14]+2792965006&4294967295,M=L+(I<<17&4294967295|I>>>15),I=w+(R^M&(L^R))+O[15]+1236535329&4294967295,w=M+(I<<22&4294967295|I>>>10),I=R+(M^L&(w^M))+O[1]+4129170786&4294967295,R=w+(I<<5&4294967295|I>>>27),I=L+(w^M&(R^w))+O[6]+3225465664&4294967295,L=R+(I<<9&4294967295|I>>>23),I=M+(R^w&(L^R))+O[11]+643717713&4294967295,M=L+(I<<14&4294967295|I>>>18),I=w+(L^R&(M^L))+O[0]+3921069994&4294967295,w=M+(I<<20&4294967295|I>>>12),I=R+(M^L&(w^M))+O[5]+3593408605&4294967295,R=w+(I<<5&4294967295|I>>>27),I=L+(w^M&(R^w))+O[10]+38016083&4294967295,L=R+(I<<9&4294967295|I>>>23),I=M+(R^w&(L^R))+O[15]+3634488961&4294967295,M=L+(I<<14&4294967295|I>>>18),I=w+(L^R&(M^L))+O[4]+3889429448&4294967295,w=M+(I<<20&4294967295|I>>>12),I=R+(M^L&(w^M))+O[9]+568446438&4294967295,R=w+(I<<5&4294967295|I>>>27),I=L+(w^M&(R^w))+O[14]+3275163606&4294967295,L=R+(I<<9&4294967295|I>>>23),I=M+(R^w&(L^R))+O[3]+4107603335&4294967295,M=L+(I<<14&4294967295|I>>>18),I=w+(L^R&(M^L))+O[8]+1163531501&4294967295,w=M+(I<<20&4294967295|I>>>12),I=R+(M^L&(w^M))+O[13]+2850285829&4294967295,R=w+(I<<5&4294967295|I>>>27),I=L+(w^M&(R^w))+O[2]+4243563512&4294967295,L=R+(I<<9&4294967295|I>>>23),I=M+(R^w&(L^R))+O[7]+1735328473&4294967295,M=L+(I<<14&4294967295|I>>>18),I=w+(L^R&(M^L))+O[12]+2368359562&4294967295,w=M+(I<<20&4294967295|I>>>12),I=R+(w^M^L)+O[5]+4294588738&4294967295,R=w+(I<<4&4294967295|I>>>28),I=L+(R^w^M)+O[8]+2272392833&4294967295,L=R+(I<<11&4294967295|I>>>21),I=M+(L^R^w)+O[11]+1839030562&4294967295,M=L+(I<<16&4294967295|I>>>16),I=w+(M^L^R)+O[14]+4259657740&4294967295,w=M+(I<<23&4294967295|I>>>9),I=R+(w^M^L)+O[1]+2763975236&4294967295,R=w+(I<<4&4294967295|I>>>28),I=L+(R^w^M)+O[4]+1272893353&4294967295,L=R+(I<<11&4294967295|I>>>21),I=M+(L^R^w)+O[7]+4139469664&4294967295,M=L+(I<<16&4294967295|I>>>16),I=w+(M^L^R)+O[10]+3200236656&4294967295,w=M+(I<<23&4294967295|I>>>9),I=R+(w^M^L)+O[13]+681279174&4294967295,R=w+(I<<4&4294967295|I>>>28),I=L+(R^w^M)+O[0]+3936430074&4294967295,L=R+(I<<11&4294967295|I>>>21),I=M+(L^R^w)+O[3]+3572445317&4294967295,M=L+(I<<16&4294967295|I>>>16),I=w+(M^L^R)+O[6]+76029189&4294967295,w=M+(I<<23&4294967295|I>>>9),I=R+(w^M^L)+O[9]+3654602809&4294967295,R=w+(I<<4&4294967295|I>>>28),I=L+(R^w^M)+O[12]+3873151461&4294967295,L=R+(I<<11&4294967295|I>>>21),I=M+(L^R^w)+O[15]+530742520&4294967295,M=L+(I<<16&4294967295|I>>>16),I=w+(M^L^R)+O[2]+3299628645&4294967295,w=M+(I<<23&4294967295|I>>>9),I=R+(M^(w|~L))+O[0]+4096336452&4294967295,R=w+(I<<6&4294967295|I>>>26),I=L+(w^(R|~M))+O[7]+1126891415&4294967295,L=R+(I<<10&4294967295|I>>>22),I=M+(R^(L|~w))+O[14]+2878612391&4294967295,M=L+(I<<15&4294967295|I>>>17),I=w+(L^(M|~R))+O[5]+4237533241&4294967295,w=M+(I<<21&4294967295|I>>>11),I=R+(M^(w|~L))+O[12]+1700485571&4294967295,R=w+(I<<6&4294967295|I>>>26),I=L+(w^(R|~M))+O[3]+2399980690&4294967295,L=R+(I<<10&4294967295|I>>>22),I=M+(R^(L|~w))+O[10]+4293915773&4294967295,M=L+(I<<15&4294967295|I>>>17),I=w+(L^(M|~R))+O[1]+2240044497&4294967295,w=M+(I<<21&4294967295|I>>>11),I=R+(M^(w|~L))+O[8]+1873313359&4294967295,R=w+(I<<6&4294967295|I>>>26),I=L+(w^(R|~M))+O[15]+4264355552&4294967295,L=R+(I<<10&4294967295|I>>>22),I=M+(R^(L|~w))+O[6]+2734768916&4294967295,M=L+(I<<15&4294967295|I>>>17),I=w+(L^(M|~R))+O[13]+1309151649&4294967295,w=M+(I<<21&4294967295|I>>>11),I=R+(M^(w|~L))+O[4]+4149444226&4294967295,R=w+(I<<6&4294967295|I>>>26),I=L+(w^(R|~M))+O[11]+3174756917&4294967295,L=R+(I<<10&4294967295|I>>>22),I=M+(R^(L|~w))+O[2]+718787259&4294967295,M=L+(I<<15&4294967295|I>>>17),I=w+(L^(M|~R))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+L&4294967295}s.prototype.v=function(C,R){R===void 0&&(R=C.length);const w=R-this.blockSize,O=this.C;let M=this.h,L=0;for(;L<R;){if(M==0)for(;L<=w;)o(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<R;)if(O[M++]=C.charCodeAt(L++),M==this.blockSize){o(this,O),M=0;break}}else for(;L<R;)if(O[M++]=C[L++],M==this.blockSize){o(this,O),M=0;break}}this.h=M,this.o+=R},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;R=this.o*8;for(var w=C.length-8;w<C.length;++w)C[w]=R&255,R/=256;for(this.v(C),C=Array(16),R=0,w=0;w<4;++w)for(let O=0;O<32;O+=8)C[R++]=this.g[w]>>>O&255;return C};function u(C,R){var w=m;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=R(C)}function f(C,R){this.h=R;const w=[];let O=!0;for(let M=C.length-1;M>=0;M--){const L=C[M]|0;O&&L==R||(w[M]=L,O=!1)}this.g=w}var m={};function p(C){return-128<=C&&C<128?u(C,function(R){return new f([R|0],R<0?-1:0)}):new f([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return F(y(-C));const R=[];let w=1;for(let O=0;C>=w;O++)R[O]=C/w|0,w*=4294967296;return new f(R,0)}function E(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return F(E(C.substring(1),R));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=y(Math.pow(R,8));let O=T;for(let L=0;L<C.length;L+=8){var M=Math.min(8,C.length-L);const I=parseInt(C.substring(L,L+M),R);M<8?(M=y(Math.pow(R,M)),O=O.j(M).add(y(I))):(O=O.j(w),O=O.add(y(I)))}return O}var T=p(0),b=p(1),P=p(16777216);r=f.prototype,r.m=function(){if(J(this))return-F(this).m();let C=0,R=1;for(let w=0;w<this.g.length;w++){const O=this.i(w);C+=(O>=0?O:4294967296+O)*R,R*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(K(this))return"0";if(J(this))return"-"+F(this).toString(C);const R=y(Math.pow(C,6));var w=this;let O="";for(;;){const M=vt(w,R).g;w=rt(w,M.j(R));let L=((w.g.length>0?w.g[0]:w.h)>>>0).toString(C);if(w=M,K(w))return L+O;for(;L.length<6;)L="0"+L;O=L+O}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function K(C){if(C.h!=0)return!1;for(let R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function J(C){return C.h==-1}r.l=function(C){return C=rt(this,C),J(C)?-1:K(C)?0:1};function F(C){const R=C.g.length,w=[];for(let O=0;O<R;O++)w[O]=~C.g[O];return new f(w,~C.h).add(b)}r.abs=function(){return J(this)?F(this):this},r.add=function(C){const R=Math.max(this.g.length,C.g.length),w=[];let O=0;for(let M=0;M<=R;M++){let L=O+(this.i(M)&65535)+(C.i(M)&65535),I=(L>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);O=I>>>16,L&=65535,I&=65535,w[M]=I<<16|L}return new f(w,w[w.length-1]&-2147483648?-1:0)};function rt(C,R){return C.add(F(R))}r.j=function(C){if(K(this)||K(C))return T;if(J(this))return J(C)?F(this).j(F(C)):F(F(this).j(C));if(J(C))return F(this.j(F(C)));if(this.l(P)<0&&C.l(P)<0)return y(this.m()*C.m());const R=this.g.length+C.g.length,w=[];for(var O=0;O<2*R;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(let M=0;M<C.g.length;M++){const L=this.i(O)>>>16,I=this.i(O)&65535,Zt=C.i(M)>>>16,pe=C.i(M)&65535;w[2*O+2*M]+=I*pe,at(w,2*O+2*M),w[2*O+2*M+1]+=L*pe,at(w,2*O+2*M+1),w[2*O+2*M+1]+=I*Zt,at(w,2*O+2*M+1),w[2*O+2*M+2]+=L*Zt,at(w,2*O+2*M+2)}for(C=0;C<R;C++)w[C]=w[2*C+1]<<16|w[2*C];for(C=R;C<2*R;C++)w[C]=0;return new f(w,0)};function at(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function st(C,R){this.g=C,this.h=R}function vt(C,R){if(K(R))throw Error("division by zero");if(K(C))return new st(T,T);if(J(C))return R=vt(F(C),R),new st(F(R.g),F(R.h));if(J(R))return R=vt(C,F(R)),new st(F(R.g),R.h);if(C.g.length>30){if(J(C)||J(R))throw Error("slowDivide_ only works with positive integers.");for(var w=b,O=R;O.l(C)<=0;)w=wt(w),O=wt(O);var M=it(w,1),L=it(O,1);for(O=it(O,2),w=it(w,2);!K(O);){var I=L.add(O);I.l(C)<=0&&(M=M.add(w),L=I),O=it(O,1),w=it(w,1)}return R=rt(C,M.j(R)),new st(M,R)}for(M=T;C.l(R)>=0;){for(w=Math.max(1,Math.floor(C.m()/R.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),L=y(w),I=L.j(R);J(I)||I.l(C)>0;)w-=O,L=y(w),I=L.j(R);K(L)&&(L=b),M=M.add(L),C=rt(C,I)}return new st(M,C)}r.B=function(C){return vt(this,C).h},r.and=function(C){const R=Math.max(this.g.length,C.g.length),w=[];for(let O=0;O<R;O++)w[O]=this.i(O)&C.i(O);return new f(w,this.h&C.h)},r.or=function(C){const R=Math.max(this.g.length,C.g.length),w=[];for(let O=0;O<R;O++)w[O]=this.i(O)|C.i(O);return new f(w,this.h|C.h)},r.xor=function(C){const R=Math.max(this.g.length,C.g.length),w=[];for(let O=0;O<R;O++)w[O]=this.i(O)^C.i(O);return new f(w,this.h^C.h)};function wt(C){const R=C.g.length+1,w=[];for(let O=0;O<R;O++)w[O]=C.i(O)<<1|C.i(O-1)>>>31;return new f(w,C.h)}function it(C,R){const w=R>>5;R%=32;const O=C.g.length-w,M=[];for(let L=0;L<O;L++)M[L]=R>0?C.i(L+w)>>>R|C.i(L+w+1)<<32-R:C.i(L+w);return new f(M,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,a0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,as=f}).apply(typeof cE<"u"?cE:typeof self<"u"?self:typeof window<"u"?window:{});var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var o0,Ul,l0,oh,Gm,u0,c0,h0;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zc=="object"&&Zc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)t:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var k=c[A];if(!(k in v))break t;v=v[k]}c=c[c.length-1],A=v[c],g=g(A),g!=A&&g!=null&&t(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],A;for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&v.push([A,g[A]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,v){return c.call.apply(c.bind,arguments)}function y(c,g,v){return y=p,y.apply(null,arguments)}function E(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,k,H){for(var ot=Array(arguments.length-2),It=2;It<arguments.length;It++)ot[It-2]=arguments[It];return g.prototype[k].apply(A,ot)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const g=c.length;if(g>0){const v=Array(g);for(let A=0;A<g;A++)v[A]=c[A];return v}return[]}function K(c,g){for(let A=1;A<arguments.length;A++){const k=arguments[A];var v=typeof k;if(v=v!="object"?v:k?Array.isArray(k)?"array":v:"null",v=="array"||v=="object"&&typeof k.length=="number"){v=c.length||0;const H=k.length||0;c.length=v+H;for(let ot=0;ot<H;ot++)c[v+ot]=k[ot]}else c.push(k)}}class J{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function F(c){f.setTimeout(()=>{throw c},0)}function rt(){var c=C;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class at{constructor(){this.h=this.g=null}add(g,v){const A=st.get();A.set(g,v),this.h?this.h.next=A:this.g=A,this.h=A}}var st=new J(()=>new vt,c=>c.reset());class vt{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let wt,it=!1,C=new at,R=()=>{const c=Promise.resolve(void 0);wt=()=>{c.then(w)}};function w(){for(var c;c=rt();){try{c.h.call(c.g)}catch(v){F(v)}var g=st;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}it=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,g),f.removeEventListener("test",v,g)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function Zt(c,g){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}T(Zt,M),Zt.prototype.init=function(c,g){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Zt.Z.h.call(this)},Zt.prototype.h=function(){Zt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),Y=0;function lt(c,g,v,A,k){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!A,this.ha=k,this.key=++Y,this.da=this.fa=!1}function yt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function xt(c,g,v){for(const A in c)g.call(v,c[A],A,c)}function Qt(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function x(c){const g={};for(const v in c)g[v]=c[v];return g}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(c,g){let v,A;for(let k=1;k<arguments.length;k++){A=arguments[k];for(v in A)c[v]=A[v];for(let H=0;H<W.length;H++)v=W[H],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function q(c){this.src=c,this.g={},this.h=0}q.prototype.add=function(c,g,v,A,k){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const ot=ht(c,g,A,k);return ot>-1?(g=c[ot],v||(g.fa=!1)):(g=new lt(g,this.src,H,!!A,k),g.fa=v,c.push(g)),g};function tt(c,g){const v=g.type;if(v in c.g){var A=c.g[v],k=Array.prototype.indexOf.call(A,g,void 0),H;(H=k>=0)&&Array.prototype.splice.call(A,k,1),H&&(yt(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ht(c,g,v,A){for(let k=0;k<c.length;++k){const H=c[k];if(!H.da&&H.listener==g&&H.capture==!!v&&H.ha==A)return k}return-1}var ft="closure_lm_"+(Math.random()*1e6|0),Ct={};function Ot(c,g,v,A,k){if(Array.isArray(g)){for(let H=0;H<g.length;H++)Ot(c,g[H],v,A,k);return null}return v=No(v),c&&c[pe]?c.J(g,v,m(A)?!!A.capture:!1,k):Bt(c,g,v,!1,A,k)}function Bt(c,g,v,A,k,H){if(!g)throw Error("Invalid event type");const ot=m(k)?!!k.capture:!!k;let It=Ts(c);if(It||(c[ft]=It=new q(c)),v=It.add(g,v,A,ot,H),v.proxy)return v;if(A=Fn(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)L||(k=ot),k===void 0&&(k=!1),c.addEventListener(g.toString(),A,k);else if(c.attachEvent)c.attachEvent(ci(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Fn(){function c(v){return g.call(c.src,c.listener,v)}const g=Co;return c}function ui(c,g,v,A,k){if(Array.isArray(g))for(var H=0;H<g.length;H++)ui(c,g[H],v,A,k);else A=m(A)?!!A.capture:!!A,v=No(v),c&&c[pe]?(c=c.i,H=String(g).toString(),H in c.g&&(g=c.g[H],v=ht(g,v,A,k),v>-1&&(yt(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[H],c.h--)))):c&&(c=Ts(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ht(g,v,A,k)),(v=c>-1?g[c]:null)&&pr(v))}function pr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[pe])tt(g.i,c);else{var v=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(v,A,c.capture):g.detachEvent?g.detachEvent(ci(v),A):g.addListener&&g.removeListener&&g.removeListener(A),(v=Ts(g))?(tt(v,c),v.h==0&&(v.src=null,g[ft]=null)):yt(c)}}}function ci(c){return c in Ct?Ct[c]:Ct[c]="on"+c}function Co(c,g){if(c.da)c=!0;else{g=new Zt(g,this);const v=c.listener,A=c.ha||c.src;c.fa&&pr(c),c=v.call(A,g)}return c}function Ts(c){return c=c[ft],c instanceof q?c:null}var Io="__closure_events_fn_"+(Math.random()*1e9>>>0);function No(c){return typeof c=="function"?c:(c[Io]||(c[Io]=function(g){return c.handleEvent(g)}),c[Io])}function Te(){O.call(this),this.i=new q(this),this.M=this,this.G=null}T(Te,O),Te.prototype[pe]=!0,Te.prototype.removeEventListener=function(c,g,v,A){ui(this,c,g,v,A)};function Ve(c,g){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new M(g,c);else if(g instanceof M)g.target=g.target||c;else{var k=g;g=new M(A,c),ut(g,k)}k=!0;let H,ot;if(v)for(ot=v.length-1;ot>=0;ot--)H=g.g=v[ot],k=gr(H,A,!0,g)&&k;if(H=g.g=c,k=gr(H,A,!0,g)&&k,k=gr(H,A,!1,g)&&k,v)for(ot=0;ot<v.length;ot++)H=g.g=v[ot],k=gr(H,A,!1,g)&&k}Te.prototype.N=function(){if(Te.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let A=0;A<v.length;A++)yt(v[A]);delete c.g[g],c.h--}}this.G=null},Te.prototype.J=function(c,g,v,A){return this.i.add(String(c),g,!1,v,A)},Te.prototype.K=function(c,g,v,A){return this.i.add(String(c),g,!0,v,A)};function gr(c,g,v,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let k=!0;for(let H=0;H<g.length;++H){const ot=g[H];if(ot&&!ot.da&&ot.capture==v){const It=ot.listener,ye=ot.ha||ot.src;ot.fa&&tt(c.i,ot),k=It.call(ye,A)!==!1&&k}}return k&&!A.defaultPrevented}function df(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function Tu(c){c.g=df(()=>{c.g=null,c.i&&(c.i=!1,Tu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class nn extends O{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Tu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ss(c){O.call(this),this.h=c,this.g={}}T(Ss,O);var Do=[];function Oo(c){xt(c.g,function(g,v){this.g.hasOwnProperty(v)&&pr(g)},c),c.g={}}Ss.prototype.N=function(){Ss.Z.N.call(this),Oo(this)},Ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yr=f.JSON.stringify,mf=f.JSON.parse,Su=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Au(){}function bu(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Be(){M.call(this,"d")}T(Be,M);function Dn(){M.call(this,"c")}T(Dn,M);var ge={},wu=null;function ua(){return wu=wu||new Te}ge.Ia="serverreachability";function Ru(c){M.call(this,ge.Ia,c)}T(Ru,M);function hi(c){const g=ua();Ve(g,new Ru(g))}ge.STAT_EVENT="statevent";function As(c,g){M.call(this,ge.STAT_EVENT,c),this.stat=g}T(As,M);function Se(c){const g=ua();Ve(g,new As(g,c))}ge.Ja="timingevent";function fi(c,g){M.call(this,ge.Ja,c),this.size=g}T(fi,M);function di(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function pf(c,g,v,A,k,H){c.info(function(){if(c.g)if(H){var ot="",It=H.split("&");for(let Kt=0;Kt<It.length;Kt++){var ye=It[Kt].split("=");if(ye.length>1){const le=ye[0];ye=ye[1];const xn=le.split("_");ot=xn.length>=2&&xn[1]=="type"?ot+(le+"="+ye+"&"):ot+(le+"=redacted&")}}}else ot=null;else ot=H;return"XMLHTTP REQ ("+A+") [attempt "+k+"]: "+g+`
`+v+`
`+ot})}function Cu(c,g,v,A,k,H,ot){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+k+"]: "+g+`
`+v+`
`+H+" "+ot})}function mi(c,g,v,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+gf(c,v)+(A?" "+A:"")})}function bs(c,g){c.info(function(){return"TIMEOUT: "+g})}Qn.prototype.info=function(){};function gf(c,g){if(!c.g)return g;if(!g)return null;try{const H=JSON.parse(g);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var v=H[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var k=A[0];if(k!="noop"&&k!="stop"&&k!="close")for(let ot=1;ot<A.length;ot++)A[ot]=""}}}}return yr(H)}catch{return g}}var ws={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Mo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vo;function Rs(){}T(Rs,Au),Rs.prototype.g=function(){return new XMLHttpRequest},Vo=new Rs;function ji(c){return encodeURIComponent(String(c))}function Iu(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function Kn(c,g,v,A){this.j=c,this.i=g,this.l=v,this.S=A||1,this.V=new Ss(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yn}function Yn(){this.i=null,this.g="",this.h=!1}var Ae={},Le={};function pi(c,g,v){c.M=1,c.A=Cs(we(g)),c.u=v,c.R=!0,ca(c,null)}function ca(c,g){c.F=Date.now(),gi(c),c.B=we(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ma(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Yn,c.g=Hu(c.j,v?g:null,!c.u),c.P>0&&(c.O=new nn(y(c.Y,c,c.g),c.P)),g=c.V,v=c.g,A=c.ba;var k="readystatechange";Array.isArray(k)||(k&&(Do[0]=k.toString()),k=Do);for(let H=0;H<k.length;H++){const ot=Ot(v,k[H],A||g.handleEvent,!1,g.h||g);if(!ot)break;g.g[ot.key]=ot}g=c.J?x(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),hi(),pf(c.i,c.v,c.B,c.l,c.S,c.u)}Kn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Jn(c)==3?g.j():this.Y(c)},Kn.prototype.Y=function(c){try{if(c==this.g)t:{const It=Jn(this.g),ye=this.g.ya(),Kt=this.g.ca();if(!(It<3)&&(It!=3||this.g&&(this.h.h||this.g.la()||qe(this.g)))){this.K||It!=4||ye==7||(ye==8||Kt<=0?hi(3):hi(2)),yi(this);var g=this.g.ca();this.X=g;var v=yf(this);if(this.o=g==200,Cu(this.i,this.v,this.B,this.l,this.S,It,g),this.o){if(this.U&&!this.L){e:{if(this.g){var A,k=this.g;if((A=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var H=A;break e}}H=null}if(c=H)mi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,c);else{this.o=!1,this.m=3,Se(12),_n(this),On(this);break t}}if(this.R){c=!0;let le;for(;!this.K&&this.C<v.length;)if(le=Du(this,v),le==Le){It==4&&(this.m=4,Se(14),c=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Ae){this.m=4,Se(15),mi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else mi(this.i,this.l,le,null),_i(this,le);if(Nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||v.length!=0||this.h.h||(this.m=1,Se(16),c=!1),this.o=this.o&&c,!c)mi(this.i,this.l,v,"[Invalid Chunked Response]"),_n(this),On(this);else if(v.length>0&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.aa&&!ot.P&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Yo(ot),ot.P=!0,Se(11))}}else mi(this.i,this.l,v,null),_i(this,v);It==4&&_n(this),this.o&&!this.K&&(It==4?zu(this.j,this):(this.o=!1,gi(this)))}else qi(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,Se(12)):(this.m=0,Se(13)),_n(this),On(this)}}}catch{}finally{}};function yf(c){if(!Nu(c))return c.g.la();const g=qe(c.g);if(g==="")return"";let v="";const A=g.length,k=Jn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return _n(c),On(c),"";c.h.i=new f.TextDecoder}for(let H=0;H<A;H++)c.h.h=!0,v+=c.h.i.decode(g[H],{stream:!(k&&H==A-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function Nu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Du(c,g){var v=c.C,A=g.indexOf(`
`,v);return A==-1?Le:(v=Number(g.substring(v,A)),isNaN(v)?Ae:(A+=1,A+v>g.length?Le:(g=g.slice(A,A+v),c.C=A+v,g)))}Kn.prototype.cancel=function(){this.K=!0,_n(this)};function gi(c){c.T=Date.now()+c.H,ha(c,c.H)}function ha(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=di(y(c.aa,c),g)}function yi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Kn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(bs(this.i,this.B),this.M!=2&&(hi(),Se(17)),_n(this),this.m=2,On(this)):ha(this,this.T-c)};function On(c){c.j.I==0||c.K||zu(c.j,c)}function _n(c){yi(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Oo(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function _i(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||Ei(v.h,c))){if(!c.L&&Ei(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var k=A;if(k[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)va(v),wr(v);else break t;xs(v),Se(18)}}else v.xa=k[1],0<v.xa-v.K&&k[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=di(y(v.Va,v),6e3));vi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ri(v,11)}else if((c.L||v.g==c)&&va(v),!I(g))for(k=v.Ba.g.parse(g),g=0;g<k.length;g++){let Kt=k[g];const le=Kt[0];if(!(le<=v.K))if(v.K=le,Kt=Kt[1],v.I==2)if(Kt[0]=="c"){v.M=Kt[1],v.ba=Kt[2];const xn=Kt[3];xn!=null&&(v.ka=xn,v.j.info("VER="+v.ka));const Ci=Kt[4];Ci!=null&&(v.za=Ci,v.j.info("SVER="+v.za));const Zn=Kt[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(A=1.5*Zn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Wn=c.g;if(Wn){const Ps=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ps){var H=A.h;H.g||Ps.indexOf("spdy")==-1&&Ps.indexOf("quic")==-1&&Ps.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Lo(H,H.h),H.h=null))}if(A.G){const Ea=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(A.wa=Ea,$t(A.J,A.G,Ea))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ot=c;if(A.na=qu(A,A.L?A.ba:null,A.W),ot.L){Uo(A.h,ot);var It=ot,ye=A.O;ye&&(It.H=ye),It.D&&(yi(It),gi(It)),A.g=ot}else Uu(A);v.i.length>0&&wi(v)}else Kt[0]!="stop"&&Kt[0]!="close"||Ri(v,7);else v.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Ri(v,7):Qo(v):Kt[0]!="noop"&&v.l&&v.l.qa(Kt),v.A=0)}}hi(4)}catch{}}var be=class{constructor(c,g){this.g=c,this.map=g}};function xo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Po(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function vi(c){return c.h?1:c.g?c.g.size:0}function Ei(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Lo(c,g){c.g?c.g.add(g):c.h=g}function Uo(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}xo.prototype.cancel=function(){if(this.i=ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ko(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return P(c.i)}var Ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let k,H=null;A>=0?(k=c[v].substring(0,A),H=c[v].substring(A+1)):k=c[v],g(k,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function vn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof vn?(this.l=c.l,Ue(this,c.j),this.o=c.o,this.g=c.g,_r(this,c.u),this.h=c.h,zo(this,Pu(c.i)),this.m=c.m):c&&(g=String(c).match(Ou))?(this.l=!1,Ue(this,g[1]||"",!0),this.o=Ti(g[2]||""),this.g=Ti(g[3]||"",!0),_r(this,g[4]),this.h=Ti(g[5]||"",!0),zo(this,g[6]||"",!0),this.m=Ti(g[7]||"")):(this.l=!1,this.i=new Er(null,this.l))}vn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Is(g,da,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Is(g,da,!0),"@"),c.push(ji(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Is(v,v.charAt(0)=="/"?jo:Mu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Is(v,Vu)),c.join("")},vn.prototype.resolve=function(c){const g=we(this);let v=!!c.j;v?Ue(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var A=c.h;if(v)_r(g,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var k=g.h.lastIndexOf("/");k!=-1&&(A=g.h.slice(0,k+1)+A)}if(k=A,k==".."||k==".")A="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){A=k.lastIndexOf("/",0)==0,k=k.split("/");const H=[];for(let ot=0;ot<k.length;){const It=k[ot++];It=="."?A&&ot==k.length&&H.push(""):It==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),A&&ot==k.length&&H.push("")):(H.push(It),A=!0)}A=H.join("/")}else A=k}return v?g.h=A:v=c.i.toString()!=="",v?zo(g,Pu(c.i)):v=!!c.m,v&&(g.m=c.m),g};function we(c){return new vn(c)}function Ue(c,g,v){c.j=v?Ti(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function _r(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function zo(c,g,v){g instanceof Er?(c.i=g,pa(c.i,c.l)):(v||(g=Is(g,vr)),c.i=new Er(g,c.l))}function $t(c,g,v){c.i.set(g,v)}function Cs(c){return $t(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ti(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Is(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,cn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function cn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var da=/[#\/\?@]/g,Mu=/[#\?:]/g,jo=/[#\?]/g,vr=/[#\?@]/g,Vu=/#/g;function Er(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function hn(c){c.g||(c.g=new Map,c.h=0,c.i&&fa(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=Er.prototype,r.add=function(c,g){hn(this),this.i=null,c=Tr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function xu(c,g){hn(c),g=Tr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Bo(c,g){return hn(c),g=Tr(c,g),c.g.has(g)}r.forEach=function(c,g){hn(this),this.g.forEach(function(v,A){v.forEach(function(k){c.call(g,k,A,this)},this)},this)};function qo(c,g){hn(c);let v=[];if(typeof g=="string")Bo(c,g)&&(v=v.concat(c.g.get(Tr(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}r.set=function(c,g){return hn(this),this.i=null,c=Tr(this,c),Bo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=qo(this,c),c.length>0?String(c[0]):g):g};function ma(c,g,v){xu(c,g),v.length>0&&(c.i=null,c.g.set(Tr(c,g),P(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let A=0;A<g.length;A++){var v=g[A];const k=ji(v);v=qo(this,v);for(let H=0;H<v.length;H++){let ot=k;v[H]!==""&&(ot+="="+ji(v[H])),c.push(ot)}}return this.i=c.join("&")};function Pu(c){const g=new Er;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function Tr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function pa(c,g){g&&!c.j&&(hn(c),c.i=null,c.g.forEach(function(v,A){const k=A.toLowerCase();A!=k&&(xu(this,A),ma(this,k,v))},c)),c.j=g}function $n(c,g){const v=new Qn;if(f.Image){const A=new Image;A.onload=E(Mn,v,"TestLoadImage: loaded",!0,g,A),A.onerror=E(Mn,v,"TestLoadImage: error",!1,g,A),A.onabort=E(Mn,v,"TestLoadImage: abort",!1,g,A),A.ontimeout=E(Mn,v,"TestLoadImage: timeout",!1,g,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function Ho(c,g){const v=new Qn,A=new AbortController,k=setTimeout(()=>{A.abort(),Mn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(H=>{clearTimeout(k),H.ok?Mn(v,"TestPingServer: ok",!0,g):Mn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(k),Mn(v,"TestPingServer: error",!1,g)})}function Mn(c,g,v,A,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),A(v)}catch{}}function Sr(){this.g=new Su}function Si(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Si,Au),Si.prototype.g=function(){return new Ns(this.i,this.h)};function Ns(c,g){Te.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ns,Te),r=Ns.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Xn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ar(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ga(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ga(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Ar(this):Xn(this),this.readyState==3&&ga(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Ar(this))},r.Na=function(c){this.g&&(this.response=c,Ar(this))},r.ga=function(){this.g&&Ar(this)};function Ar(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Xn(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ns.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Vn(c){let g="";return xt(c,function(v,A){g+=A,g+=":",g+=v,g+=`\r
`}),g}function Ds(c,g,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Vn(v),typeof c=="string"?v!=null&&ji(v):$t(c,g,v))}function Wt(c){Te.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Wt,Te);var Ai=/^https?$/i,Fo=["POST","PUT"];r=Wt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vo.g(),this.g.onreadystatechange=b(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(H){Os(this,H);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var k in A)v.set(k,A[k]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())v.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),k=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Fo,g,void 0)>=0)||A||k||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ot]of v)this.g.setRequestHeader(H,ot);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){Os(this,H)}};function Os(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Go(c),Bi(c)}function Go(c){c.A||(c.A=!0,Ve(c,"complete"),Ve(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ve(this,"complete"),Ve(this,"abort"),Bi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),Wt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ms(this):this.Xa())},r.Xa=function(){Ms(this)};function Ms(c){if(c.h&&typeof u<"u"){if(c.v&&Jn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ve(c,"readystatechange"),Jn(c)==4){c.h=!1;try{const H=c.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var v;if(!(v=g)){var A;if(A=H===0){let ot=String(c.D).match(Ou)[1]||null;!ot&&f.self&&f.self.location&&(ot=f.self.location.protocol.slice(0,-1)),A=!Ai.test(ot?ot.toLowerCase():"")}v=A}if(v)Ve(c,"complete"),Ve(c,"success");else{c.o=6;try{var k=Jn(c)>2?c.g.statusText:""}catch{k=""}c.l=k+" ["+c.ca()+"]",Go(c)}}finally{Bi(c)}}}}function Bi(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||Ve(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Jn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),mf(g)}};function qe(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(c){const g={};c=(c.g&&Jn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(I(c[A]))continue;var v=Iu(c[A]);const k=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=g[k]||[];g[k]=H,H.push(v)}Qt(g,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function br(c){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bi("baseRetryDelayMs",5e3,c),this.Za=bi("retryDelaySeedMs",1e4,c),this.Ta=bi("forwardChannelMaxRetries",2,c),this.va=bi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new xo(c&&c.concurrentRequestLimit),this.Ba=new Sr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=br.prototype,r.ka=8,r.I=1,r.connect=function(c,g,v,A){Se(0),this.W=c,this.H=g||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=qu(this,null,this.W),wi(this)};function Qo(c){if(ya(c),c.I==3){var g=c.V++,v=we(c.J);if($t(v,"SID",c.M),$t(v,"RID",g),$t(v,"TYPE","terminate"),Vs(c,v),g=new Kn(c,c.j,g),g.M=2,g.A=Cs(we(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=g.A,v=!0),v||(g.g=Hu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),gi(g)}Bu(c)}function wr(c){c.g&&(Yo(c),c.g.cancel(),c.g=null)}function ya(c){wr(c),c.v&&(f.clearTimeout(c.v),c.v=null),va(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function wi(c){if(!Po(c.h)&&!c.m){c.m=!0;var g=c.Ea;wt||R(),it||(wt(),it=!0),C.add(g,c),c.D=0}}function _a(c,g){return vi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=di(y(c.Ea,c,g),ju(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const k=new Kn(this,this.j,c);let H=this.o;if(this.U&&(H?(H=x(H),ut(H,this.U)):H=this.U),this.u!==null||this.R||(k.J=H,H=null),this.S)t:{for(var g=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,g>4096){g=v;break t}if(g===4096||v===this.i.length-1){g=v+1;break t}}g=1e3}else g=1e3;g=Lu(this,k,g),v=we(this.J),$t(v,"RID",c),$t(v,"CVER",22),this.G&&$t(v,"X-HTTP-Session-Id",this.G),Vs(this,v),H&&(this.R?g="headers="+ji(Vn(H))+"&"+g:this.u&&Ds(v,this.u,H)),Lo(this.h,k),this.Ra&&$t(v,"TYPE","init"),this.S?($t(v,"$req",g),$t(v,"SID","null"),k.U=!0,pi(k,v,null)):pi(k,v,g),this.I=2}}else this.I==3&&(c?Ko(this,c):this.i.length==0||Po(this.h)||Ko(this))};function Ko(c,g){var v;g?v=g.l:v=c.V++;const A=we(c.J);$t(A,"SID",c.M),$t(A,"RID",v),$t(A,"AID",c.K),Vs(c,A),c.u&&c.o&&Ds(A,c.u,c.o),v=new Kn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Lu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Lo(c.h,v),pi(v,A,g)}function Vs(c,g){c.H&&xt(c.H,function(v,A){$t(g,A,v)}),c.l&&xt({},function(v,A){$t(g,A,v)})}function Lu(c,g,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;t:{var k=c.i;let It=-1;for(;;){const ye=["count="+v];It==-1?v>0?(It=k[0].g,ye.push("ofs="+It)):It=0:ye.push("ofs="+It);let Kt=!0;for(let le=0;le<v;le++){var H=k[le].g;const xn=k[le].map;if(H-=It,H<0)It=Math.max(0,k[le].g-100),Kt=!1;else try{H="req"+H+"_"||"";try{var ot=xn instanceof Map?xn:Object.entries(xn);for(const[Ci,Zn]of ot){let Wn=Zn;m(Zn)&&(Wn=yr(Zn)),ye.push(H+Ci+"="+encodeURIComponent(Wn))}}catch(Ci){throw ye.push(H+"type="+encodeURIComponent("_badmap")),Ci}}catch{A&&A(xn)}}if(Kt){ot=ye.join("&");break t}}ot=void 0}return c=c.i.splice(0,v),g.G=c,ot}function Uu(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;wt||R(),it||(wt(),it=!0),C.add(g,c),c.A=0}}function xs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=di(y(c.Da,c),ju(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,ku(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=di(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Se(10),wr(this),ku(this))};function Yo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function ku(c){c.g=new Kn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=we(c.na);$t(g,"RID","rpc"),$t(g,"SID",c.M),$t(g,"AID",c.K),$t(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&$t(g,"TO",c.ia),$t(g,"TYPE","xmlhttp"),Vs(c,g),c.u&&c.o&&Ds(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Cs(we(g)),v.u=null,v.R=!0,ca(v,c)}r.Va=function(){this.C!=null&&(this.C=null,wr(this),xs(this),Se(19))};function va(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function zu(c,g){var v=null;if(c.g==g){va(c),Yo(c),c.g=null;var A=2}else if(Ei(c.h,g))v=g.G,Uo(c.h,g),A=1;else return;if(c.I!=0){if(g.o)if(A==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var k=c.D;A=ua(),Ve(A,new fi(A,v)),wi(c)}else Uu(c);else if(k=g.m,k==3||k==0&&g.X>0||!(A==1&&_a(c,g)||A==2&&xs(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),k){case 1:Ri(c,5);break;case 4:Ri(c,10);break;case 3:Ri(c,6);break;default:Ri(c,2)}}}function ju(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function Ri(c,g){if(c.j.info("Error code "+g),g==2){var v=y(c.bb,c),A=c.Ua;const k=!A;A=new vn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ue(A,"https"),Cs(A),k?$n(A.toString(),v):Ho(A.toString(),v)}else Se(2);c.I=0,c.l&&c.l.pa(g),Bu(c),ya(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))};function Bu(c){if(c.I=0,c.ja=[],c.l){const g=ko(c.h);(g.length!=0||c.i.length!=0)&&(K(c.ja,g),K(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function qu(c,g,v){var A=v instanceof vn?we(v):new vn(v);if(A.g!="")g&&(A.g=g+"."+A.g),_r(A,A.u);else{var k=f.location;A=k.protocol,g=g?g+"."+k.hostname:k.hostname,k=+k.port;const H=new vn(null);A&&Ue(H,A),g&&(H.g=g),k&&_r(H,k),v&&(H.h=v),A=H}return v=c.G,g=c.wa,v&&g&&$t(A,v,g),$t(A,"VER",c.ka),Vs(c,A),A}function Hu(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new Wt(new Si({ab:v})):new Wt(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fu(){}r=Fu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Rr(){}Rr.prototype.g=function(c,g){return new rn(c,g)};function rn(c,g){Te.call(this),this.g=new br(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!I(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!I(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Hi(this)}T(rn,Te),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Qo(this.g)},rn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=yr(c),c=v);g.i.push(new be(g.Ya++,c)),g.I==3&&wi(g)},rn.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,rn.Z.N.call(this)};function Gu(c){Be.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const v in g){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}T(Gu,Be);function Qu(){Dn.call(this),this.status=1}T(Qu,Dn);function Hi(c){this.g=c}T(Hi,Fu),Hi.prototype.ra=function(){Ve(this.g,"a")},Hi.prototype.qa=function(c){Ve(this.g,new Gu(c))},Hi.prototype.pa=function(c){Ve(this.g,new Qu)},Hi.prototype.oa=function(){Ve(this.g,"b")},Rr.prototype.createWebChannel=Rr.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,h0=function(){return new Rr},c0=function(){return ua()},u0=ge,Gm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ws.NO_ERROR=0,ws.TIMEOUT=8,ws.HTTP_ERROR=6,oh=ws,Mo.COMPLETE="complete",l0=Mo,bu.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",Te.prototype.listen=Te.prototype.J,Ul=bu,Wt.prototype.listenOnce=Wt.prototype.K,Wt.prototype.getLastError=Wt.prototype.Ha,Wt.prototype.getLastErrorCode=Wt.prototype.ya,Wt.prototype.getStatus=Wt.prototype.ca,Wt.prototype.getResponseJson=Wt.prototype.La,Wt.prototype.getResponseText=Wt.prototype.la,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Fa,o0=Wt}).apply(typeof Zc<"u"?Zc:typeof self<"u"?self:typeof window<"u"?window:{});const hE="@firebase/firestore",fE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let So="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new vp("@firebase/firestore");function Za(){return ia.logLevel}function dt(r,...t){if(ia.logLevel<=Ut.DEBUG){const n=t.map(Sp);ia.debug(`Firestore (${So}): ${r}`,...n)}}function cr(r,...t){if(ia.logLevel<=Ut.ERROR){const n=t.map(Sp);ia.error(`Firestore (${So}): ${r}`,...n)}}function co(r,...t){if(ia.logLevel<=Ut.WARN){const n=t.map(Sp);ia.warn(`Firestore (${So}): ${r}`,...n)}}function Sp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,f0(r,s,n)}function f0(r,t,n){let s=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw cr(s),new Error(s)}function Ht(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||f0(t,o,s)}function bt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends mr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class wC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class RC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class CC{constructor(t){this.t=t,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ht(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Vi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Vi,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Vi)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new d0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new tn(t)}}class IC{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class NC{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new IC(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class dE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DC{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ht(this.o===void 0,3512);const s=u=>{u.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,dt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new dE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new dE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=OC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function kt(r,t){return r<t?-1:r>t?1:0}function Qm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return wm(o)===wm(u)?kt(o,u):wm(o)?1:-1}return kt(r.length,t.length)}const MC=55296,VC=57343;function wm(r){const t=r.charCodeAt(0);return t>=MC&&t<=VC}function ho(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="__name__";class Mi{constructor(t,n,s){n===void 0?n=0:n>t.length&&Et(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Et(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Mi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Mi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Mi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return kt(t.length,n.length)}static compareSegments(t,n){const s=Mi.isNumericId(t),o=Mi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Mi.extractNumericId(t).compare(Mi.extractNumericId(n)):Qm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return as.fromString(t.substring(4,t.length-2))}}class ie extends Mi{construct(t,n,s){return new ie(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ie(n)}static emptyPath(){return new ie([])}}const xC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends Mi{construct(t,n,s){return new $e(t,n,s)}static isValidIdentifier(t){return xC.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mE}static keyField(){return new $e([mE])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ct(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ct(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ct(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ct(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $e(n)}static emptyPath(){return new $e([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ie.fromString(t))}static fromName(t){return new gt(ie.fromString(t).popFirst(5))}static empty(){return new gt(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ie.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ie(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(r,t,n){if(!n)throw new ct(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function PC(r,t,n,s){if(t===!0&&s===!0)throw new ct(X.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function pE(r){if(!gt.isDocumentKey(r))throw new ct(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function gE(r){if(gt.isDocumentKey(r))throw new ct(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function p0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Gh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Et(12329,{type:typeof r})}function Hn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gh(r);throw new ct(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(r,t){const n={typeString:r};return t&&(n.value=t),n}function uu(r,t){if(!p0(r))throw new ct(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ct(X.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=-62135596800,_E=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*_E);return new se(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<yE)throw new ct(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_E}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(uu(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-yE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Me("string",se._jsonSchemaVersion),seconds:Me("number"),nanoseconds:Me("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new se(0,0))}static max(){return new St(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=-1;function LC(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=St.fromTimestamp(s===1e9?new se(n+1,0):new se(n,s));return new cs(o,gt.empty(),t)}function UC(r){return new cs(r.readTime,r.key,Jl)}class cs{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new cs(St.min(),gt.empty(),Jl)}static max(){return new cs(St.max(),gt.empty(),Jl)}}function kC(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=gt.comparator(r.documentKey,t.documentKey),n!==0?n:kt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==zC)throw r;dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new nt(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof nt?n:nt.resolve(n)}catch(n){return nt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):nt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):nt.reject(n)}static resolve(t){return new nt(((n,s)=>{n(t)}))}static reject(t){return new nt(((n,s)=>{s(t)}))}static waitFor(t){return new nt(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(t){let n=nt.resolve(!1);for(const s of t)n=n.next((o=>o?nt.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new nt(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(t[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new nt(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function BC(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Qh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp=-1;function cu(r){return r==null}function Th(r){return r===0&&1/r==-1/0}function qC(r){return typeof r=="number"&&Number.isInteger(r)&&!Th(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="";function HC(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=vE(t)),t=FC(r.get(n),t);return vE(t)}function FC(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case g0:n+="";break;default:n+=u}}return n}function vE(r){return r+g0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function vs(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function y0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t,n){this.comparator=t,this.root=n||Ke.EMPTY}insert(t,n){return new he(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new he(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Wc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Wc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Wc(this.root,t,this.comparator,!0)}}class Wc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Ke.RED,this.left=o??Ke.EMPTY,this.right=u??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Ke(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ke.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Ke(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(t){this.comparator=t,this.data=new he(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new TE(this.data.getIterator())}getIteratorFrom(t){return new TE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Pe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Pe(this.comparator);return n.data=t,n}}class TE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(t){this.fields=t,t.sort($e.comparator)}static empty(){return new In([])}unionWith(t){let n=new Pe($e.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new In(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ho(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new _0("Invalid base64 string: "+u):u}})(t);return new Je(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Je(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const GC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hs(r){if(Ht(!!r,39018),typeof r=="string"){let t=0;const n=GC.exec(r);if(Ht(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ee(r.seconds),nanos:Ee(r.nanos)}}function Ee(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function fs(r){return typeof r=="string"?Je.fromBase64String(r):Je.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="server_timestamp",E0="__type__",T0="__previous_value__",S0="__local_write_time__";function wp(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[E0])==null?void 0:s.stringValue)===v0}function Kh(r){const t=r.mapValue.fields[T0];return wp(t)?Kh(t):t}function Zl(r){const t=hs(r.mapValue.fields[S0].timestampValue);return new se(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(t,n,s,o,u,f,m,p,y,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const Sh="(default)";class Wl{constructor(t,n){this.projectId=t,this.database=n||Sh}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===Sh}isEqual(t){return t instanceof Wl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="__type__",KC="__max__",th={mapValue:{}},b0="__vector__",Ah="value";function ds(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?wp(r)?4:$C(r)?9007199254740991:YC(r)?10:11:Et(28295,{value:r})}function zi(r,t){if(r===t)return!0;const n=ds(r);if(n!==ds(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Zl(r).isEqual(Zl(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=hs(o.timestampValue),m=hs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return fs(o.bytesValue).isEqual(fs(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return Ee(o.geoPointValue.latitude)===Ee(u.geoPointValue.latitude)&&Ee(o.geoPointValue.longitude)===Ee(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ee(o.integerValue)===Ee(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ee(o.doubleValue),m=Ee(u.doubleValue);return f===m?Th(f)===Th(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return ho(r.arrayValue.values||[],t.arrayValue.values||[],zi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(EE(f)!==EE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!zi(f[p],m[p])))return!1;return!0})(r,t);default:return Et(52216,{left:r})}}function tu(r,t){return(r.values||[]).find((n=>zi(n,t)))!==void 0}function fo(r,t){if(r===t)return 0;const n=ds(r),s=ds(t);if(n!==s)return kt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return kt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=Ee(u.integerValue||u.doubleValue),p=Ee(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,t);case 3:return SE(r.timestampValue,t.timestampValue);case 4:return SE(Zl(r),Zl(t));case 5:return Qm(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=fs(u),p=fs(f);return m.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=kt(m[y],p[y]);if(E!==0)return E}return kt(m.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=kt(Ee(u.latitude),Ee(f.latitude));return m!==0?m:kt(Ee(u.longitude),Ee(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return AE(r.arrayValue,t.arrayValue);case 10:return(function(u,f){var b,P,K,J;const m=u.fields||{},p=f.fields||{},y=(b=m[Ah])==null?void 0:b.arrayValue,E=(P=p[Ah])==null?void 0:P.arrayValue,T=kt(((K=y==null?void 0:y.values)==null?void 0:K.length)||0,((J=E==null?void 0:E.values)==null?void 0:J.length)||0);return T!==0?T:AE(y,E)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===th.mapValue&&f===th.mapValue)return 0;if(u===th.mapValue)return 1;if(f===th.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const b=Qm(p[T],E[T]);if(b!==0)return b;const P=fo(m[p[T]],y[E[T]]);if(P!==0)return P}return kt(p.length,E.length)})(r.mapValue,t.mapValue);default:throw Et(23264,{he:n})}}function SE(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return kt(r,t);const n=hs(r),s=hs(t),o=kt(n.seconds,s.seconds);return o!==0?o:kt(n.nanos,s.nanos)}function AE(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=fo(n[o],s[o]);if(u)return u}return kt(n.length,s.length)}function mo(r){return Km(r)}function Km(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=hs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return fs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return gt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Km(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Km(n.fields[f])}`;return o+"}"})(r.mapValue):Et(61005,{value:r})}function lh(r){switch(ds(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Kh(r);return t?16+lh(t):16;case 5:return 2*r.stringValue.length;case 6:return fs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+lh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return vs(s.fields,((u,f)=>{o+=u.length+lh(f)})),o})(r.mapValue);default:throw Et(13486,{value:r})}}function bE(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Ym(r){return!!r&&"integerValue"in r}function Rp(r){return!!r&&"arrayValue"in r}function wE(r){return!!r&&"nullValue"in r}function RE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function uh(r){return!!r&&"mapValue"in r}function YC(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[A0])==null?void 0:s.stringValue)===b0}function Hl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return vs(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Hl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Hl(r.arrayValue.values[n]);return t}return{...r}}function $C(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===KC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.value=t}static empty(){return new on({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!uh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Hl(n)}setAll(t){let n=$e.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Hl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return zi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];uh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){vs(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new on(Hl(this.value))}}function w0(r){const t=[];return vs(r.fields,((n,s)=>{const o=new $e([n]);if(uh(s)){const u=w0(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new In(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new je(t,0,St.min(),St.min(),St.min(),on.empty(),0)}static newFoundDocument(t,n,s,o){return new je(t,1,n,St.min(),s,o,0)}static newNoDocument(t,n){return new je(t,2,n,St.min(),St.min(),on.empty(),0)}static newUnknownDocument(t,n){return new je(t,3,n,St.min(),St.min(),on.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(t,n){this.position=t,this.inclusive=n}}function CE(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=gt.comparator(gt.fromName(f.referenceValue),n.key):s=fo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function IE(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!zi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(t,n="asc"){this.field=t,this.dir=n}}function XC(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{}class Oe extends R0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new ZC(t,n,s):n==="array-contains"?new eI(t,s):n==="in"?new nI(t,s):n==="not-in"?new iI(t,s):n==="array-contains-any"?new rI(t,s):new Oe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new WC(t,s):new tI(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fo(n,this.value)):n!==null&&ds(this.value)===ds(n)&&this.matchesComparison(fo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends R0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ai(t,n)}matches(t){return C0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function C0(r){return r.op==="and"}function I0(r){return JC(r)&&C0(r)}function JC(r){for(const t of r.filters)if(t instanceof ai)return!1;return!0}function $m(r){if(r instanceof Oe)return r.field.canonicalString()+r.op.toString()+mo(r.value);if(I0(r))return r.filters.map((t=>$m(t))).join(",");{const t=r.filters.map((n=>$m(n))).join(",");return`${r.op}(${t})`}}function N0(r,t){return r instanceof Oe?(function(s,o){return o instanceof Oe&&s.op===o.op&&s.field.isEqual(o.field)&&zi(s.value,o.value)})(r,t):r instanceof ai?(function(s,o){return o instanceof ai&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&N0(f,o.filters[m])),!0):!1})(r,t):void Et(19439)}function D0(r){return r instanceof Oe?(function(n){return`${n.field.canonicalString()} ${n.op} ${mo(n.value)}`})(r):r instanceof ai?(function(n){return n.op.toString()+" {"+n.getFilters().map(D0).join(" ,")+"}"})(r):"Filter"}class ZC extends Oe{constructor(t,n,s){super(t,n,s),this.key=gt.fromName(s.referenceValue)}matches(t){const n=gt.comparator(t.key,this.key);return this.matchesComparison(n)}}class WC extends Oe{constructor(t,n){super(t,"in",n),this.keys=O0("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class tI extends Oe{constructor(t,n){super(t,"not-in",n),this.keys=O0("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function O0(r,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map((s=>gt.fromName(s.referenceValue)))}class eI extends Oe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Rp(n)&&tu(n.arrayValue,this.value)}}class nI extends Oe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&tu(this.value.arrayValue,n)}}class iI extends Oe{constructor(t,n){super(t,"not-in",n)}matches(t){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!tu(this.value.arrayValue,n)}}class rI extends Oe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Rp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>tu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function NE(r,t=null,n=[],s=[],o=null,u=null,f=null){return new sI(r,t,n,s,o,u,f)}function Cp(r){const t=bt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>$m(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),cu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>mo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>mo(s))).join(",")),t.Te=n}return t.Te}function Ip(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!XC(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!N0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!IE(r.startAt,t.startAt)&&IE(r.endAt,t.endAt)}function Xm(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aI(r,t,n,s,o,u,f,m){return new hu(r,t,n,s,o,u,f,m)}function Yh(r){return new hu(r)}function DE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function M0(r){return r.collectionGroup!==null}function Fl(r){const t=bt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Pe($e.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new wh(u,s))})),n.has($e.keyField().canonicalString())||t.Ie.push(new wh($e.keyField(),s))}return t.Ie}function xi(r){const t=bt(r);return t.Ee||(t.Ee=oI(t,Fl(r))),t.Ee}function oI(r,t){if(r.limitType==="F")return NE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new wh(o.field,u)}));const n=r.endAt?new bh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new bh(r.startAt.position,r.startAt.inclusive):null;return NE(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Jm(r,t){const n=r.filters.concat([t]);return new hu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Zm(r,t,n){return new hu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function $h(r,t){return Ip(xi(r),xi(t))&&r.limitType===t.limitType}function V0(r){return`${Cp(xi(r))}|lt:${r.limitType}`}function Wa(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>D0(o))).join(", ")}]`),cu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>mo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>mo(o))).join(",")),`Target(${s})`})(xi(r))}; limitType=${r.limitType})`}function Xh(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):gt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of Fl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const y=CE(f,m,p);return f.inclusive?y<=0:y<0})(s.startAt,Fl(s),o)||s.endAt&&!(function(f,m,p){const y=CE(f,m,p);return f.inclusive?y>=0:y>0})(s.endAt,Fl(s),o))})(r,t)}function lI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function x0(r){return(t,n)=>{let s=!1;for(const o of Fl(r)){const u=uI(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function uI(r,t,n){const s=r.field.isKeyField()?gt.comparator(t.key,n.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?fo(p,y):Et(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){vs(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return y0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=new he(gt.comparator);function hr(){return cI}const P0=new he(gt.comparator);function kl(...r){let t=P0;for(const n of r)t=t.insert(n.key,n);return t}function L0(r){let t=P0;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Ws(){return Gl()}function U0(){return Gl()}function Gl(){return new aa((r=>r.toString()),((r,t)=>r.isEqual(t)))}const hI=new he(gt.comparator),fI=new Pe(gt.comparator);function zt(...r){let t=fI;for(const n of r)t=t.add(n);return t}const dI=new Pe(kt);function mI(){return dI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(t)?"-0":t}}function k0(r){return{integerValue:""+r}}function pI(r,t){return qC(t)?k0(t):Np(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(){this._=void 0}}function gI(r,t,n){return r instanceof Rh?(function(o,u){const f={fields:{[E0]:{stringValue:v0},[S0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&wp(u)&&(u=Kh(u)),u&&(f.fields[T0]=u),{mapValue:f}})(n,t):r instanceof eu?j0(r,t):r instanceof nu?B0(r,t):(function(o,u){const f=z0(o,u),m=OE(f)+OE(o.Ae);return Ym(f)&&Ym(o.Ae)?k0(m):Np(o.serializer,m)})(r,t)}function yI(r,t,n){return r instanceof eu?j0(r,t):r instanceof nu?B0(r,t):n}function z0(r,t){return r instanceof Ch?(function(s){return Ym(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class Rh extends Jh{}class eu extends Jh{constructor(t){super(),this.elements=t}}function j0(r,t){const n=q0(t);for(const s of r.elements)n.some((o=>zi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class nu extends Jh{constructor(t){super(),this.elements=t}}function B0(r,t){let n=q0(t);for(const s of r.elements)n=n.filter((o=>!zi(o,s)));return{arrayValue:{values:n}}}class Ch extends Jh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function OE(r){return Ee(r.integerValue||r.doubleValue)}function q0(r){return Rp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function _I(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof eu&&o instanceof eu||s instanceof nu&&o instanceof nu?ho(s.elements,o.elements,zi):s instanceof Ch&&o instanceof Ch?zi(s.Ae,o.Ae):s instanceof Rh&&o instanceof Rh})(r.transform,t.transform)}class vI{constructor(t,n){this.version=t,this.transformResults=n}}class ln{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ln}static exists(t){return new ln(void 0,t)}static updateTime(t){return new ln(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ch(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Zh{}function H0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Wh(r.key,ln.none()):new fu(r.key,r.data,ln.none());{const n=r.data,s=on.empty();let o=new Pe($e.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Es(r.key,s,new In(o.toArray()),ln.none())}}function EI(r,t,n){r instanceof fu?(function(o,u,f){const m=o.value.clone(),p=VE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,n):r instanceof Es?(function(o,u,f){if(!ch(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=VE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(F0(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Ql(r,t,n,s){return r instanceof fu?(function(u,f,m,p){if(!ch(u.precondition,f))return m;const y=u.value.clone(),E=xE(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof Es?(function(u,f,m,p){if(!ch(u.precondition,f))return m;const y=xE(u.fieldTransforms,p,f),E=f.data;return E.setAll(F0(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,t,n,s):(function(u,f,m){return ch(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,n)}function TI(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=z0(s.transform,o||null);u!=null&&(n===null&&(n=on.empty()),n.set(s.field,u))}return n||null}function ME(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ho(s,o,((u,f)=>_I(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class fu extends Zh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Es extends Zh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function F0(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function VE(r,t,n){const s=new Map;Ht(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,yI(f,m,n[o]))}return s}function xE(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,gI(u,f,t))}return s}class Wh extends Zh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G0 extends Zh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&EI(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Ql(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Ql(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=U0();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=H0(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(St.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),zt())}isEqual(t){return this.batchId===t.batchId&&ho(this.mutations,t.mutations,((n,s)=>ME(n,s)))&&ho(this.baseMutations,t.baseMutations,((n,s)=>ME(n,s)))}}class Dp{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ht(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return hI})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Dp(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De,qt;function Q0(r){switch(r){case X.OK:return Et(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Et(15467,{code:r})}}function K0(r){if(r===void 0)return cr("GRPC error has no .code"),X.UNKNOWN;switch(r){case De.OK:return X.OK;case De.CANCELLED:return X.CANCELLED;case De.UNKNOWN:return X.UNKNOWN;case De.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case De.INTERNAL:return X.INTERNAL;case De.UNAVAILABLE:return X.UNAVAILABLE;case De.UNAUTHENTICATED:return X.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case De.NOT_FOUND:return X.NOT_FOUND;case De.ALREADY_EXISTS:return X.ALREADY_EXISTS;case De.PERMISSION_DENIED:return X.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case De.ABORTED:return X.ABORTED;case De.OUT_OF_RANGE:return X.OUT_OF_RANGE;case De.UNIMPLEMENTED:return X.UNIMPLEMENTED;case De.DATA_LOSS:return X.DATA_LOSS;default:return Et(39323,{code:r})}}(qt=De||(De={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=new as([4294967295,4294967295],0);function PE(r){const t=wI().encode(r),n=new a0;return n.update(t),new Uint8Array(n.digest())}function LE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new as([n,s],0),new as([o,u],0)]}class Op{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new zl(`Invalid padding: ${n}`);if(s<0)throw new zl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new zl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=as.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(as.fromNumber(s)));return o.compare(RI)===1&&(o=new as([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=PE(t),[s,o]=LE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Op(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=PE(t),[s,o]=LE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,du.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new tf(St.min(),o,new he(kt),hr(),zt())}}class du{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new du(s,n,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class Y0{constructor(t,n){this.targetId=t,this.Ce=n}}class $0{constructor(t,n,s=Je.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class UE{constructor(){this.ve=0,this.Fe=kE(),this.Me=Je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),n=zt(),s=zt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Et(38017,{changeType:u})}})),new du(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=kE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class CI{constructor(t){this.Ge=t,this.ze=new Map,this.je=hr(),this.Je=eh(),this.He=eh(),this.Ye=new he(kt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Xm(u))if(s===0){const f=new gt(u.path);this.et(n,f,je.newNoDocument(f,St.min()))}else Ht(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),p=m?this.ct(m,t,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=fs(s).toUint8Array()}catch(p){if(p instanceof _0)return co("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Op(f,o,u)}catch(p){return co(p instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Xm(m.target)){const p=new gt(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,je.newNoDocument(p,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=zt();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new tf(t,n,this.Ye,this.je,s);return this.je=hr(),this.Je=eh(),this.He=eh(),this.Ye=new he(kt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new UE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Pe(kt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Pe(kt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||dt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new UE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function eh(){return new he(gt.comparator)}function kE(){return new he(gt.comparator)}const II={asc:"ASCENDING",desc:"DESCENDING"},NI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DI={and:"AND",or:"OR"};class OI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Wm(r,t){return r.useProto3Json||cu(t)?t:{value:t}}function Ih(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function X0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function MI(r,t){return Ih(r,t.toTimestamp())}function Nn(r){return Ht(!!r,49232),St.fromTimestamp((function(n){const s=hs(n);return new se(s.seconds,s.nanos)})(r))}function Mp(r,t){return tp(r,t).canonicalString()}function tp(r,t){const n=(function(o){return new ie(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function J0(r){const t=ie.fromString(r);return Ht(iS(t),10190,{key:t.toString()}),t}function Nh(r,t){return Mp(r.databaseId,t.path)}function Kl(r,t){const n=J0(t);if(n.get(1)!==r.databaseId.projectId)throw new ct(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ct(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new gt(W0(n))}function Z0(r,t){return Mp(r.databaseId,t)}function VI(r){const t=J0(r);return t.length===4?ie.emptyPath():W0(t)}function ep(r){return new ie(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function W0(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function zE(r,t,n){return{name:Nh(r,t),fields:n.value.mapValue.fields}}function xI(r,t){return"found"in t?(function(s,o){Ht(!!o.found,43571),o.found.name,o.found.updateTime;const u=Kl(s,o.found.name),f=Nn(o.found.updateTime),m=o.found.createTime?Nn(o.found.createTime):St.min(),p=new on({mapValue:{fields:o.found.fields}});return je.newFoundDocument(u,f,m,p)})(r,t):"missing"in t?(function(s,o){Ht(!!o.missing,3894),Ht(!!o.readTime,22933);const u=Kl(s,o.missing),f=Nn(o.readTime);return je.newNoDocument(u,f)})(r,t):Et(7234,{result:t})}function PI(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Et(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Ht(E===void 0||typeof E=="string",58123),Je.fromBase64String(E||"")):(Ht(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Je.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?X.UNKNOWN:K0(y.code);return new ct(E,y.message||"")})(f);n=new $0(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Kl(r,s.document.name),u=Nn(s.document.updateTime),f=s.document.createTime?Nn(s.document.createTime):St.min(),m=new on({mapValue:{fields:s.document.fields}}),p=je.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new hh(y,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Kl(r,s.document),u=s.readTime?Nn(s.readTime):St.min(),f=je.newNoDocument(o,u),m=s.removedTargetIds||[];n=new hh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Kl(r,s.document),u=s.removedTargetIds||[];n=new hh([],u,o,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new bI(o,u),m=s.targetId;n=new Y0(m,f)}}return n}function tS(r,t){let n;if(t instanceof fu)n={update:zE(r,t.key,t.value)};else if(t instanceof Wh)n={delete:Nh(r,t.key)};else if(t instanceof Es)n={update:zE(r,t.key,t.data),updateMask:FI(t.fieldMask)};else{if(!(t instanceof G0))return Et(16599,{Vt:t.type});n={verify:Nh(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Rh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof eu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof nu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ch)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Et(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:MI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Et(27497)})(r,t.precondition)),n}function LI(r,t){return r&&r.length>0?(Ht(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Nn(o.updateTime):Nn(u);return f.isEqual(St.min())&&(f=Nn(u)),new vI(f,o.transformResults||[])})(n,t)))):[]}function UI(r,t){return{documents:[Z0(r,t.path)]}}function kI(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Z0(r,o);const u=(function(y){if(y.length!==0)return nS(ai.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(b){return{field:to(b.field),direction:BI(b.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Wm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:o}}function zI(r){let t=VI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ht(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const b=eS(T);return b instanceof ai&&I0(b)?b.getFilters():[b]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((b=>(function(K){return new wh(eo(K.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(b)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let b;return b=typeof T=="object"?T.value:T,cu(b)?null:b})(n.limit));let p=null;n.startAt&&(p=(function(T){const b=!!T.before,P=T.values||[];return new bh(P,b)})(n.startAt));let y=null;return n.endAt&&(y=(function(T){const b=!T.before,P=T.values||[];return new bh(P,b)})(n.endAt)),aI(t,o,f,u,m,"F",p,y)}function jI(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function eS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=eo(n.unaryFilter.field);return Oe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=eo(n.unaryFilter.field);return Oe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=eo(n.unaryFilter.field);return Oe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=eo(n.unaryFilter.field);return Oe.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Oe.create(eo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ai.create(n.compositeFilter.filters.map((s=>eS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(n.compositeFilter.op))})(r):Et(30097,{filter:r})}function BI(r){return II[r]}function qI(r){return NI[r]}function HI(r){return DI[r]}function to(r){return{fieldPath:r.canonicalString()}}function eo(r){return $e.fromServerFormat(r.fieldPath)}function nS(r){return r instanceof Oe?(function(n){if(n.op==="=="){if(RE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NAN"}};if(wE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(RE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NAN"}};if(wE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(n.field),op:qI(n.op),value:n.value}}})(r):r instanceof ai?(function(n){const s=n.getFilters().map((o=>nS(o)));return s.length===1?s[0]:{compositeFilter:{op:HI(n.op),filters:s}}})(r):Et(54877,{filter:r})}function FI(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function iS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(t,n,s,o,u=St.min(),f=St.min(),m=Je.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new ns(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(t){this.yt=t}}function QI(r){const t=zI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Zm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(){this.Cn=new YI}addToCollectionParentIndex(t,n){return this.Cn.add(n),nt.resolve()}getCollectionParents(t,n){return nt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return nt.resolve()}deleteFieldIndex(t,n){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,n){return nt.resolve()}getDocumentsMatchingTarget(t,n){return nt.resolve(null)}getIndexType(t,n){return nt.resolve(0)}getFieldIndexes(t,n){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,n){return nt.resolve(cs.min())}getMinOffsetFromCollectionGroup(t,n){return nt.resolve(cs.min())}updateCollectionGroup(t,n,s){return nt.resolve()}updateIndexEntries(t,n){return nt.resolve()}}class YI{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Pe(ie.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Pe(ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rS=41943040;class yn{static withCacheSize(t){return new yn(t,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(rS,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new po(0)}static cr(){return new po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="LruGarbageCollector",$I=1048576;function qE([r,t],[n,s]){const o=kt(r,n);return o===0?kt(t,s):o}class XI{constructor(t){this.Ir=t,this.buffer=new Pe(qE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();qE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class JI{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){dt(BE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bo(n)?dt(BE,"Ignoring IndexedDB error during garbage collection: ",n):await Ao(n)}await this.Vr(3e5)}))}}class ZI{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return nt.resolve(Qh.ce);const s=new XI(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(jE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(t,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(y=Date.now(),Za()<=Ut.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function WI(r,t){return new ZI(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.changes=new aa((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,je.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?nt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Ql(s.mutation,o,In.empty(),se.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,zt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=zt()){const o=Ws();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=kl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=Ws();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,zt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=hr();const f=Gl(),m=(function(){return Gl()})();return n.forEach(((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Es)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Ql(E.mutation,y,E.mutation.getFieldMask(),se.now())):f.set(y.key,In.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new e2(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=Gl();let o=new he(((f,m)=>f-m)),u=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||In.empty();E=m.applyToLocalView(y,E),s.set(p,E);const T=(o.get(m.batchId)||zt()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,T=U0();E.forEach((b=>{if(!u.has(b)){const P=H0(n.get(b),s.get(b));P!==null&&T.set(b,P),u=u.add(b)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,T))}return nt.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(f){return gt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):M0(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):nt.resolve(Ws());let m=Jl,p=u;return f.next((y=>nt.forEach(y,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?nt.resolve():this.remoteDocumentCache.getEntry(t,E).next((b=>{p=p.insert(E,b)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,p,y,zt()))).next((E=>({batchId:m,changes:L0(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new gt(n)).next((s=>{let o=kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=kl();return this.indexManager.getCollectionParents(t,u).next((m=>nt.forEach(m,(p=>{const y=(function(T,b){return new hu(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next((E=>{E.forEach(((T,b)=>{f=f.insert(T,b)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,je.newInvalidDocument(E)))}));let m=kl();return f.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&Ql(E.mutation,y,In.empty(),se.now()),Xh(n,y)&&(m=m.insert(p,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return nt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Nn(o.createTime)}})(n)),nt.resolve()}getNamedQuery(t,n){return nt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:QI(o.bundledQuery),readTime:Nn(o.readTime)}})(n)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.overlays=new he(gt.comparator),this.qr=new Map}getOverlay(t,n){return nt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ws();return nt.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),nt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),nt.resolve()}getOverlaysForCollection(t,n,s){const o=Ws(),u=n.length+1,f=new gt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return nt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new he(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Ws(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Ws(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return nt.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new AI(n,s));let u=this.qr.get(n);u===void 0&&(u=zt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(){this.Qr=new Pe(ze.$r),this.Ur=new Pe(ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new ze(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new ze(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new gt(new ie([])),s=new ze(n,t),o=new ze(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new gt(new ie([])),s=new ze(n,t),o=new ze(n,t+1);let u=zt();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new ze(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class ze{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return gt.comparator(t.key,n.key)||kt(t.Yr,n.Yr)}static Kr(t,n){return kt(t.Yr,n.Yr)||gt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pe(ze.$r)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new SI(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new ze(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return nt.resolve(f)}lookupMutationBatch(t,n){return nt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return nt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?bp:this.tr-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new ze(n,0),o=new ze(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),nt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Pe(kt);return n.forEach((o=>{const u=new ze(o,0),f=new ze(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),nt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;gt.isDocumentKey(u)||(u=u.child(""));const f=new ze(new gt(u),0);let m=new Pe(kt);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)}),f),nt.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Ht(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return nt.forEach(n.mutations,(o=>{const u=new ze(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new ze(n,0),o=this.Zr.firstAfterOrEqual(s);return nt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(t){this.ri=t,this.docs=(function(){return new he(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return nt.resolve(s?s.document.mutableCopy():je.newInvalidDocument(n))}getEntries(t,n){let s=hr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():je.newInvalidDocument(o))})),nt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=hr();const f=n.path,m=new gt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||kC(UC(E),s)<=0||(o.has(E.key)||Xh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return nt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Et(9500)}ii(t,n){return nt.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new l2(this)}getSize(t){return nt.resolve(this.size)}}class l2 extends t2{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),nt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(t){this.persistence=t,this.si=new aa((n=>Cp(n)),Ip),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new Vp,this.targetCount=0,this.ai=po.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),nt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new po(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,nt.resolve()}updateTargetData(t,n){return this.Pr(n),nt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),nt.waitFor(u).next((()=>o))}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return nt.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),nt.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),nt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),nt.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return nt.resolve(s)}containsKey(t,n){return nt.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(t,n){this.ui={},this.overlays={},this.ci=new Qh(0),this.li=!1,this.li=!0,this.hi=new s2,this.referenceDelegate=t(this),this.Pi=new u2(this),this.indexManager=new KI,this.remoteDocumentCache=(function(o){return new o2(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new GI(n),this.Ii=new i2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new r2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new a2(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){dt("MemoryPersistence","Starting transaction:",t);const o=new c2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return nt.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class c2 extends jC{constructor(t){super(),this.currentSequenceNumber=t}}class xp{constructor(t){this.persistence=t,this.Ri=new Vp,this.Vi=null}static mi(t){return new xp(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),nt.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),nt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),nt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.fi,(s=>{const o=gt.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,St.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return nt.or([()=>nt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Dh{constructor(t,n){this.persistence=t,this.pi=new aa((s=>HC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=WI(this,n)}static mi(t,n){return new Dh(t,n)}Ei(){}di(t){return nt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return nt.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?nt.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((m=>{m||(s++,u.removeEntry(f,St.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),nt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),nt.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),nt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=lh(t.data.value)),n}br(t,n,s){return nt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return nt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=zt(),o=zt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Pp(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return oR()?8:BC(en())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new h2;return this.Ss(t,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(Za()<=Ut.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",Wa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),nt.resolve()):(Za()<=Ut.DEBUG&&dt("QueryEngine","Query:",Wa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Za()<=Ut.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",Wa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xi(n))):nt.resolve())}ys(t,n){if(DE(n))return nt.resolve(null);let s=xi(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Zm(n,null,"F"),s=xi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=zt(...u);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const y=this.Ds(n,m);return this.Cs(n,y,f,p.readTime)?this.ys(t,Zm(n,null,"F")):this.vs(t,y,n,p)}))))})))))}ws(t,n,s,o){return DE(n)||o.isEqual(St.min())?nt.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?nt.resolve(null):(Za()<=Ut.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Wa(n)),this.vs(t,f,n,LC(o,Jl)).next((m=>m)))}))}Ds(t,n){let s=new Pe(x0(t));return n.forEach(((o,u)=>{Xh(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return Za()<=Ut.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",Wa(n)),this.ps.getDocumentsMatchingQuery(t,n,cs.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="LocalStore",d2=3e8;class m2{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new he(kt),this.xs=new aa((u=>Cp(u)),Ip),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new n2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function p2(r,t,n,s){return new m2(r,t,n,s)}async function aS(r,t){const n=bt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=zt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function g2(r,t){const n=bt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const T=y.batch,b=T.keys();let P=nt.resolve();return b.forEach((K=>{P=P.next((()=>E.getEntry(p,K))).next((J=>{const F=y.docVersions.get(K);Ht(F!==null,48541),J.version.compareTo(F)<0&&(T.applyToRemoteDocument(J,y),J.isValidDocument()&&(J.setReadTime(y.commitVersion),E.addEntry(J)))}))})),P.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=zt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function oS(r){const t=bt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function y2(r,t){const n=bt(r),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((E,T)=>{const b=o.get(T);if(!b)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let P=b.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?P=P.withResumeToken(Je.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(T,P),(function(J,F,rt){return J.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=d2?!0:rt.addedDocuments.size+rt.modifiedDocuments.size+rt.removedDocuments.size>0})(b,P,E)&&m.push(n.Pi.updateTargetData(u,P))}));let p=hr(),y=zt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(_2(u,f,t.documentUpdates).next((E=>{p=E.ks,y=E.qs}))),!s.isEqual(St.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return nt.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function _2(r,t,n){let s=zt(),o=zt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=hr();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(St.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):dt(Lp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function v2(r,t){const n=bt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=bp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function E2(r,t){const n=bt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,nt.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new ns(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function np(r,t,n){const s=bt(r),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!bo(f))throw f;dt(Lp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function HE(r,t,n){const s=bt(r);let o=St.min(),u=zt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const T=bt(p),b=T.xs.get(E);return b!==void 0?nt.resolve(T.Ms.get(b)):T.Pi.getTargetData(y,E)})(s,f,xi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:St.min(),n?u:zt()))).next((m=>(T2(s,lI(t),m),{documents:m,Qs:u})))))}function T2(r,t,n){let s=r.Os.get(t)||St.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class FE{constructor(){this.activeTargetIds=mI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class S2{constructor(){this.Mo=new FE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new FE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="ConnectivityMonitor";class QE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){dt(GE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){dt(GE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh=null;function ip(){return nh===null?nh=(function(){return 268435456+Math.round(2147483648*Math.random())})():nh++,"0x"+nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="RestConnection",b2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class w2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Sh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=ip(),m=this.zo(t,n.toUriEncodedString());dt(Rm,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(m),E=Eo(y);return this.Jo(t,m,p,s,E).then((T=>(dt(Rm,`Received RPC '${t}' ${f}: `,T),T)),(T=>{throw co(Rm,`RPC '${t}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+So})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=b2[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We="WebChannelConnection";class C2 extends w2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=ip();return new Promise(((m,p)=>{const y=new o0;y.setWithCredentials(!0),y.listenOnce(l0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case oh.NO_ERROR:const T=y.getResponseJson();dt(We,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(T)),m(T);break;case oh.TIMEOUT:dt(We,`RPC '${t}' ${f} timed out`),p(new ct(X.DEADLINE_EXCEEDED,"Request time out"));break;case oh.HTTP_ERROR:const b=y.getStatus();if(dt(We,`RPC '${t}' ${f} failed with status:`,b,"response text:",y.getResponseText()),b>0){let P=y.getResponseJson();Array.isArray(P)&&(P=P[0]);const K=P==null?void 0:P.error;if(K&&K.status&&K.message){const J=(function(rt){const at=rt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(at)>=0?at:X.UNKNOWN})(K.status);p(new ct(J,K.message))}else p(new ct(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ct(X.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{dt(We,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);dt(We,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=ip(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=h0(),m=c0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");dt(We,`Creating RPC '${t}' stream ${o}: ${E}`,p);const T=f.createWebChannel(E,p);this.I_(T);let b=!1,P=!1;const K=new R2({Yo:F=>{P?dt(We,`Not sending because RPC '${t}' stream ${o} is closed:`,F):(b||(dt(We,`Opening RPC '${t}' stream ${o} transport.`),T.open(),b=!0),dt(We,`RPC '${t}' stream ${o} sending:`,F),T.send(F))},Zo:()=>T.close()}),J=(F,rt,at)=>{F.listen(rt,(st=>{try{at(st)}catch(vt){setTimeout((()=>{throw vt}),0)}}))};return J(T,Ul.EventType.OPEN,(()=>{P||(dt(We,`RPC '${t}' stream ${o} transport opened.`),K.o_())})),J(T,Ul.EventType.CLOSE,(()=>{P||(P=!0,dt(We,`RPC '${t}' stream ${o} transport closed`),K.a_(),this.E_(T))})),J(T,Ul.EventType.ERROR,(F=>{P||(P=!0,co(We,`RPC '${t}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),K.a_(new ct(X.UNAVAILABLE,"The operation could not be completed")))})),J(T,Ul.EventType.MESSAGE,(F=>{var rt;if(!P){const at=F.data[0];Ht(!!at,16349);const st=at,vt=(st==null?void 0:st.error)||((rt=st[0])==null?void 0:rt.error);if(vt){dt(We,`RPC '${t}' stream ${o} received error:`,vt);const wt=vt.status;let it=(function(w){const O=De[w];if(O!==void 0)return K0(O)})(wt),C=vt.message;it===void 0&&(it=X.INTERNAL,C="Unknown error status: "+wt+" with message "+vt.message),P=!0,K.a_(new ct(it,C)),T.close()}else dt(We,`RPC '${t}' stream ${o} received:`,at),K.u_(at)}})),J(m,u0.STAT_EVENT,(F=>{F.stat===Gm.PROXY?dt(We,`RPC '${t}' stream ${o} detected buffering proxy`):F.stat===Gm.NOPROXY&&dt(We,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{K.__()}),0),K}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Cm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(r){return new OI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&dt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="PersistentStream";class lS{constructor(t,n,s,o,u,f,m,p){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Up(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(cr(n.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new ct(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return dt(KE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(dt(KE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class I2 extends lS{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=PI(this.serializer,t),s=(function(u){if(!("targetChange"in u))return St.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?St.min():f.readTime?Nn(f.readTime):St.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=ep(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Xm(p)?{documents:UI(u,p)}:{query:kI(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=X0(u,f.resumeToken);const y=Wm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(St.min())>0){m.readTime=Ih(u,f.snapshotVersion.toTimestamp());const y=Wm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const s=jI(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=ep(this.serializer),n.removeTarget=t,this.q_(n)}}class N2 extends lS{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=LI(t.writeResults,t.commitTime),s=Nn(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=ep(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>tS(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{}class O2 extends D2{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ct(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,tp(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(X.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,tp(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ct(X.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class M2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cr(n),this.aa=!1):dt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="RemoteStore";class V2{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{oa(this)&&(dt(ra,"Restarting streams for network reachability change."),await(async function(p){const y=bt(p);y.Ea.add(4),await mu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await nf(y)})(this))}))})),this.Ra=new M2(s,o)}}async function nf(r){if(oa(r))for(const t of r.da)await t(!0)}async function mu(r){for(const t of r.da)await t(!1)}function uS(r,t){const n=bt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Bp(n)?jp(n):wo(n).O_()&&zp(n,t))}function kp(r,t){const n=bt(r),s=wo(n);n.Ia.delete(t),s.O_()&&cS(n,t),n.Ia.size===0&&(s.O_()?s.L_():oa(n)&&n.Ra.set("Unknown"))}function zp(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}wo(r).Y_(t)}function cS(r,t){r.Va.Ue(t),wo(r).Z_(t)}function jp(r){r.Va=new CI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),wo(r).start(),r.Ra.ua()}function Bp(r){return oa(r)&&!wo(r).x_()&&r.Ia.size>0}function oa(r){return bt(r).Ea.size===0}function hS(r){r.Va=void 0}async function x2(r){r.Ra.set("Online")}async function P2(r){r.Ia.forEach(((t,n)=>{zp(r,t)}))}async function L2(r,t){hS(r),Bp(r)?(r.Ra.ha(t),jp(r)):r.Ra.set("Unknown")}async function U2(r,t,n){if(r.Ra.set("Online"),t instanceof $0&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,t)}catch(s){dt(ra,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Oh(r,s)}else if(t instanceof hh?r.Va.Ze(t):t instanceof Y0?r.Va.st(t):r.Va.tt(t),!n.isEqual(St.min()))try{const s=await oS(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Je.EMPTY_BYTE_STRING,E.snapshotVersion)),cS(u,p);const T=new ns(E.target,p,y,E.sequenceNumber);zp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){dt(ra,"Failed to raise snapshot:",s),await Oh(r,s)}}async function Oh(r,t,n){if(!bo(t))throw t;r.Ea.add(1),await mu(r),r.Ra.set("Offline"),n||(n=()=>oS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{dt(ra,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await nf(r)}))}function fS(r,t){return t().catch((n=>Oh(r,n,t)))}async function rf(r){const t=bt(r),n=ms(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:bp;for(;k2(t);)try{const o=await v2(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,z2(t,o)}catch(o){await Oh(t,o)}dS(t)&&mS(t)}function k2(r){return oa(r)&&r.Ta.length<10}function z2(r,t){r.Ta.push(t);const n=ms(r);n.O_()&&n.X_&&n.ea(t.mutations)}function dS(r){return oa(r)&&!ms(r).x_()&&r.Ta.length>0}function mS(r){ms(r).start()}async function j2(r){ms(r).ra()}async function B2(r){const t=ms(r);for(const n of r.Ta)t.ea(n.mutations)}async function q2(r,t,n){const s=r.Ta.shift(),o=Dp.from(s,t,n);await fS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await rf(r)}async function H2(r,t){t&&ms(r).X_&&await(async function(s,o){if((function(f){return Q0(f)&&f!==X.ABORTED})(o.code)){const u=s.Ta.shift();ms(s).B_(),await fS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await rf(s)}})(r,t),dS(r)&&mS(r)}async function YE(r,t){const n=bt(r);n.asyncQueue.verifyOperationInProgress(),dt(ra,"RemoteStore received new credentials");const s=oa(n);n.Ea.add(3),await mu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await nf(n)}async function F2(r,t){const n=bt(r);t?(n.Ea.delete(2),await nf(n)):t||(n.Ea.add(2),await mu(n),n.Ra.set("Unknown"))}function wo(r){return r.ma||(r.ma=(function(n,s,o){const u=bt(n);return u.sa(),new I2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:x2.bind(null,r),t_:P2.bind(null,r),r_:L2.bind(null,r),H_:U2.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Bp(r)?jp(r):r.Ra.set("Unknown")):(await r.ma.stop(),hS(r))}))),r.ma}function ms(r){return r.fa||(r.fa=(function(n,s,o){const u=bt(n);return u.sa(),new N2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:j2.bind(null,r),r_:H2.bind(null,r),ta:B2.bind(null,r),na:q2.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await rf(r)):(await r.fa.stop(),r.Ta.length>0&&(dt(ra,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new qp(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hp(r,t){if(cr("AsyncQueue",`${t}: ${r}`),bo(r))return new ct(X.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{static emptySet(t){return new so(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||gt.comparator(n.key,s.key):(n,s)=>gt.comparator(n.key,s.key),this.keyedMap=kl(),this.sortedSet=new he(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof so)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new so;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(){this.ga=new he(gt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class go{constructor(t,n,s,o,u,f,m,p,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new go(t,n,so.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&$h(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class Q2{constructor(){this.queries=XE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=bt(n),u=o.queries;o.queries=XE(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new ct(X.ABORTED,"Firestore shutting down"))}}function XE(){return new aa((r=>V0(r)),$h)}async function Fp(r,t){const n=bt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new G2,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Hp(f,`Initialization of query '${Wa(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Qp(n)}async function Gp(r,t){const n=bt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function K2(r,t){const n=bt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Qp(n)}function Y2(r,t,n){const s=bt(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function Qp(r){r.Ca.forEach((t=>{t.next()}))}var rp,JE;(JE=rp||(rp={})).Ma="default",JE.Cache="cache";class Kp{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new go(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=go.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==rp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(t){this.key=t}}class gS{constructor(t){this.key=t}}class $2{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=x0(t),this.tu=new so(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new $E,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,T)=>{const b=o.get(E),P=Xh(this.query,T)?T:null,K=!!b&&this.mutatedKeys.has(b.key),J=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let F=!1;b&&P?b.data.isEqual(P.data)?K!==J&&(s.track({type:3,doc:P}),F=!0):this.su(b,P)||(s.track({type:2,doc:P}),F=!0,(p&&this.eu(P,p)>0||y&&this.eu(P,y)<0)&&(m=!0)):!b&&P?(s.track({type:0,doc:P}),F=!0):b&&!P&&(s.track({type:1,doc:b}),F=!0,(p||y)&&(m=!0)),F&&(P?(f=f.add(P),u=J?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,T)=>(function(P,K){const J=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:F})}};return J(P)-J(K)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new go(this.query,t.tu,u,f,t.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $E,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=zt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new gS(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new pS(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=zt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Yp="SyncEngine";class X2{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class J2{constructor(t){this.key=t,this.hu=!1}}class Z2{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new aa((m=>V0(m)),$h),this.Iu=new Map,this.Eu=new Set,this.du=new he(gt.comparator),this.Au=new Map,this.Ru=new Vp,this.Vu={},this.mu=new Map,this.fu=po.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function W2(r,t,n=!0){const s=SS(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await yS(s,t,n,!0),o}async function tN(r,t){const n=SS(r);await yS(n,t,!0,!1)}async function yS(r,t,n,s){const o=await E2(r.localStore,xi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await eN(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&uS(r.remoteStore,o),m}async function eN(r,t,n,s,o){r.pu=(T,b,P)=>(async function(J,F,rt,at){let st=F.view.ru(rt);st.Cs&&(st=await HE(J.localStore,F.query,!1).then((({documents:C})=>F.view.ru(C,st))));const vt=at&&at.targetChanges.get(F.targetId),wt=at&&at.targetMismatches.get(F.targetId)!=null,it=F.view.applyChanges(st,J.isPrimaryClient,vt,wt);return WE(J,F.targetId,it.au),it.snapshot})(r,T,b,P);const u=await HE(r.localStore,t,!0),f=new $2(t,u.Qs),m=f.ru(u.documents),p=du.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);WE(r,n,y.au);const E=new X2(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function nN(r,t,n){const s=bt(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!$h(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await np(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&kp(s.remoteStore,o.targetId),sp(s,o.targetId)})).catch(Ao)):(sp(s,o.targetId),await np(s.localStore,o.targetId,!0))}async function iN(r,t){const n=bt(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),kp(n.remoteStore,s.targetId))}async function rN(r,t,n){const s=hN(r);try{const o=await(function(f,m){const p=bt(f),y=se.now(),E=m.reduce(((P,K)=>P.add(K.key)),zt());let T,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let K=hr(),J=zt();return p.Ns.getEntries(P,E).next((F=>{K=F,K.forEach(((rt,at)=>{at.isValidDocument()||(J=J.add(rt))}))})).next((()=>p.localDocuments.getOverlayedDocuments(P,K))).next((F=>{T=F;const rt=[];for(const at of m){const st=TI(at,T.get(at.key).overlayedDocument);st!=null&&rt.push(new Es(at.key,st,w0(st.value.mapValue),ln.exists(!0)))}return p.mutationQueue.addMutationBatch(P,y,rt,m)})).next((F=>{b=F;const rt=F.applyToLocalDocumentSet(T,J);return p.documentOverlayCache.saveOverlays(P,F.batchId,rt)}))})).then((()=>({batchId:b.batchId,changes:L0(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new he(kt)),y=y.insert(m,p),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await pu(s,o.changes),await rf(s.remoteStore)}catch(o){const u=Hp(o,"Failed to persist write");n.reject(u)}}async function _S(r,t){const n=bt(r);try{const s=await y2(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ht(f.hu,14607):o.removedDocuments.size>0&&(Ht(f.hu,42227),f.hu=!1))})),await pu(n,s,t)}catch(s){await Ao(s)}}function ZE(r,t,n){const s=bt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=bt(f);p.onlineState=m;let y=!1;p.queries.forEach(((E,T)=>{for(const b of T.Sa)b.va(m)&&(y=!0)})),y&&Qp(p)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function sN(r,t,n){const s=bt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new he(gt.comparator);f=f.insert(u,je.newNoDocument(u,St.min()));const m=zt().add(u),p=new tf(St.min(),new Map,new he(kt),f,m);await _S(s,p),s.du=s.du.remove(u),s.Au.delete(t),$p(s)}else await np(s.localStore,t,!1).then((()=>sp(s,t,n))).catch(Ao)}async function aN(r,t){const n=bt(r),s=t.batch.batchId;try{const o=await g2(n.localStore,t);ES(n,s,null),vS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await pu(n,o)}catch(o){await Ao(o)}}async function oN(r,t,n){const s=bt(r);try{const o=await(function(f,m){const p=bt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((T=>(Ht(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(y,T)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(s.localStore,t);ES(s,t,n),vS(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await pu(s,o)}catch(o){await Ao(o)}}function vS(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function ES(r,t,n){const s=bt(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function sp(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||TS(r,s)}))}function TS(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(kp(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),$p(r))}function WE(r,t,n){for(const s of n)s instanceof pS?(r.Ru.addReference(s.key,t),lN(r,s)):s instanceof gS?(dt(Yp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||TS(r,s.key)):Et(19791,{wu:s})}function lN(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(dt(Yp,"New document in limbo: "+n),r.Eu.add(s),$p(r))}function $p(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new gt(ie.fromString(t)),s=r.fu.next();r.Au.set(s,new J2(n)),r.du=r.du.insert(n,s),uS(r.remoteStore,new ns(xi(Yh(n.path)),s,"TargetPurposeLimboResolution",Qh.ce))}}async function pu(r,t,n){const s=bt(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,t,n).then((y=>{var E;if((y||n)&&s.isPrimaryClient){const T=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){o.push(y);const T=Pp.As(p.targetId,y);u.push(T)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,y){const E=bt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>nt.forEach(y,(b=>nt.forEach(b.Es,(P=>E.persistence.referenceDelegate.addReference(T,b.targetId,P))).next((()=>nt.forEach(b.ds,(P=>E.persistence.referenceDelegate.removeReference(T,b.targetId,P)))))))))}catch(T){if(!bo(T))throw T;dt(Lp,"Failed to update sequence numbers: "+T)}for(const T of y){const b=T.targetId;if(!T.fromCache){const P=E.Ms.get(b),K=P.snapshotVersion,J=P.withLastLimboFreeSnapshotVersion(K);E.Ms=E.Ms.insert(b,J)}}})(s.localStore,u))}async function uN(r,t){const n=bt(r);if(!n.currentUser.isEqual(t)){dt(Yp,"User change. New user:",t.toKey());const s=await aS(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ct(X.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await pu(n,s.Ls)}}function cN(r,t){const n=bt(r),s=n.Au.get(t);if(s&&s.hu)return zt().add(s.key);{let o=zt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function SS(r){const t=bt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=_S.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sN.bind(null,t),t.Pu.H_=K2.bind(null,t.eventManager),t.Pu.yu=Y2.bind(null,t.eventManager),t}function hN(r){const t=bt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=aN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=oN.bind(null,t),t}class Mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ef(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return p2(this.persistence,new f2,t.initialUser,this.serializer)}Cu(t){return new sS(xp.mi,this.serializer)}Du(t){return new S2}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mh.provider={build:()=>new Mh};class fN extends Mh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ht(this.persistence.referenceDelegate instanceof Dh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new JI(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new sS((s=>Dh.mi(s,n)),this.serializer)}}class ap{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ZE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=uN.bind(null,this.syncEngine),await F2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new Q2})()}createDatastore(t){const n=ef(t.databaseInfo.databaseId),s=(function(u){return new C2(u)})(t.databaseInfo);return(function(u,f,m,p){return new O2(u,f,m,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new V2(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>ZE(this.syncEngine,n,0)),(function(){return QE.v()?new QE:new A2})())}createSyncEngine(t,n){return(function(o,u,f,m,p,y,E){const T=new Z2(o,u,f,m,p,y);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await(async function(o){const u=bt(o);dt(ra,"RemoteStore shutting down."),u.Ea.add(5),await mu(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}ap.provider={build:()=>new ap};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):cr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ct(X.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,u){const f=bt(o),m={documents:u.map((T=>Nh(f.serializer,T)))},p=await f.Ho("BatchGetDocuments",f.serializer.databaseId,ie.emptyPath(),m,u.length),y=new Map;p.forEach((T=>{const b=xI(f.serializer,T);y.set(b.key.toString(),b)}));const E=[];return u.forEach((T=>{const b=y.get(T.toString());Ht(!!b,55234,{key:T}),E.push(b)})),E})(this.datastore,t);return n.forEach((s=>this.recordVersion(s))),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new Wh(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((n=>{t.delete(n.key.toString())})),t.forEach(((n,s)=>{const o=gt.fromPath(s);this.mutations.push(new G0(o,this.precondition(o)))})),await(async function(s,o){const u=bt(s),f={writes:o.map((m=>tS(u.serializer,m)))};await u.Go("Commit",u.serializer.databaseId,ie.emptyPath(),f)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw Et(50498,{Gu:t.constructor.name});n=St.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!n.isEqual(s))throw new ct(X.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(St.min())?ln.exists(!1):ln.updateTime(n):ln.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(St.min()))throw new ct(X.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ln.updateTime(n)}return ln.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(t,n,s,o,u){this.asyncQueue=t,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=u,this.zu=s.maxAttempts,this.M_=new Up(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const t=new dN(this.datastore),n=this.Hu(t);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Yu(o)}))))})).catch((s=>{this.Yu(s)}))}))}Hu(t){try{const n=this.updateFunction(t);return!cu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(t){this.zu>0&&this.Zu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(t)}Zu(t){if((t==null?void 0:t.name)==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Q0(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="FirestoreClient";class pN{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=Ap.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{dt(ps,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(dt(ps,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Hp(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Im(r,t){r.asyncQueue.verifyOperationInProgress(),dt(ps,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await aS(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function tT(r,t){r.asyncQueue.verifyOperationInProgress();const n=await gN(r);dt(ps,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>YE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>YE(t.remoteStore,o))),r._onlineComponents=t}async function gN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){dt(ps,"Using user provided OfflineComponentProvider");try{await Im(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;co("Error using user provided cache. Falling back to memory cache: "+n),await Im(r,new Mh)}}else dt(ps,"Using default OfflineComponentProvider"),await Im(r,new fN(void 0));return r._offlineComponents}async function Jp(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(dt(ps,"Using user provided OnlineComponentProvider"),await tT(r,r._uninitializedComponentsProvider._online)):(dt(ps,"Using default OnlineComponentProvider"),await tT(r,new ap))),r._onlineComponents}function yN(r){return Jp(r).then((t=>t.syncEngine))}function _N(r){return Jp(r).then((t=>t.datastore))}async function Vh(r){const t=await Jp(r),n=t.eventManager;return n.onListen=W2.bind(null,t.syncEngine),n.onUnlisten=nN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=tN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=iN.bind(null,t.syncEngine),n}function vN(r,t,n={}){const s=new Vi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new Xp({next:b=>{E.Nu(),f.enqueueAndForget((()=>Gp(u,T)));const P=b.docs.has(m);!P&&b.fromCache?y.reject(new ct(X.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&b.fromCache&&p&&p.source==="server"?y.reject(new ct(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(b)},error:b=>y.reject(b)}),T=new Kp(Yh(m.path),E,{includeMetadataChanges:!0,qa:!0});return Fp(u,T)})(await Vh(r),r.asyncQueue,t,n,s))),s.promise}function EN(r,t,n={}){const s=new Vi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new Xp({next:b=>{E.Nu(),f.enqueueAndForget((()=>Gp(u,T))),b.fromCache&&p.source==="server"?y.reject(new ct(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(b)},error:b=>y.reject(b)}),T=new Kp(m,E,{includeMetadataChanges:!0,qa:!0});return Fp(u,T)})(await Vh(r),r.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="firestore.googleapis.com",nT=!0;class iT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bS,this.ssl=nT}else this.host=t.host,this.ssl=t.ssl??nT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=rS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<$I)throw new ct(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}PC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AS(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ct(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ct(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ct(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class sf{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new wC;switch(s.type){case"firstParty":return new NC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=eT.get(n);s&&(dt("ComponentProvider","Removing Datastore"),eT.delete(n),s.terminate())})(this),Promise.resolve()}}function TN(r,t,n,s={}){var y;r=Hn(r,sf);const o=Eo(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${n}`;o&&(ZT(`https://${m}`),WT("Firestore",!0)),u.host!==bS&&u.host!==m&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ea(p,f)&&(r._setSettings(p),s.mockUserToken)){let E,T;if(typeof s.mockUserToken=="string")E=s.mockUserToken,T=tn.MOCK_USER;else{E=Z1(s.mockUserToken,(y=r._app)==null?void 0:y.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ct(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new tn(b)}r._authCredentials=new RC(new d0(E,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new la(this.firestore,t,this._query)}}class me{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new os(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new me(this.firestore,t,this._key)}toJSON(){return{type:me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(uu(n,me._jsonSchema))return new me(t,s||null,new gt(ie.fromString(n.referencePath)))}}me._jsonSchemaVersion="firestore/documentReference/1.0",me._jsonSchema={type:Me("string",me._jsonSchemaVersion),referencePath:Me("string")};class os extends la{constructor(t,n,s){super(t,n,Yh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new me(this.firestore,null,new gt(t))}withConverter(t){return new os(this.firestore,t,this._path)}}function Zp(r,t,...n){if(r=Xe(r),m0("collection","path",t),r instanceof sf){const s=ie.fromString(t,...n);return gE(s),new os(r,null,s)}{if(!(r instanceof me||r instanceof os))throw new ct(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ie.fromString(t,...n));return gE(s),new os(r.firestore,null,s)}}function Xa(r,t,...n){if(r=Xe(r),arguments.length===1&&(t=Ap.newId()),m0("doc","path",t),r instanceof sf){const s=ie.fromString(t,...n);return pE(s),new me(r,null,new gt(s))}{if(!(r instanceof me||r instanceof os))throw new ct(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ie.fromString(t,...n));return pE(s),new me(r.firestore,r instanceof os?r.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="AsyncQueue";class sT{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Up(this,"async_queue_retry"),this._c=()=>{const s=Cm();s&&dt(rT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Vi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!bo(t))throw t;dt(rT,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,cr("INTERNAL UNHANDLED ERROR: ",aT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=qp.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Et(47125,{Pc:aT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function aT(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class gs extends sf{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new sT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new sT(t),this._firestoreClient=void 0,await t}}}function SN(r,t){const n=typeof r=="object"?r:i0(),s=typeof r=="string"?r:Sh,o=Tp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=X1("firestore");u&&TN(o,...u)}return o}function gu(r){if(r._terminated)throw new ct(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||AN(r),r._firestoreClient}function AN(r){var s,o,u;const t=r._freezeSettings(),n=(function(m,p,y,E){return new QC(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,AS(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,t);r._componentsProvider||(o=t.localCache)!=null&&o._offlineComponentProvider&&((u=t.localCache)!=null&&u._onlineComponentProvider)&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new pN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Cn(Je.fromBase64String(t))}catch(n){throw new ct(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Cn(Je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Cn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(uu(t,Cn._jsonSchema))return Cn.fromBase64String(t.bytes)}}Cn._jsonSchemaVersion="firestore/bytes/1.0",Cn._jsonSchema={type:Me("string",Cn._jsonSchemaVersion),bytes:Me("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(t){if(uu(t,Pi._jsonSchema))return new Pi(t.latitude,t.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:Me("string",Pi._jsonSchemaVersion),latitude:Me("number"),longitude:Me("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(uu(t,Li._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Li(t.vectorValues);throw new ct(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Li._jsonSchemaVersion="firestore/vectorValue/1.0",Li._jsonSchema={type:Me("string",Li._jsonSchemaVersion),vectorValues:Me("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=/^__.*__$/;class wN{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Es(t,this.data,this.fieldMask,n,this.fieldTransforms):new fu(t,this.data,n,this.fieldTransforms)}}class wS{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Es(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function RS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:r})}}class tg{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new tg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var o;const n=(o=this.path)==null?void 0:o.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){var o;const n=(o=this.path)==null?void 0:o.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return xh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(RS(this.Ac)&&bN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class RN{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||ef(t)}Cc(t,n,s,o=!1){return new tg({Ac:t,methodName:n,Dc:s,path:$e.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eg(r){const t=r._freezeSettings(),n=ef(r._databaseId);return new RN(r._databaseId,!!t.ignoreUndefinedProperties,n)}function CS(r,t,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,n,o);ng("Data must be an object, but it was:",f,s);const m=IS(s,f);let p,y;if(u.merge)p=new In(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const b=op(t,T,n);if(!f.contains(b))throw new ct(X.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);DS(E,b)||E.push(b)}p=new In(E),y=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,y=f.fieldTransforms;return new wN(new on(m),p,y)}class of extends Wp{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof of}}function CN(r,t,n,s){const o=r.Cc(1,t,n);ng("Data must be an object, but it was:",o,s);const u=[],f=on.empty();vs(s,((p,y)=>{const E=ig(t,p,n);y=Xe(y);const T=o.yc(E);if(y instanceof of)u.push(E);else{const b=yu(y,T);b!=null&&(u.push(E),f.set(E,b))}}));const m=new In(u);return new wS(f,m,o.fieldTransforms)}function IN(r,t,n,s,o,u){const f=r.Cc(1,t,n),m=[op(t,s,n)],p=[o];if(u.length%2!=0)throw new ct(X.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(op(t,u[b])),p.push(u[b+1]);const y=[],E=on.empty();for(let b=m.length-1;b>=0;--b)if(!DS(y,m[b])){const P=m[b];let K=p[b];K=Xe(K);const J=f.yc(P);if(K instanceof of)y.push(P);else{const F=yu(K,J);F!=null&&(y.push(P),E.set(P,F))}}const T=new In(y);return new wS(E,T,f.fieldTransforms)}function NN(r,t,n,s=!1){return yu(n,r.Cc(s?4:3,t))}function yu(r,t){if(NS(r=Xe(r)))return ng("Unsupported field value:",t,r),IS(r,t);if(r instanceof Wp)return(function(s,o){if(!RS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=yu(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=Xe(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return pI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=se.fromDate(s);return{timestampValue:Ih(o.serializer,u)}}if(s instanceof se){const u=new se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ih(o.serializer,u)}}if(s instanceof Pi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Cn)return{bytesValue:X0(o.serializer,s._byteString)};if(s instanceof me){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Mp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Li)return(function(f,m){return{mapValue:{fields:{[A0]:{stringValue:b0},[Ah]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Np(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Gh(s)}`)})(r,t)}function IS(r,t){const n={};return y0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vs(r,((s,o)=>{const u=yu(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function NS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof se||r instanceof Pi||r instanceof Cn||r instanceof me||r instanceof Wp||r instanceof Li)}function ng(r,t,n){if(!NS(n)||!p0(n)){const s=Gh(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function op(r,t,n){if((t=Xe(t))instanceof af)return t._internalPath;if(typeof t=="string")return ig(r,t);throw xh("Field path arguments must be of type string or ",r,!1,void 0,n)}const DN=new RegExp("[~\\*/\\[\\]]");function ig(r,t,n){if(t.search(DN)>=0)throw xh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new af(...t.split("."))._internalPath}catch{throw xh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function xh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ct(X.INVALID_ARGUMENT,m+r+p)}function DS(r,t){return r.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new ON(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(OS("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ON extends Ph{data(){return super.data()}}function OS(r,t){return typeof t=="string"?ig(r,t):t instanceof af?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rg{}class MN extends rg{}function xl(r,t,...n){let s=[];t instanceof rg&&s.push(t),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof ag)).length,m=u.filter((p=>p instanceof sg)).length;if(f>1||f>0&&m>0)throw new ct(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class sg extends MN{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new sg(t,n,s)}_apply(t){const n=this._parse(t);return VS(t._query,n),new la(t.firestore,t.converter,Jm(t._query,n))}_parse(t){const n=eg(t.firestore);return(function(u,f,m,p,y,E,T){let b;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ct(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){uT(T,E);const K=[];for(const J of T)K.push(lT(p,u,J));b={arrayValue:{values:K}}}else b=lT(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||uT(T,E),b=NN(m,f,T,E==="in"||E==="not-in");return Oe.create(y,E,b)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class ag extends rg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new ag(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ai.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)VS(f,p),f=Jm(f,p)})(t._query,n),new la(t.firestore,t.converter,Jm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function lT(r,t,n){if(typeof(n=Xe(n))=="string"){if(n==="")throw new ct(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!M0(t)&&n.indexOf("/")!==-1)throw new ct(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ie.fromString(n));if(!gt.isDocumentKey(s))throw new ct(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return bE(r,new gt(s))}if(n instanceof me)return bE(r,n._key);throw new ct(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gh(n)}.`)}function uT(r,t){if(!Array.isArray(r)||r.length===0)throw new ct(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function VS(r,t){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ct(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class xS{convertValue(t,n="none"){switch(ds(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(fs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return vs(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){var s,o,u;const n=(u=(o=(s=t.fields)==null?void 0:s[Ah].arrayValue)==null?void 0:o.values)==null?void 0:u.map((f=>Ee(f.doubleValue)));return new Li(n)}convertGeoPoint(t){return new Pi(Ee(t.latitude),Ee(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Kh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Zl(t));default:return null}}convertTimestamp(t){const n=hs(t);return new se(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ie.fromString(t);Ht(iS(s),9688,{name:t});const o=new Wl(s.get(1),s.get(3)),u=new gt(s.popFirst(5));return o.isEqual(n)||cr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}class VN extends xS{constructor(t){super(),this.firestore=t}convertBytes(t){return new Cn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new me(this.firestore,null,n)}}class io{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ls extends Ph{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(OS("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ls._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ls._jsonSchemaVersion="firestore/documentSnapshot/1.0",ls._jsonSchema={type:Me("string",ls._jsonSchemaVersion),bundleSource:Me("string","DocumentSnapshot"),bundleName:Me("string"),bundle:Me("string")};class fh extends ls{data(t={}){return super.data(t)}}class ta{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new io(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new fh(this._firestore,this._userDataWriter,s.key,s,new io(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new fh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new io(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new fh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new io(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:xN(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ta._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Ap.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function xN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(r){r=Hn(r,me);const t=Hn(r.firestore,gs);return vN(gu(t),r._key).then((n=>US(t,r,n)))}ta._jsonSchemaVersion="firestore/querySnapshot/1.0",ta._jsonSchema={type:Me("string",ta._jsonSchemaVersion),bundleSource:Me("string","QuerySnapshot"),bundleName:Me("string"),bundle:Me("string")};class lf extends xS{constructor(t){super(),this.firestore=t}convertBytes(t){return new Cn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new me(this.firestore,null,n)}}function Pl(r){r=Hn(r,la);const t=Hn(r.firestore,gs),n=gu(t),s=new lf(t);return MS(r._query),EN(n,r._query).then((o=>new ta(t,s,r,o)))}function Dm(r,t,n){r=Hn(r,me);const s=Hn(r.firestore,gs),o=PS(r.converter,t,n);return LS(s,[CS(eg(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ln.none())])}function PN(r){return LS(Hn(r.firestore,gs),[new Wh(r._key,ln.none())])}function LN(r,...t){var p,y,E;r=Xe(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||oT(t[s])||(n=t[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(oT(t[s])){const T=t[s];t[s]=(p=T.next)==null?void 0:p.bind(T),t[s+1]=(y=T.error)==null?void 0:y.bind(T),t[s+2]=(E=T.complete)==null?void 0:E.bind(T)}let u,f,m;if(r instanceof me)f=Hn(r.firestore,gs),m=Yh(r._key.path),u={next:T=>{t[s]&&t[s](US(f,r,T))},error:t[s+1],complete:t[s+2]};else{const T=Hn(r,la);f=Hn(T.firestore,gs),m=T._query;const b=new lf(f);u={next:P=>{t[s]&&t[s](new ta(f,b,T,P))},error:t[s+1],complete:t[s+2]},MS(r._query)}return(function(b,P,K,J){const F=new Xp(J),rt=new Kp(P,F,K);return b.asyncQueue.enqueueAndForget((async()=>Fp(await Vh(b),rt))),()=>{F.Nu(),b.asyncQueue.enqueueAndForget((async()=>Gp(await Vh(b),rt)))}})(gu(f),m,o,u)}function LS(r,t){return(function(s,o){const u=new Vi;return s.asyncQueue.enqueueAndForget((async()=>rN(await yN(s),o,u))),u.promise})(gu(r),t)}function US(r,t,n){const s=n.docs.get(t._key),o=new lf(r);return new ls(r,o,t._key,s,new io(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN={maxAttempts:5};function jl(r,t){if((r=Xe(r)).firestore!==t)throw new ct(X.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=eg(t)}get(t){const n=jl(t,this._firestore),s=new VN(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return Et(24041);const u=o[0];if(u.isFoundDocument())return new Ph(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new Ph(this._firestore,s,n._key,null,n.converter);throw Et(18433,{doc:u})}))}set(t,n,s){const o=jl(t,this._firestore),u=PS(o.converter,n,s),f=CS(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,f),this}update(t,n,s,...o){const u=jl(t,this._firestore);let f;return f=typeof(n=Xe(n))=="string"||n instanceof af?IN(this._dataReader,"Transaction.update",u._key,n,s,o):CN(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,f),this}delete(t){const n=jl(t,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN extends kN{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=jl(t,this._firestore),s=new lf(this._firestore);return super.get(t).then((o=>new ls(this._firestore,s,n._key,o._document,new io(!1,!1),n.converter)))}}function cT(r,t,n){r=Hn(r,gs);const s={...UN,...n};return(function(u){if(u.maxAttempts<1)throw new ct(X.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,f,m){const p=new Vi;return u.asyncQueue.enqueueAndForget((async()=>{const y=await _N(u);new mN(u.asyncQueue,y,m,f,p).ju()})),p.promise})(gu(r),(o=>t(new zN(r,o))),s)}(function(t,n=!0){(function(o){So=o})(To),uo(new na("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new gs(new CC(s.getProvider("auth-internal")),new DC(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ct(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ss(hE,fE,t),ss(hE,fE,"esm2020")})();var jN="firebase",BN="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ss(jN,BN,"app");function kS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qN=kS,zS=new ou("auth","Firebase",kS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=new vp("@firebase/auth");function HN(r,...t){Lh.logLevel<=Ut.WARN&&Lh.warn(`Auth (${To}): ${r}`,...t)}function dh(r,...t){Lh.logLevel<=Ut.ERROR&&Lh.error(`Auth (${To}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(r,...t){throw og(r,...t)}function Ui(r,...t){return og(r,...t)}function jS(r,t,n){const s={...qN(),[t]:n};return new ou("auth","Firebase",s).create(t,{appName:r.name})}function us(r){return jS(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function og(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return zS.create(r,...t)}function At(r,t,...n){if(!r)throw og(t,...n)}function sr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw dh(t),new Error(t)}function dr(r,t){r||sr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function FN(){return hT()==="http:"||hT()==="https:"}function hT(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FN()||rR()||"connection"in navigator)?navigator.onLine:!0}function QN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(t,n){this.shortDelay=t,this.longDelay=n,dr(n>t,"Short delay should be less than long delay!"),this.isMobile=eR()||sR()}get(){return GN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(r,t){dr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$N=new _u(3e4,6e4);function uf(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Ro(r,t,n,s,o={}){return qS(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=lu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:p,...u};return iR()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(y.credentials="include"),BS.fetch()(await FS(r,r.config.apiHost,n,m),y)})}async function qS(r,t,n){r._canInitEmulator=!1;const s={...KN,...t};try{const o=new XN(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw ih(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ih(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw ih(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw ih(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw jS(r,E,y);fr(r,E)}}catch(o){if(o instanceof mr)throw o;fr(r,"network-request-failed",{message:String(o)})}}async function HS(r,t,n,s,o={}){const u=await Ro(r,t,n,s,o);return"mfaPendingCredential"in u&&fr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function FS(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?lg(r.config,o):`${r.config.apiScheme}://${o}`;return YN.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class XN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ui(this.auth,"network-request-failed")),$N.get())})}}function ih(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ui(r,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(r,t){return Ro(r,"POST","/v1/accounts:delete",t)}async function Uh(r,t){return Ro(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function ZN(r,t=!1){const n=Xe(r),s=await n.getIdToken(t),o=ug(s);At(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Yl(Om(o.auth_time)),issuedAtTime:Yl(Om(o.iat)),expirationTime:Yl(Om(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Om(r){return Number(r)*1e3}function ug(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return dh("JWT malformed, contained fewer than 3 sections"),null;try{const o=YT(n);return o?JSON.parse(o):(dh("Failed to decode base64 JWT payload"),null)}catch(o){return dh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function fT(r){const t=ug(r);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof mr&&WN(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function WN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kh(r){var T;const t=r.auth,n=await r.getIdToken(),s=await iu(r,Uh(t,{idToken:n}));At(s==null?void 0:s.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=(T=o.providerUserInfo)!=null&&T.length?GS(o.providerUserInfo):[],f=nD(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!(f!=null&&f.length),y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new up(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function eD(r){const t=Xe(r);await kh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function nD(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function GS(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(r,t){const n=await qS(r,{},async()=>{const s=lu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await FS(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(p.credentials="include"),BS.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rD(r,t){return Ro(r,"POST","/v2/accounts:revokeToken",uf(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):fT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){At(t.length!==0,"internal-error");const n=fT(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await iD(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new ao;return s&&(At(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(At(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(At(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(r,t){At(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ri{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new tD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new up(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await iu(this,this.stsTokenManager.getToken(this.auth,t));return At(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return ZN(this,t)}reload(){return eD(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ri({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await kh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(us(this.auth));const t=await this.getIdToken();return await iu(this,JN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:b,isAnonymous:P,providerData:K,stsTokenManager:J}=n;At(T&&J,t,"internal-error");const F=ao.fromJSON(this.name,J);At(typeof T=="string",t,"internal-error"),$r(s,t.name),$r(o,t.name),At(typeof b=="boolean",t,"internal-error"),At(typeof P=="boolean",t,"internal-error"),$r(u,t.name),$r(f,t.name),$r(m,t.name),$r(p,t.name),$r(y,t.name),$r(E,t.name);const rt=new ri({uid:T,auth:t,email:o,emailVerified:b,displayName:s,isAnonymous:P,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:F,createdAt:y,lastLoginAt:E});return K&&Array.isArray(K)&&(rt.providerData=K.map(at=>({...at}))),p&&(rt._redirectEventId=p),rt}static async _fromIdTokenResponse(t,n,s=!1){const o=new ao;o.updateFromServerResponse(n);const u=new ri({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await kh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];At(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?GS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new ao;m.updateFromIdToken(s);const p=new ri({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new up(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=new Map;function ar(r){dr(r instanceof Function,"Expected a class definition");let t=dT.get(r);return t?(dr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,dT.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}QS.type="NONE";const mT=QS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(r,t,n){return`firebase:${r}:${t}:${n}`}class oo{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=mh(this.userKey,o.apiKey,u),this.fullPersistenceKey=mh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Uh(this.auth,{idToken:t}).catch(()=>{});return n?ri._fromGetAccountInfoResponse(this.auth,n,t):null}return ri._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new oo(ar(mT),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||ar(mT);const f=mh(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let T;if(typeof E=="string"){const b=await Uh(t,{idToken:E}).catch(()=>{});if(!b)break;T=await ri._fromGetAccountInfoResponse(t,b,E)}else T=ri._fromJSON(t,E);y!==u&&(m=T),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new oo(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new oo(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(XS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(KS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ZS(t))return"Blackberry";if(WS(t))return"Webos";if(YS(t))return"Safari";if((t.includes("chrome/")||$S(t))&&!t.includes("edge/"))return"Chrome";if(JS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function KS(r=en()){return/firefox\//i.test(r)}function YS(r=en()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function $S(r=en()){return/crios\//i.test(r)}function XS(r=en()){return/iemobile/i.test(r)}function JS(r=en()){return/android/i.test(r)}function ZS(r=en()){return/blackberry/i.test(r)}function WS(r=en()){return/webos/i.test(r)}function cg(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function sD(r=en()){var t;return cg(r)&&!!((t=window.navigator)!=null&&t.standalone)}function aD(){return aR()&&document.documentMode===10}function tA(r=en()){return cg(r)||JS(r)||WS(r)||ZS(r)||/windows phone/i.test(r)||XS(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(r,t=[]){let n;switch(r){case"Browser":n=pT(en());break;case"Worker":n=`${pT(en())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${To}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lD(r,t={}){return Ro(r,"GET","/v2/passwordPolicy",uf(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=6;class cD{constructor(t){var s;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??uD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=t.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gT(this),this.idTokenSubscription=new gT(this),this.beforeStateQueue=new oD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ar(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await oo.create(this,t),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Uh(this,{idToken:t}),s=await ri._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var u;if(ii(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===m)&&(p!=null&&p.user)&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(f){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await kh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=QN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ii(this.app))return Promise.reject(us(this));const n=t?Xe(t):null;return n&&At(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ii(this.app)?Promise.reject(us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await lD(this),n=new cD(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ou("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await rD(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ar(t)||this._popupRedirectResolver;At(n,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=eA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var n;if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&HN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function cf(r){return Xe(r)}class gT{constructor(t){this.auth=t,this.observer=null,this.addObserver=mR(n=>this.observer=n)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fD(r){hg=r}function dD(r){return hg.loadJS(r)}function mD(){return hg.gapiScript}function pD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(r,t){const n=Tp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ea(u,t??{}))return o;fr(o,"already-initialized")}return n.initialize({options:t})}function yD(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ar);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function _D(r,t,n){const s=cf(r);At(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=nA(t),{host:f,port:m}=vD(t),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){At(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),At(ea(y,s.config.emulator)&&ea(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Eo(f)?(ZT(`${u}//${f}${p}`),WT("Auth",!0)):ED()}function nA(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function vD(r){const t=nA(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:yT(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:yT(f)}}}function yT(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function ED(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return sr("not implemented")}_getIdTokenResponse(t){return sr("not implemented")}_linkToIdToken(t,n){return sr("not implemented")}_getReauthenticationResolver(t){return sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(r,t){return HS(r,"POST","/v1/accounts:signInWithIdp",uf(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="http://localhost";class sa extends iA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new sa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new sa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return lo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,lo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,lo(t,n)}buildRequest(){const t={requestUri:TD,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=lu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends rA{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends vu{constructor(){super("facebook.com")}static credential(t){return sa._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zr.credentialFromTaggedObject(t)}static credentialFromError(t){return Zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zr.credential(t.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return sa._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Wr.credentialFromTaggedObject(t)}static credentialFromError(t){return Wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Wr.credential(n,s)}catch{return null}}}Wr.GOOGLE_SIGN_IN_METHOD="google.com";Wr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends vu{constructor(){super("github.com")}static credential(t){return sa._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ts.credentialFromTaggedObject(t)}static credentialFromError(t){return ts.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ts.credential(t.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends vu{constructor(){super("twitter.com")}static credential(t,n){return sa._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return es.credentialFromTaggedObject(t)}static credentialFromError(t){return es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return es.credential(n,s)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(r,t){return HS(r,"POST","/v1/accounts:signUp",uf(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await ri._fromIdTokenResponse(t,s,o),f=_T(s);return new ys({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=_T(s);return new ys({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function _T(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AD(r){var o;if(ii(r.app))return Promise.reject(us(r));const t=cf(r);if(await t._initializationPromise,(o=t.currentUser)!=null&&o.isAnonymous)return new ys({user:t.currentUser,providerId:null,operationType:"signIn"});const n=await SD(t,{returnSecureToken:!0}),s=await ys._fromIdTokenResponse(t,"signIn",n,!0);return await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh extends mr{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,zh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new zh(t,n,s,o)}}function sA(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?zh._fromErrorAndOperation(r,u,t,s):u})}async function bD(r,t,n=!1){const s=await iu(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return ys._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(r,t,n=!1){const{auth:s}=r;if(ii(s.app))return Promise.reject(us(s));const o="reauthenticate";try{const u=await iu(r,sA(s,o,t,r),n);At(u.idToken,s,"internal-error");const f=ug(u.idToken);At(f,s,"internal-error");const{sub:m}=f;return At(r.uid===m,s,"user-mismatch"),ys._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&fr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RD(r,t,n=!1){if(ii(r.app))return Promise.reject(us(r));const s="signIn",o=await sA(r,s,t),u=await ys._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function CD(r,t,n,s){return Xe(r).onIdTokenChanged(t,n,s)}function ID(r,t,n){return Xe(r).beforeAuthStateChanged(t,n)}const jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=1e3,DD=10;class oA extends aA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);aD()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,DD):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},ND)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}oA.type="LOCAL";const OD=oA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA extends aA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}lA.type="SESSION";const uA=lA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new hf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await MD(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=fg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const b=T;if(b.data.eventId===y)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(){return window}function xD(r){ki().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function PD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LD(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function UD(){return cA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="firebaseLocalStorageDb",kD=1,Bh="firebaseLocalStorage",fA="fbase_key";class Eu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ff(r,t){return r.transaction([Bh],t?"readwrite":"readonly").objectStore(Bh)}function zD(){const r=indexedDB.deleteDatabase(hA);return new Eu(r).toPromise()}function cp(){const r=indexedDB.open(hA,kD);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Bh,{keyPath:fA})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Bh)?t(s):(s.close(),await zD(),t(await cp()))})})}async function vT(r,t,n){const s=ff(r,!0).put({[fA]:t,value:n});return new Eu(s).toPromise()}async function jD(r,t){const n=ff(r,!1).get(t),s=await new Eu(n).toPromise();return s===void 0?null:s.value}function ET(r,t){const n=ff(r,!0).delete(t);return new Eu(n).toPromise()}const BD=800,qD=3;class dA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>qD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hf._getInstance(UD()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await PD(),!this.activeServiceWorker)return;this.sender=new VD(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(s=t[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||LD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await cp();return await vT(t,jh,"1"),await ET(t,jh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>vT(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>jD(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ET(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=ff(o,!1).getAll();return new Eu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dA.type="LOCAL";const HD=dA;new _u(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(r,t){return t?ar(t):(At(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg extends iA{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return lo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return lo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return lo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function GD(r){return RD(r.auth,new dg(r),r.bypassAuthState)}function QD(r){const{auth:t,user:n}=r;return At(n,t,"internal-error"),wD(n,new dg(r),r.bypassAuthState)}async function KD(r){const{auth:t,user:n}=r;return At(n,t,"internal-error"),bD(n,new dg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return GD;case"linkViaPopup":case"linkViaRedirect":return KD;case"reauthViaPopup":case"reauthViaRedirect":return QD;default:fr(this.auth,"internal-error")}}resolve(t){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=new _u(2e3,1e4);class ro extends mA{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ro.currentPopupAction&&ro.currentPopupAction.cancel(),ro.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){dr(this.filter.length===1,"Popup operations only handle one event");const t=fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ro.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,YD.get())};t()}}ro.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="pendingRedirect",ph=new Map;class XD extends mA{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=ph.get(this.auth._key());if(!t){try{const s=await JD(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}ph.set(this.auth._key(),t)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JD(r,t){const n=tO(t),s=WD(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function ZD(r,t){ph.set(r._key(),t)}function WD(r){return ar(r._redirectPersistence)}function tO(r){return mh($D,r.config.apiKey,r.name)}async function eO(r,t,n=!1){if(ii(r.app))return Promise.reject(us(r));const s=cf(r),o=FD(s,t),f=await new XD(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=600*1e3;class iO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!rO(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!pA(t)){const o=((s=t.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ui(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=nO&&this.cachedEventUids.clear(),this.cachedEventUids.has(TT(t))}saveEventToCache(t){this.cachedEventUids.add(TT(t)),this.lastProcessedEventTime=Date.now()}}function TT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function pA({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function rO(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pA(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(r,t={}){return Ro(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oO=/^https?/;async function lO(r){if(r.config.emulator)return;const{authorizedDomains:t}=await sO(r);for(const n of t)try{if(uO(n))return}catch{}fr(r,"unauthorized-domain")}function uO(r){const t=lp(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!oO.test(n))return!1;if(aO.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=new _u(3e4,6e4);function ST(){const r=ki().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function hO(r){return new Promise((t,n)=>{var o,u,f;function s(){ST(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ST(),n(Ui(r,"network-request-failed"))},timeout:cO.get()})}if((u=(o=ki().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)t(gapi.iframes.getContext());else if((f=ki().gapi)!=null&&f.load)s();else{const m=pD("iframefcb");return ki()[m]=()=>{gapi.load?s():n(Ui(r,"network-request-failed"))},dD(`${mD()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw gh=null,t})}let gh=null;function fO(r){return gh=gh||hO(r),gh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=new _u(5e3,15e3),mO="__/auth/iframe",pO="emulator/auth/iframe",gO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _O(r){const t=r.config;At(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?lg(t,pO):`https://${r.config.authDomain}/${mO}`,s={apiKey:t.apiKey,appName:r.name,v:To},o=yO.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${lu(s).slice(1)}`}async function vO(r){const t=await fO(r),n=ki().gapi;return At(n,r,"internal-error"),t.open({where:document.body,url:_O(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gO,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ui(r,"network-request-failed"),m=ki().setTimeout(()=>{u(f)},dO.get());function p(){ki().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TO=500,SO=600,AO="_blank",bO="http://localhost";class AT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wO(r,t,n,s=TO,o=SO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...EO,width:s.toString(),height:o.toString(),top:u,left:f},y=en().toLowerCase();n&&(m=$S(y)?AO:n),KS(y)&&(t=t||bO,p.scrollbars="yes");const E=Object.entries(p).reduce((b,[P,K])=>`${b}${P}=${K},`,"");if(sD(y)&&m!=="_self")return RO(t||"",m),new AT(null);const T=window.open(t||"",m,E);At(T,r,"popup-blocked");try{T.focus()}catch{}return new AT(T)}function RO(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO="__/auth/handler",IO="emulator/auth/handler",NO=encodeURIComponent("fac");async function bT(r,t,n,s,o,u){At(r.config.authDomain,r,"auth-domain-config-required"),At(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:To,eventId:o};if(t instanceof rA){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",dR(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(t instanceof vu){const E=t.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${NO}=${encodeURIComponent(p)}`:"";return`${DO(r)}?${lu(m).slice(1)}${y}`}function DO({config:r}){return r.emulator?lg(r,IO):`https://${r.authDomain}/${CO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="webStorageSupport";class OO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uA,this._completeRedirectFn=eO,this._overrideRedirectResult=ZD}async _openPopup(t,n,s,o){var f;dr((f=this.eventManagers[t._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await bT(t,n,s,lp(),o);return wO(t,u,fg())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await bT(t,n,s,lp(),o);return xD(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(dr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await vO(t),s=new iO(t);return n.register("authEvent",o=>(At(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Mm,{type:Mm},o=>{var f;const u=(f=o==null?void 0:o[0])==null?void 0:f[Mm];u!==void 0&&n(!!u),fr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lO(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return tA()||YS()||cg()}}const MO=OO;var wT="@firebase/auth",RT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PO(r){uo(new na("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;At(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eA(r)},y=new hD(s,o,u,p);return yD(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),uo(new na("auth-internal",t=>{const n=cf(t.getProvider("auth").getImmediate());return(s=>new VO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ss(wT,RT,xO(r)),ss(wT,RT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=300,UO=JT("authIdTokenMaxAge")||LO;let CT=null;const kO=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>UO)return;const o=n==null?void 0:n.token;CT!==o&&(CT=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function zO(r=i0()){const t=Tp(r,"auth");if(t.isInitialized())return t.getImmediate();const n=gD(r,{popupRedirectResolver:MO,persistence:[HD,OD,uA]}),s=JT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=kO(u.toString());ID(n,f,()=>f(n.currentUser)),CD(n,m=>f(m))}}const o=$T("auth");return o&&_D(n,`http://${o}`),n}function jO(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}fD({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Ui("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",jO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PO("Browser");const BO={apiKey:"AIzaSyAumcd0vkm9-73yx8AGfT6SB2NgWMu_76Q",authDomain:"burako-leaderboard.firebaseapp.com",projectId:"burako-leaderboard",storageBucket:"burako-leaderboard.firebasestorage.app",messagingSenderId:"928347273041",appId:"1:928347273041:web:31513f64e5a40b67300570"},gA=n0(BO),ru=SN(gA),IT=zO(gA),qO=async()=>{IT.currentUser||await AD(IT)},Vm=Zp(ru,"players"),xm=Zp(ru,"pairs"),no=Zp(ru,"games"),Pm=r=>r===void 0?null:r,yA=r=>typeof r=="string"?r:r instanceof Date?r.toISOString():r instanceof se?r.toDate().toISOString():new Date().toISOString(),an=(r,t)=>Array.isArray(r)?r:t,HO=r=>{var t,n,s;return{id:r.id,gameId:r.gameId,timestamp:yA(r.timestamp),summary:r.summary,type:r.type,snapshot:{teams:an((t=r.snapshot)==null?void 0:t.teams,[]),scores:an((n=r.snapshot)==null?void 0:n.scores,[]),notes:((s=r.snapshot)==null?void 0:s.notes)??void 0}}},Bl=(r,t)=>({id:t,playedAt:yA(r.playedAt),teams:an(r.teams,[]),scores:an(r.scores,[]),notes:r.notes??void 0,auditTrail:an(r.auditTrail,[]).map(HO)}),rh=(r,t,n)=>{const s={teams:r.map(o=>({...o,canasta:{...o.canasta}})),scores:t.map(o=>({...o}))};return n!==void 0&&(s.notes=n),s};class FO{constructor(){xv(this,"seeded",!1)}async ensureSeedData(){if(this.seeded)return;this.seeded=!0;const[t,n]=await Promise.all([Pl(xl(Vm)),Pl(xl(xm))]);t.empty&&await Promise.all(j1.map(s=>Dm(Xa(Vm,s.id),s,{merge:!0}))),n.empty&&await Promise.all(B1.map(s=>Dm(Xa(xm,s.id),s,{merge:!0})))}async listPlayers(){return await this.ensureSeedData(),(await Pl(xl(Vm))).docs.map(n=>n.data())}async listPairs(){return await this.ensureSeedData(),(await Pl(xl(xm))).docs.map(n=>n.data())}async listGames(){return(await Pl(xl(no))).docs.map(n=>Bl(n.data(),n.id))}async addGame(t){const n=Xa(no),s=n.id,o=t.playedAt??new Date().toISOString(),u=t.notes??void 0,f={id:vm("audit"),gameId:s,timestamp:new Date().toISOString(),summary:"Game recorded",type:"create",snapshot:rh(t.teams,t.scores,u)};await Dm(n,{playedAt:o,teams:t.teams,scores:t.scores,notes:Pm(u),auditTrail:[f]});const m=await Nm(n);return Bl(m.data()??{},s)}async updateGame(t,n){const s=Xa(no,t);await cT(ru,async u=>{const f=await u.get(s);if(!f.exists())throw new Error("Game not found");const m=f.data(),p=an(m.teams,[]),y=an(m.scores,[]),E=m.notes??void 0,T=n.teams??p,b=n.scores??y,P=n.notes!==void 0?n.notes:E,K={id:vm("audit"),gameId:t,timestamp:new Date().toISOString(),summary:"Game updated",type:"update",snapshot:rh(p,y,E)};u.update(s,{teams:T,scores:b,notes:Pm(P),auditTrail:[...an(m.auditTrail,[]),K]})});const o=await Nm(s);if(!o.exists())throw new Error("Game not found");return Bl(o.data(),o.id)}async undoLastChange(t){const n=Xa(no,t);await cT(ru,async o=>{var T,b,P;const u=await o.get(n);if(!u.exists())throw new Error("Game not found");const f=u.data(),m=an(f.auditTrail,[]);if(m.length<=1)throw new Error("Nothing to undo");const p=m[m.length-1],y=rh(an((T=p.snapshot)==null?void 0:T.teams,an(f.teams,[])),an((b=p.snapshot)==null?void 0:b.scores,an(f.scores,[])),((P=p.snapshot)==null?void 0:P.notes)??f.notes??void 0),E={id:vm("audit"),gameId:t,timestamp:new Date().toISOString(),summary:"Undo applied",type:"undo",snapshot:rh(an(f.teams,[]),an(f.scores,[]),f.notes??void 0)};o.update(n,{teams:y.teams,scores:y.scores,notes:Pm(y.notes),auditTrail:[...m.slice(0,-1),E]})});const s=await Nm(n);if(!s.exists())throw new Error("Game not found");return Bl(s.data(),s.id)}async deleteGame(t){await PN(Xa(no,t))}}const GO=(r,t)=>LN(no,n=>{const s=n.docs.map(o=>Bl(o.data(),o.id));r(s)},n=>t(n)),Ja=!0,Js=new FO;let NT;const Ye=z1((r,t)=>({players:[],pairs:[],games:[],loading:!1,initialized:!1,error:void 0,init:async()=>{if(!(t().initialized||t().loading)){r({loading:!0,error:void 0});try{Ja&&await qO();const[n,s,o]=await Promise.all([Js.listPlayers(),Js.listPairs(),Js.listGames()]);Ja&&!NT&&(NT=GO(u=>{r({games:u})},u=>{r({error:u.message})})),r({players:n,pairs:s,games:o,loading:!1,initialized:!0})}catch(n){r({loading:!1,error:n.message})}}},addGame:async n=>{r({loading:!0,error:void 0});try{const s=await Js.addGame(n);return Ja&&r({loading:!1}),s}catch(s){throw r({loading:!1,error:s.message}),s}},updateGame:async(n,s)=>{r({loading:!0,error:void 0});try{const o=await Js.updateGame(n,s);return Ja&&r({loading:!1}),o}catch(o){throw r({loading:!1,error:o.message}),o}},undoLastChange:async n=>{r({loading:!0,error:void 0});try{const s=await Js.undoLastChange(n);return Ja&&r({loading:!1}),s}catch(s){throw r({loading:!1,error:s.message}),s}},deleteGame:async n=>{r({loading:!0,error:void 0});try{await Js.deleteGame(n),Ja&&r({loading:!1})}catch(s){throw r({loading:!1,error:s.message}),s}}}));function QO(){const r=Ye(u=>u.init),t=Ye(u=>u.initialized),n=Ye(u=>u.loading),s=Ye(u=>u.error),o=({isActive:u})=>u?"active":void 0;return Q.useEffect(()=>{r()},[r]),N.jsxs("div",{className:"app-shell",children:[N.jsxs("header",{className:"app-header",children:[N.jsx("div",{className:"app-brand",children:"Burako Scores"}),N.jsxs("nav",{className:"app-nav",children:[N.jsx(Ll,{to:"/leaderboard",className:o,children:"Leaderboard"}),N.jsx(Ll,{to:"/history",className:o,children:"History"}),N.jsx(Ll,{to:"/info",className:o,children:"Info"}),N.jsx(Ll,{to:"/add",className:o,children:"Add Game"})]})]}),N.jsx("main",{className:"app-main",children:n&&!t?N.jsx("div",{className:"status-card",children:"Loading games…"}):N.jsx(n1,{})}),s?N.jsx("div",{className:"status-banner",children:s}):null]})}const un={jokers:50,twos:20,aces:15,threeToSeven:5,eightToKing:10},_A=200,vA=100,EA=100,TA=-100,KO=(r,t)=>r*_A+t*vA,YO=(r,t)=>({winnerBonus:r?EA:0,muertoBonus:t?0:TA}),$O=r=>{const t=[];if(r.cardPoints&&t.push(`Cards ${r.cardPoints}`),r.canastaPoints&&t.push(`Canastas ${r.canastaPoints}`),r.winnerBonus&&t.push(`Winner +${r.winnerBonus}`),r.muertoBonus){const n=r.muertoBonus>0?"+":"";t.push(`Muerto ${n}${r.muertoBonus}`)}return r.minusPoints&&t.push(`Minus -${r.minusPoints}`),t.join(" · ")},XO=({total:r})=>({total:r,breakdown:`Final total ${r}`,components:{cardPoints:0,canastaPoints:0,winnerBonus:0,muertoBonus:0,minusPoints:0}}),SA=r=>{const t=KO(r.cleanCanastas,r.dirtyCanastas),{winnerBonus:n,muertoBonus:s}=YO(r.winner,r.tookMuerto),o={cardPoints:r.cardPoints,canastaPoints:t,winnerBonus:n,muertoBonus:s,minusPoints:r.minusPoints};return{total:r.cardPoints+t+n+s-r.minusPoints,components:o,breakdown:$O(o)}},JO=r=>r.jokers*un.jokers+r.twos*un.twos+r.aces*un.aces+r.threeToSeven*un.threeToSeven+r.eightToKing*un.eightToKing,ZO=r=>{const t=JO(r.cardCounts);return SA({cardPoints:t,cleanCanastas:r.cleanCanastas,dirtyCanastas:r.dirtyCanastas,minusPoints:r.minusPoints,tookMuerto:r.tookMuerto,winner:r.winner})},WO=r=>{const t=XO(r),n={mode:"manual",enteredTotal:r.total,breakdown:t.breakdown,components:t.components};return{total:t.total,detail:n}},tM=r=>{const t=SA(r),n={...r,mode:"summary",calculatedTotal:t.total,breakdown:t.breakdown,components:t.components};return{total:t.total,detail:n}},eM=r=>{const t=ZO(r),n={...r,mode:"cards",cardCounts:{...r.cardCounts},calculatedTotal:t.total,breakdown:t.breakdown,components:t.components};return{total:t.total,detail:n}},nM=[{field:"jokers",label:"Jokers (50 pts)"},{field:"twos",label:"2s (20 pts)"},{field:"aces",label:"Aces (15 pts)"},{field:"threeToSeven",label:"3–7 (5 pts)"},{field:"eightToKing",label:"8–K (10 pts)"}],iM=[{value:"manual",label:"Manual total",description:"Enter the final score directly."},{value:"summary",label:"Summary inputs",description:"Use card points, canastas, winner, bonus, and minuses."},{value:"cards",label:"Card breakdown",description:"Track card counts, canastas, winner, and minus points."}],yh=()=>({jokers:0,twos:0,aces:0,threeToSeven:0,eightToKing:0}),Lm=r=>{const t=r.getTimezoneOffset();return new Date(r.getTime()-t*60*1e3).toISOString().slice(0,16)},Xr=(r="")=>({pairId:r,cleanCanastas:0,dirtyCanastas:0,scoringMode:"manual",manualTotal:0,cardPoints:0,minusPoints:0,tookMuerto:!1,winner:!1,cardCounts:yh()}),rM=r=>r.jokers*un.jokers+r.twos*un.twos+r.aces*un.aces+r.threeToSeven*un.threeToSeven+r.eightToKing*un.eightToKing,Um=r=>{if(r.scoringMode==="manual"){const{total:s,detail:o}=WO({total:r.manualTotal});return{total:s,detail:o}}if(r.scoringMode==="summary"){const{total:s,detail:o}=tM({cardPoints:r.cardPoints===0?rM(r.cardCounts):r.cardPoints,cleanCanastas:r.cleanCanastas,dirtyCanastas:r.dirtyCanastas,minusPoints:r.minusPoints,tookMuerto:r.tookMuerto,winner:r.winner});return{total:s,detail:o}}const{total:t,detail:n}=eM({cardCounts:r.cardCounts,cleanCanastas:r.cleanCanastas,dirtyCanastas:r.dirtyCanastas,minusPoints:r.minusPoints,tookMuerto:r.tookMuerto,winner:r.winner});return{total:t,detail:n}};function sM(){const r=Ye(q=>q.players),t=Ye(q=>q.pairs),n=Ye(q=>q.addGame),s=Ye(q=>q.loading),[o,u]=Q.useState(()=>Xr()),[f,m]=Q.useState(()=>Xr()),[p,y]=Q.useState(""),[E,T]=Q.useState(()=>Lm(new Date)),[b,P]=Q.useState(),[K,J]=Q.useState(),[F,rt]=Q.useState(!1),[at,st]=Q.useState(""),vt=Q.useMemo(()=>new Map(r.map(q=>[q.id,q.name])),[r]),wt=Q.useMemo(()=>new Map(t.map(q=>[q.id,q])),[t]),it=q=>q.players.map(tt=>vt.get(tt)??tt).join(" & "),C=Q.useMemo(()=>Um(o),[o]),R=Q.useMemo(()=>Um(f),[f]),w=Q.useMemo(()=>{const q=[];for(let tt=0;tt<t.length;tt+=1)for(let ht=tt+1;ht<t.length;ht+=1){const ft=t[tt],Ct=t[ht],Ot=new Set([...ft.players,...Ct.players]);if(ft.players.some(ui=>Ct.players.includes(ui))||Ot.size!==4)continue;const Fn=`${it(ft)} vs ${it(Ct)}`;q.push({id:`${ft.id}__${Ct.id}`,pairIds:[ft.id,Ct.id],label:Fn})}return q},[t,vt]);Q.useEffect(()=>{if(w.length===0)return;if(!w.some(tt=>tt.id===at)){const tt=w[0];st(tt.id),u(Xr(tt.pairIds[0])),m(Xr(tt.pairIds[1]))}},[w,at]),Q.useEffect(()=>{if(!at)return;const q=w.find(tt=>tt.id===at);q&&(u(tt=>tt.pairId===q.pairIds[0]?tt:Xr(q.pairIds[0])),m(tt=>tt.pairId===q.pairIds[1]?tt:Xr(q.pairIds[1])))},[w,at]);const O=q=>{st(q.target.value)},M=(q,tt)=>{q==="A"?u(ht=>tt({...ht})):m(ht=>tt({...ht}))},L=(q,tt)=>ht=>{const ft=Number.parseInt(ht.target.value,10),Ct=Number.isNaN(ft)?0:ft,Ot=tt==="manualTotal"?Ct:Math.max(0,Ct);M(q,Bt=>({...Bt,[tt]:Ot}))},I=(q,tt)=>ht=>{const ft=ht.target.checked;M(q,Ct=>({...Ct,[tt]:ft}))},Zt=(q,tt)=>ht=>{const ft=Number.parseInt(ht.target.value,10),Ct=Number.isNaN(ft)?0:Math.max(0,ft);M(q,Ot=>({...Ot,cardCounts:{...Ot.cardCounts,[tt]:Ct}}))},pe=q=>tt=>{const ht=tt.target.value;M(q,ft=>ht==="manual"?{...ft,scoringMode:ht,manualTotal:0,cardPoints:0,minusPoints:0,tookMuerto:!1,winner:!1,cardCounts:yh()}:ht==="summary"?{...ft,scoringMode:ht,cardPoints:0,minusPoints:0,tookMuerto:!1,winner:!1,cardCounts:yh()}:{...ft,scoringMode:ht,minusPoints:0,tookMuerto:!1,winner:!1,cardCounts:yh()})},Y=q=>{q.target.select()},lt=()=>{const q=w.find(tt=>tt.id===at);u(Xr((q==null?void 0:q.pairIds[0])??"")),m(Xr((q==null?void 0:q.pairIds[1])??"")),y(""),T(Lm(new Date))},yt=q=>{const tt=new Map;for(const ht of q){const ft=wt.get(ht.pairId);if(!ft)continue;const Ct=ft.players.length,Ot=Math.floor(ht.totalPoints/Ct);let Bt=ht.totalPoints%Ct;for(const Fn of ft.players){const ui=Bt>0?1:0;Bt>0&&(Bt-=1);const pr=tt.get(Fn)??0;tt.set(Fn,pr+Ot+ui)}}return Array.from(tt.entries()).map(([ht,ft])=>({playerId:ht,points:ft}))},xt=(q,tt)=>{if(!q||!wt.get(q))return;const{total:ft,detail:Ct}=Um(tt);return{pairId:q,totalPoints:ft,canasta:{cleanCanastas:tt.cleanCanastas,dirtyCanastas:tt.dirtyCanastas},scoring:Ct}},Qt=async q=>{if(q.preventDefault(),P(void 0),J(void 0),!o.pairId||!f.pairId){P("Select both teams before submitting.");return}const tt=wt.get(o.pairId),ht=wt.get(f.pairId);if(!tt||!ht){P("Selected teams are unavailable.");return}if(tt.players.some(Bt=>ht.players.includes(Bt))){P("Teams cannot share players. Choose distinct pairings.");return}const Ct=[xt(o.pairId,o),xt(f.pairId,f)];if(Ct.some(Bt=>Bt===void 0)){P("Unable to build team results.");return}const Ot=yt(Ct);try{rt(!0),await n({playedAt:new Date(E).toISOString(),teams:Ct,scores:Ot,notes:p.trim()?p.trim():void 0}),J("Game recorded successfully."),lt()}catch(Bt){P(Bt.message)}finally{rt(!1)}},x=q=>{if(!q)return"—";const tt=wt.get(q);return tt?it(tt):"—"},W=(q,tt,ht)=>{const ft=q==="A"?"teamA":"teamB",Ct=tt.scoringMode==="manual",Ot=tt.scoringMode==="summary";return N.jsxs("section",{className:"team-scoring-card",children:[N.jsxs("header",{className:"team-scoring-card__header",children:[N.jsxs("h2",{children:["Team ",q]}),N.jsx("p",{className:"team-scoring-card__subtitle",children:x(tt.pairId)})]}),N.jsxs("div",{className:"field",children:[N.jsx("span",{className:"field-label",children:"Scoring mode"}),N.jsx("div",{className:"radio-group",children:iM.map(Bt=>N.jsxs("label",{className:"radio-option",children:[N.jsx("input",{type:"radio",name:`scoring-mode-${q}`,value:Bt.value,checked:tt.scoringMode===Bt.value,onChange:pe(q)}),N.jsxs("div",{className:"radio-option__content",children:[N.jsx("span",{className:"radio-option__label",children:Bt.label}),N.jsx("span",{className:"radio-option__description",children:Bt.description})]})]},Bt.value))})]}),Ct?N.jsxs("div",{className:"field",children:[N.jsx("label",{className:"field-label",htmlFor:`${ft}-manual-total`,children:"Manual total"}),N.jsx("input",{id:`${ft}-manual-total`,className:"field-control",type:"number",min:0,value:tt.manualTotal===0?"":tt.manualTotal,onChange:L(q,"manualTotal"),onFocus:Y,placeholder:"0"})]}):N.jsxs(N.Fragment,{children:[N.jsxs("div",{className:"field grid",children:[N.jsx("label",{className:"field-label",htmlFor:`${ft}-clean`,children:"Clean canastas"}),N.jsx("input",{id:`${ft}-clean`,className:"field-control",type:"number",min:0,value:tt.cleanCanastas===0?"":tt.cleanCanastas,onChange:L(q,"cleanCanastas"),onFocus:Y,placeholder:"0"}),N.jsx("label",{className:"field-label",htmlFor:`${ft}-dirty`,children:"Dirty canastas"}),N.jsx("input",{id:`${ft}-dirty`,className:"field-control",type:"number",min:0,value:tt.dirtyCanastas===0?"":tt.dirtyCanastas,onChange:L(q,"dirtyCanastas"),onFocus:Y,placeholder:"0"})]}),Ot?N.jsxs("div",{className:"field",children:[N.jsx("label",{className:"field-label",htmlFor:`${ft}-card-points`,children:"Card points"}),N.jsx("input",{id:`${ft}-card-points`,className:"field-control",type:"number",min:0,value:tt.cardPoints===0?"":tt.cardPoints,onChange:L(q,"cardPoints"),onFocus:Y,placeholder:"0"})]}):N.jsx("div",{className:"field grid",children:nM.map(Bt=>N.jsxs("div",{className:"field",children:[N.jsx("label",{className:"field-label",htmlFor:`${ft}-${Bt.field}`,children:Bt.label}),N.jsx("input",{id:`${ft}-${Bt.field}`,className:"field-control",type:"number",min:0,value:tt.cardCounts[Bt.field]===0?"":tt.cardCounts[Bt.field],onChange:Zt(q,Bt.field),onFocus:Y,placeholder:"0"})]},Bt.field))}),N.jsxs("div",{className:"field",children:[N.jsx("label",{className:"field-label",htmlFor:`${ft}-minus`,children:"Minus points"}),N.jsx("input",{id:`${ft}-minus`,className:"field-control",type:"number",min:0,value:tt.minusPoints===0?"":tt.minusPoints,onChange:L(q,"minusPoints"),onFocus:Y,placeholder:"0"})]}),N.jsxs("div",{className:"field checkbox-row",children:[N.jsxs("label",{className:"checkbox",children:[N.jsx("input",{type:"checkbox",checked:tt.winner,onChange:I(q,"winner")}),"Winner"]}),N.jsxs("label",{className:"checkbox",children:[N.jsx("input",{type:"checkbox",checked:tt.tookMuerto,onChange:I(q,"tookMuerto")}),"Took muerto"]})]})]}),N.jsxs("div",{className:"team-summary",children:[N.jsxs("span",{className:"team-summary__total",children:[ht.total," pts"]}),N.jsx("span",{className:"hint",children:ht.detail.breakdown})]})]})},ut=r.length===4&&w.length>0;return N.jsxs("section",{className:"panel",children:[N.jsxs("header",{className:"panel-header",children:[N.jsx("h1",{children:"Add Game"}),N.jsx("p",{children:"Capture scores, canasta details, and notes for the latest round."})]}),N.jsxs("div",{className:"field",children:[N.jsx("label",{className:"field-label",htmlFor:"played-at",children:"Played at"}),N.jsx("input",{id:"played-at",className:"field-control",type:"datetime-local",value:E,max:Lm(new Date),onChange:q=>T(q.target.value)})]}),N.jsxs("div",{className:"field",children:[N.jsx("label",{className:"field-label",htmlFor:"matchup",children:"Matchup"}),N.jsxs("select",{id:"matchup",className:"field-control",value:at,onChange:O,required:!0,children:[N.jsx("option",{value:"",children:"Select matchup"}),w.map(q=>N.jsx("option",{value:q.id,children:q.label},q.id))]})]}),ut?N.jsxs("form",{className:"form-grid",onSubmit:Qt,children:[N.jsxs("fieldset",{className:"field-set",children:[N.jsx("legend",{children:"Game Setup"}),N.jsxs("div",{className:"field",children:[N.jsx("label",{className:"field-label",htmlFor:"matchup",children:"Matchup"}),N.jsxs("select",{id:"matchup",className:"field-control",value:at,onChange:O,required:!0,children:[N.jsx("option",{value:"",children:"Select matchup"}),w.map(q=>N.jsx("option",{value:q.id,children:q.label},q.id))]})]}),N.jsxs("div",{className:"matchup-summary",children:[N.jsxs("div",{className:"team-chip",children:[N.jsx("span",{className:"team-chip__label",children:"Team A"}),N.jsx("span",{className:"team-chip__value",children:x(o.pairId)})]}),N.jsxs("div",{className:"team-chip",children:[N.jsx("span",{className:"team-chip__label",children:"Team B"}),N.jsx("span",{className:"team-chip__value",children:x(f.pairId)})]})]}),N.jsxs("div",{className:"team-scoring-grid",children:[W("A",o,C),W("B",f,R)]})]}),N.jsxs("div",{className:"field full-width",children:[N.jsx("label",{className:"field-label",htmlFor:"notes",children:"Notes"}),N.jsx("textarea",{id:"notes",className:"field-control",rows:3,value:p,onChange:q=>y(q.target.value),placeholder:"Optional observations or highlights"})]}),b?N.jsx("div",{className:"error-message",children:b}):null,K?N.jsx("div",{className:"success-message",children:K}):null,N.jsxs("div",{className:"form-actions",children:[N.jsx("button",{type:"submit",disabled:F||s,children:F?"Saving…":"Save Game"}),N.jsx("button",{type:"button",className:"secondary",onClick:lt,disabled:F,children:"Reset"})]})]}):N.jsx("div",{className:"status-card",children:"Roster is loading…"})]})}function aM(){return N.jsxs("section",{className:"panel info-panel",children:[N.jsxs("header",{className:"panel-header",children:[N.jsx("h1",{children:"How Burako Scores Works"}),N.jsx("p",{children:"Reference guide for the scoring rules, using the app, and the core features."})]}),N.jsxs("article",{className:"info-section",children:[N.jsx("h2",{children:"Points System"}),N.jsx("p",{children:"The calculator follows the standard Burako scoring rules used by your group:"}),N.jsxs("ul",{className:"info-list",children:[N.jsxs("li",{children:[N.jsx("strong",{children:"Clean canasta:"})," +",_A," points each."]}),N.jsxs("li",{children:[N.jsx("strong",{children:"Dirty canasta:"})," +",vA," points each."]}),N.jsxs("li",{children:[N.jsx("strong",{children:"Going out first:"})," +",EA," point bonus for the winning team."]}),N.jsxs("li",{children:[N.jsx("strong",{children:"Muerto penalty:"})," ",TA,"/player if the team does not pick up the muerto. When a team takes the muerto, the penalty is waived."]}),N.jsxs("li",{children:[N.jsx("strong",{children:"Minus points:"})," Enter any remaining card values at the end of the round; they are subtracted from the team total."]})]}),N.jsxs("details",{className:"info-details",children:[N.jsx("summary",{children:"Card point reference"}),N.jsxs("table",{className:"info-table",children:[N.jsx("thead",{children:N.jsxs("tr",{children:[N.jsx("th",{children:"Card"}),N.jsx("th",{children:"Points"})]})}),N.jsxs("tbody",{children:[N.jsxs("tr",{children:[N.jsx("td",{children:"Jokers"}),N.jsx("td",{children:un.jokers})]}),N.jsxs("tr",{children:[N.jsx("td",{children:"Twos"}),N.jsx("td",{children:un.twos})]}),N.jsxs("tr",{children:[N.jsx("td",{children:"Aces"}),N.jsx("td",{children:un.aces})]}),N.jsxs("tr",{children:[N.jsx("td",{children:"3–7"}),N.jsx("td",{children:un.threeToSeven})]}),N.jsxs("tr",{children:[N.jsx("td",{children:"8–King"}),N.jsx("td",{children:un.eightToKing})]})]})]})]})]}),N.jsxs("article",{className:"info-section",children:[N.jsx("h2",{children:"Recording a Game"}),N.jsxs("ol",{className:"info-steps",children:[N.jsx("li",{children:"Open the Add Game page and choose the matchup."}),N.jsx("li",{children:"Select a scoring mode (manual, summary inputs, or card breakdown)."}),N.jsx("li",{children:"Fill the relevant canasta counts, card totals, minus points, winner, and muerto toggles."}),N.jsx("li",{children:"Add optional notes for extra context."}),N.jsx("li",{children:"Save the game to update the history and leaderboard instantly."})]}),N.jsx("p",{children:"The app divides team totals across players automatically, so you no longer need to enter individual scores."})]}),N.jsxs("article",{className:"info-section",children:[N.jsx("h2",{children:"Key Features"}),N.jsxs("ul",{className:"info-list",children:[N.jsxs("li",{children:[N.jsx("strong",{children:"Smart scoring:"})," Supports manual, summary, and full card-count inputs with automatic breakdowns and validation."]}),N.jsxs("li",{children:[N.jsx("strong",{children:"Instant history:"})," Every saved game appears in the history feed with a detailed audit trail."]}),N.jsxs("li",{children:[N.jsx("strong",{children:"Live leaderboard:"})," Player totals and averages update after each game so standings stay accurate."]}),N.jsxs("li",{children:[N.jsx("strong",{children:"Notes archive:"})," Keep track of highlights or house rules per game for future reference."]}),N.jsxs("li",{children:[N.jsx("strong",{children:"Device-friendly:"})," Works great on tablets at the table and supports install-as-app via PWA."]})]})]})]})}function oM(){const r=Ye(it=>it.games),t=Ye(it=>it.players),n=Ye(it=>it.pairs),s=Ye(it=>it.updateGame),o=Ye(it=>it.undoLastChange),u=Ye(it=>it.deleteGame),f=Ye(it=>it.loading),m=Q.useMemo(()=>new Map(t.map(it=>[it.id,it.name])),[t]),p=Q.useMemo(()=>new Map(n.map(it=>[it.id,it])),[n]),[y,E]=Q.useState(),[T,b]=Q.useState({}),[P,K]=Q.useState(),J=it=>{E(it.id),b(C=>({...C,[it.id]:{scores:Object.fromEntries(it.scores.map(R=>[R.playerId,R.points])),notes:it.notes??""}})),K(void 0)},F=()=>{E(void 0),K(void 0)},rt=(it,C)=>R=>{const w=Number.parseInt(R.target.value,10);b(O=>({...O,[it]:{...O[it],scores:{...O[it].scores,[C]:Number.isNaN(w)?0:w}}}))},at=it=>C=>{const R=C.target.value;b(w=>({...w,[it]:{...w[it],notes:R}}))},st=async it=>{const C=T[it.id];if(!C)return;const R=it.scores.map(O=>({playerId:O.playerId,points:C.scores[O.playerId]??0})),w=it.teams.map(O=>{const M=p.get(O.pairId);if(!M)return O;const L=M.players.reduce((I,Zt)=>I+(C.scores[Zt]??0),0);return{...O,totalPoints:L}});try{await s(it.id,{teams:w,scores:R,notes:C.notes.trim()?C.notes.trim():void 0}),E(void 0),K(void 0)}catch(O){K(O.message)}},vt=async it=>{try{await o(it)}catch(C){K(C.message)}},wt=async it=>{if(window.confirm("Delete this game permanently?"))try{await u(it)}catch(C){K(C.message)}};return r.length===0?N.jsx("div",{className:"panel",children:"No games recorded yet."}):N.jsxs("section",{className:"panel",children:[N.jsxs("header",{className:"panel-header",children:[N.jsx("h1",{children:"Game History"}),N.jsx("p",{children:"Review every round, adjust scores, or undo the latest change."})]}),P?N.jsx("div",{className:"error-message",children:P}):null,N.jsx("div",{className:"history-list",children:r.slice().sort((it,C)=>new Date(C.playedAt).getTime()-new Date(it.playedAt).getTime()).map(it=>{const C=y===it.id,R=T[it.id];return N.jsxs("article",{className:"history-card",children:[N.jsxs("header",{className:"history-card__header",children:[N.jsxs("div",{children:[N.jsxs("h2",{children:["Game on ",new Date(it.playedAt).toLocaleString()]}),N.jsxs("p",{className:"muted",children:["Teams:"," ",it.teams.map(w=>{const O=p.get(w.pairId);return O?`${O.players.map(L=>m.get(L)??L).join(" & ")} (${w.totalPoints} pts)`:w.pairId}).join(" vs ")]})]}),N.jsx("div",{className:"history-card__actions",children:C?N.jsxs(N.Fragment,{children:[N.jsx("button",{type:"button",onClick:()=>st(it),disabled:f,children:"Save"}),N.jsx("button",{type:"button",className:"secondary",onClick:F,disabled:f,children:"Cancel"})]}):N.jsxs(N.Fragment,{children:[N.jsx("button",{type:"button",onClick:()=>J(it),disabled:f,children:"Edit"}),N.jsx("button",{type:"button",className:"secondary",onClick:()=>vt(it.id),disabled:f,children:"Undo"}),N.jsx("button",{type:"button",className:"danger",onClick:()=>wt(it.id),disabled:f,children:"Delete"})]})})]}),C?N.jsxs("div",{className:"history-card__body",children:[N.jsx("div",{className:"scores-grid",children:it.scores.map(w=>N.jsxs("div",{className:"field",children:[N.jsx("label",{className:"field-label",htmlFor:`${it.id}-${w.playerId}`,children:m.get(w.playerId)}),N.jsx("input",{id:`${it.id}-${w.playerId}`,className:"field-control",type:"number",value:(R==null?void 0:R.scores[w.playerId])??w.points,onChange:rt(it.id,w.playerId)})]},w.playerId))}),N.jsxs("div",{className:"field full-width",children:[N.jsx("label",{className:"field-label",htmlFor:`${it.id}-notes`,children:"Notes"}),N.jsx("textarea",{id:`${it.id}-notes`,className:"field-control",rows:3,value:(R==null?void 0:R.notes)??it.notes??"",onChange:at(it.id)})]})]}):N.jsxs("div",{className:"history-card__body",children:[N.jsx("ul",{className:"score-list",children:it.scores.map(w=>N.jsxs("li",{children:[N.jsx("span",{children:m.get(w.playerId)}),N.jsxs("span",{children:[w.points," pts"]})]},w.playerId))}),it.notes?N.jsxs("p",{className:"muted",children:["Notes: ",it.notes]}):null,N.jsxs("details",{className:"audit-trail",children:[N.jsx("summary",{children:"Audit trail"}),N.jsx("ul",{children:it.auditTrail.map(w=>N.jsxs("li",{children:[N.jsx("span",{children:new Date(w.timestamp).toLocaleString()}),N.jsxs("span",{children:[" – ",w.type.toUpperCase(),": ",w.summary]})]},w.id))})]})]})]},it.id)})})]})}function lM(r){const t=new Map;for(const n of r)for(const s of n.scores){const o=t.get(s.playerId)??{playerId:s.playerId,totalPoints:0,gamesPlayed:0,lastPlayedAt:void 0};o.totalPoints+=s.points,o.gamesPlayed+=1,o.lastPlayedAt=n.playedAt,t.set(s.playerId,o)}return Array.from(t.values()).map(n=>({playerId:n.playerId,totalPoints:n.totalPoints,gamesPlayed:n.gamesPlayed,averagePoints:n.gamesPlayed===0?0:Number((n.totalPoints/n.gamesPlayed).toFixed(2)),lastPlayedAt:n.lastPlayedAt}))}function uM(){const r=Ye(o=>o.players),t=Ye(o=>o.games),n=Q.useMemo(()=>lM(t),[t]),s=Q.useMemo(()=>new Map(r.map(o=>[o.id,o.name])),[r]);return n.length===0?N.jsx("div",{className:"panel",children:"No games recorded yet."}):N.jsxs("section",{className:"panel",children:[N.jsx("header",{className:"panel-header",children:N.jsx("h1",{children:"Leaderboard"})}),N.jsxs("table",{className:"table",children:[N.jsx("thead",{children:N.jsxs("tr",{children:[N.jsx("th",{children:"Player"}),N.jsx("th",{children:"Total Points"}),N.jsx("th",{children:"Games"}),N.jsx("th",{children:"Average"}),N.jsx("th",{children:"Last Played"})]})}),N.jsx("tbody",{children:n.map(o=>N.jsxs("tr",{children:[N.jsx("td",{children:s.get(o.playerId)}),N.jsx("td",{children:o.totalPoints}),N.jsx("td",{children:o.gamesPlayed}),N.jsx("td",{children:o.averagePoints}),N.jsx("td",{children:o.lastPlayedAt?new Date(o.lastPlayedAt).toLocaleString():"—"})]},o.playerId))})]})]})}function cM(){return N.jsx(r1,{children:N.jsxs(Jr,{element:N.jsx(QO,{}),children:[N.jsx(Jr,{index:!0,element:N.jsx($v,{to:"/leaderboard",replace:!0})}),N.jsx(Jr,{path:"/leaderboard",element:N.jsx(uM,{})}),N.jsx(Jr,{path:"/history",element:N.jsx(oM,{})}),N.jsx(Jr,{path:"/info",element:N.jsx(aM,{})}),N.jsx(Jr,{path:"/add",element:N.jsx(sM,{})}),N.jsx(Jr,{path:"*",element:N.jsx($v,{to:"/leaderboard",replace:!0})})]})})}hw.createRoot(document.getElementById("root")).render(N.jsx(Q.StrictMode,{children:N.jsx(C1,{basename:"/burako_leaderboard/",children:N.jsx(cM,{})})}));
